if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.i64.neq(a[10],f)?d[0]=a[10]:d[0]=[0,0],(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)||a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))&&!(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)&&a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))?c.seq([function(e){return d[2]=a[4]==null?[-2147483648,0]:a[4],d[3]=a[7]==null?[0,1]:a[7],d[9]=c.i64.gt(d[3],[0,1])&&c.i64.gt(d[2],[-2147483648,0]),c.sp(b("LSGetCursor"),[0,1]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[4]=new c.Map(),d[4].set("cursor",d[1]),d[4].set("filter",a[1]),d[4].set("is_after",a[3]),d[4].set("parent_thread_key",a[0]),d[4].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[4].set("reference_thread_key",a[3]?a[5]:a[4]),d[4].set("secondary_filter",d[0]),c.i64.gt([0,0],[0,0])?d[5]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[5]=[0,0],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",[0,313],d[6],f,f,[0,0],[0,0],f,f,d[5]).then(function(a){return a=a,d[7]=a[0],a})},function(b){return c.ftr(c.db.table(159).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(159).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[2]==null?[-2147483648,0]:d[2],minLastActivityTimestampMs:d[3]==null?[0,1]:d[3],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],maxLastActivityTimestampMs:[0,1],maxThreadKey:[-2147483648,0],isLoadingBefore:d[9],isLoadingAfter:!1,hasMoreBefore:d[9],hasMoreAfter:!1}):(b.item,c.fe(c.ftr(c.db.table(159).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[9],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSUpdateCommunityChannelDirectInvite",["LSIssueNewError","LSIssueNewTaskAndGetTaskID"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?(d[11]=c.localizeV2([0,2285622730],f),d[12]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[11],d[12],f)):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("channel_id",a[0]),d[2].set("state",a[1]),c.i64.gt([0,0],[0,0])?d[3]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[3]=[0,0],d[4]=d[2].get("channel_id"),d[2],d[5]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),["community_channel_invitation","_",c.i64.to_string(d[4])].join(""),[0,463],d[5],f,f,[0,0],[0,0],f,f,d[3]).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[7]=[-1,4294967295]:(b=a.item,d[7]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.fbGroupId)})},function(b){return c.i64.eq(a[1],[0,1])?c.fe(c.ftr(c.db.table(162).fetch(),function(a){return c.i64.eq(a.fbGroupId,d[9])}),function(a){var b=a.update;a.item;return b({joiningChannelTaskId:d[6]})}):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSClearTables",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSInsertRankingContacts",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[4]=(d[1].push("search_contacts"),d[1]),d[4]=(d[1].push(c.i64.to_string(c.i64.of_float(Date.now()))),d[1]),d[2]=c.toJSON(d[1]),d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),d[2],[0,452],d[3],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSIssueSearchQuery",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(67).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(b){return c.db.table(67).add({query:a[0],statusPrimary:[0,1],statusSecondary:[0,1],startTimeMs:c.i64.of_float(Date.now())})},function(e){return d[1]=new c.Map(),d[1].set("query",a[0]),d[1].set("supported_types",a[1]),d[1].set("session_id",a[2]),d[1].set("surface_type",a[3]),d[1].set("group_id",a[4]),d[1].set("thread_id",a[5]),d[2]=c.createArray(),d[7]=(d[2].push("search_primary"),d[2]),d[7]=(d[2].push(c.i64.to_string(c.i64.of_float(Date.now()))),d[2]),d[3]=c.toJSON(d[2]),d[4]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),d[3],[0,30],d[4],f,f,[0,0],[0,0],f,f,[0,0])},function(e){return d[5]=new c.Map(),d[5].set("query",a[0]),d[5].set("supported_types",a[1]),d[5].set("session_id",a[2]),d[5].set("surface_type",a[3]),d[5].set("group_id",a[4]),d[5].set("thread_id",a[5]),d[6]=c.toJSON(d[5]),c.sp(b("LSIssueNewTask"),"search_secondary",[0,31],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql",["CometMessagingJewelCommunitiesQPBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],c=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"]}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],storageKey:null}]},params:{id:b("CometMessagingJewelCommunitiesQPBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelCommunitiesQPBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainerQuery.graphql",["CometMessagingJewelDropdownQPBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],c=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionMessengerNativeAppOnMessengerJewelRendererStrategy"]}],d={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},f={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},h={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},i={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},j={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},k={kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerNativeAppOnMessengerJewelRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerNativeAppOnMessengerJewelRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,e,f,g,h,i,j,k],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionMessengerNativeAppOnMessengerJewelRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,f,g,h,i,j,k],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy","CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy","CometQuickPromotionMessengerWebEPDBannerRendererStrategy","CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy","CometQuickPromotionMessengerNativeAppOnMessengerJewelRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}]},params:{id:b("CometMessagingJewelDropdownQPBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownQPBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MessengerCheckmark.svg.react",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 36 36",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.378 9.169c.597.347.8 1.112.453 1.709l-9 15.5a1.25 1.25 0 0 1-1.965.256l-6.5-6.5a1.25 1.25 0 1 1 1.768-1.768l5.121 5.121a.25.25 0 0 0 .393-.05L24.67 9.621a1.25 1.25 0 0 1 1.709-.453z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerCross.svg.react",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 36 36",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"m12.631 25.138 5.196-5.189a.25.25 0 0 1 .353 0l5.197 5.189a1.241 1.241 0 0 0 1.76 0 1.241 1.241 0 0 0 0-1.761L19.95 18.18a.25.25 0 0 1 0-.354l5.189-5.196a1.241 1.241 0 0 0 0-1.76 1.241 1.241 0 0 0-1.761 0l-5.197 5.188a.25.25 0 0 1-.353 0l-5.196-5.189a1.241 1.241 0 0 0-1.76 0 1.241 1.241 0 0 0 0 1.761l5.188 5.196a.25.25 0 0 1 0 .354l-5.189 5.196a1.241 1.241 0 0 0 0 1.76 1.241 1.241 0 0 0 1.761 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.queryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainerQuery.graphql"),a);var e=c("useQuickPromotionFalcoEvent")({context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainerQuery.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.queryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainerQuery.graphql"),a);var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8439,context_trigger:"messaging_jewel_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchClearSearchResults.bs",["LS.bs","LSClearTables","LSTransaction.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){a=b("LSTransaction.bs").run(c,function(a){return b("LSClearTables")(b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchClearSearchResults.re",["MWChatSearchClearSearchResults.bs"],function(a,b,c,d,e,f){a=b("MWChatSearchClearSearchResults.bs").useHook;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxContextSwitcherGlimmer.react",["BaseGlimmer.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={tabPlaceholder:{borderTopStartRadius:"rt34pxt2",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd",borderBottomStartRadius:"dtqh1a21",display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",justifyContent:"jcxyg2ei"},tabPlaceholderRoot:{display:"alzwoclg",minHeight:"fn8jl2i2",paddingEnd:"r227ecj6",paddingStart:"gt60zsk1",paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq",width:"mmkuidp7"}};function a(a){a=a.xstyle;a=a===void 0?i.tabPlaceholderRoot:a;return h.jsx("div",{className:c("stylex")(a),children:h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.tabPlaceholder),index:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","CometTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","TetraCircleButton.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","useCurrentDisplayMode","uuid"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("Actor").useActor();b=b[0];var e=l(!1),f=l(c("uuid")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";k(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var m=h._("__JHASH___3DTfSod6m3__JHASH__");b=(b=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:b,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);return j.jsx(c("CometTooltip.react"),{align:"end",tooltip:m,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:g,label:m,linkProps:{url:b},onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),a.onClose()},size:32,testid:void 0,type:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","ix","CometTooltip.react","TetraCircleButton.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClose,e=a.testid;e=a.url;a=h._("__JHASH__oavSR1mxJiV__JHASH__");return j.jsx(c("CometTooltip.react"),{align:"end",tooltip:a,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("580260"),20),label:a,linkProps:{url:e},onPress:b,size:32,testid:void 0,type:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchInsertRankingContacts.bs",["LS.bs","LSInsertRankingContacts","LSTransaction.bs","bs_caml","bs_caml_int64","gkx","promiseDone"],function(a,b,c,d,e,f){"use strict";var g={contents:!1},h={contents:!1},i=b("gkx")("4164")?[0,100]:b("bs_caml_int64").zero;function a(a){if(!g.contents&&b("bs_caml").i64_gt(i,b("bs_caml_int64").zero)){g.contents=!0;b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSInsertRankingContacts")(i,b("LS.bs").make(a))},"readWrite"),function(a){h.contents=!0},void 0);return}}function c(a){return h.contents}f.rankingContactsStarted=g;f.rankingContactsDone=h;f.numRankingContacts=i;f.insertRankingContacts=a;f.isDone=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSUseSyncRankings.bs",["LSDatabaseType.bs","MWLSDatabaseLazySync.bs","promiseDone"],function(a,b,c,d,e,f){"use strict";function a(a){return b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking)}var g={contents:!1},h={contents:!1};function c(a){if(!g.contents){g.contents=!0;b("promiseDone")(b("MWLSDatabaseLazySync.bs").sync(a,b("LSDatabaseType.bs").ranking),function(a){h.contents=!0},void 0);return}}function d(a){return h.contents}f.useHook=a;f.rankingSyncStarted=g;f.rankingSyncDone=h;f.sync=c;f.isDone=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchIndexingSource.bs",["MessagingThreadType.bs","ReQL.bs","ReQLSuspense","SortedAsyncIterable.bs","bs_caml","bs_curry"],function(a,b,c,d,e,f){"use strict";function a(a){return b("ReQL.bs").toArray(b("ReQL.bs").fromTableAscending(a.table("contacts")))}function c(a,c){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").fromTableAscending(a.table("contacts")),function(a,d){return b("bs_curry")._2(c,a.hd,d)})}function d(a){return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").group)}))}function e(a,c){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").group)}),function(a,d){return b("bs_curry")._2(c,a.hd,d)})}function g(a,c){var d;return(d=b("ReQL.bs")).toArray(d.map(d.filter(d.fromTableAscending(c.table("participants")),function(c){return b("bs_caml").i64_neq(c.contactId,a)}),function(a){return[a,b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:a.contactId,tl:0}))]}))}function h(a,c,d){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("participants")),function(c){return b("bs_caml").i64_neq(c.contactId,a)}),function(a,c){return b("bs_curry")._3(d,a.hd,a.tl.hd,c)})}f.fetchContacts=a;f.subToContacts=c;f.fetchGroupThreads=d;f.subToGroupThreads=e;f.fetchGroupParticipants=g;f.subToGroupParticipants=h},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchSystem.bs",["CurrentUser","JSScheduler","LS.bs","LSClearTables","LSTransaction.bs","MWChatSearchInsertRankingContacts.bs","MWLSUseSyncRankings.bs","MWPSearchIndexingSource.bs","Promise","bs_caml_format","bs_caml_option","bs_curry","cr:2753","cr:3072","promiseDone","qex","recoverableViolation"],function(a,b,c,d,e,f){"use strict";var g={contents:!1},h={contents:!1},i={contents:!1};e=b("qex")._("84");var j=e==null?!1:e,k=b("cr:2753")==null?void 0:b("bs_caml_option").some(b("cr:2753")),l=b("cr:3072")==null?void 0:b("bs_caml_option").some(b("cr:3072"));function a(a){if(!i.contents){i.contents=!0;b("JSScheduler").scheduleSpeculativeCallback(function(){b("MWChatSearchInsertRankingContacts.bs").insertRankingContacts(a);b("MWLSUseSyncRankings.bs").sync(a);if(l!==void 0||k!==void 0){var c=b("bs_caml_format").caml_int64_of_string(b("CurrentUser").getID());if(!g.contents){g.contents=!0;b("promiseDone")(b("Promise").all([b("MWPSearchIndexingSource.bs").fetchContacts(a),j?b("MWPSearchIndexingSource.bs").fetchGroupThreads(a):b("Promise").resolve([]),j?b("MWPSearchIndexingSource.bs").fetchGroupParticipants(c,a):b("Promise").resolve([])]).then(function(c){var d=c[0];b("cr:3072")==null||b("bs_curry")._4(b("cr:3072").startInitialIndex,a,d,c[1],c[2]);if(!(b("cr:2753")==null))return b("bs_curry")._2(b("cr:2753").startInitialIndex,a,d)}),function(a){h.contents=!0},function(a){b("recoverableViolation")("Error indexing contacts for search","messenger_search",{error:b("bs_caml_option").some(a)})});b("MWPSearchIndexingSource.bs").subToContacts(a,function(a,c){b("cr:2753")==null||b("bs_curry")._2(b("cr:2753").onContactChanged,a,c);if(!(b("cr:3072")==null))return b("bs_curry")._2(b("cr:3072").onContactChanged,a,c)});if(j){b("MWPSearchIndexingSource.bs").subToGroupThreads(a,function(a,c){if(!(b("cr:3072")==null))return b("bs_curry")._2(b("cr:3072").onGroupThreadChanged,a,c)});b("MWPSearchIndexingSource.bs").subToGroupParticipants(c,a,function(c,d,e){if(!(b("cr:3072")==null))return b("bs_curry")._4(b("cr:3072").onGroupParticipantChanged,a,c,d,e)});return}else return}else return}});return}}function c(a){return b("LSTransaction.bs").run(a,function(a){return b("LSClearTables")(b("LS.bs").make(a))},"readWrite")}function d(a){if(b("MWLSUseSyncRankings.bs").isDone(void 0)&&b("MWChatSearchInsertRankingContacts.bs").isDone(void 0))return h.contents;else return!1}f.initialIndexingStarted=g;f.initialIndexingDone=h;f.makeAllStarted=i;f.$MWPSearchOpenIndexer$requireCond=b("cr:3072");f.$MWPSearchSecureIndexer$OR$null$requireCondXplat=b("cr:2753");f.makeAll=a;f.clearAll=c;f.isDone=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchSystem.re",["MWPSearchSystem.bs"],function(a,b,c,d,e,f){a=b("MWPSearchSystem.bs").makeAll;f.makeAll=a;c=b("MWPSearchSystem.bs").clearAll;f.clearAll=c;d=b("MWPSearchSystem.bs").isDone;f.isDone=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelDropdownHeader.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometGlobalPanelLayoutContext","CometGlobalPanelPopoverActiveContext","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MWChatOpenNewTab.re","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWPSearchSystem.re","MessengerDesktopDeepLinkUtils","RoomsLinkCreationSupported","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","emptyFunction","fbicon","gkx","react","useCometPreloader","useMWChatNewVideoChat","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext;function m(a){var b=a.onOpenArchivedChats,e=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var f=h._("__JHASH__wPDFO2UUg3d__JHASH__");return j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenArchivedChats:(b=b)!=null?b:void 0,onOpenMessageRequests:(b=e)!=null?b:void 0,onOpenRestrictedAccountsList:(e=a)!=null?e:void 0},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,e,g,h,k){return j.jsx(c("CometTooltip.react"),{align:"end",tooltip:f,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:f,onHoverIn:g,onHoverOut:h,onPress:b,onPressIn:k,ref:a,size:32,testid:void 0,type:"deemphasized"})})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=d("MWChatOpenNewTab.re").useHook("jewelNewMessage"),f=c("useMWChatNewVideoChat")(a.onClose),g=f[0];f=f[1];var n=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),o=function(){b&&(e()(!1),a.onClose())},p=c("useMWNewChatTabContainerPreload")(),q=p[0],r=p[1],s=c("useReStore")();p=k(function(){return c("MWPSearchSystem.re").makeAll(s)},[s]);var t=c("useCometPreloader")("button_aggressive",c("emptyFunction"),p),u=t[0],v=t[1];t=h._("__JHASH__JTlMNMvbiI7__JHASH__");var w=h._("__JHASH__6-yEucnbb8q__JHASH__"),x=l(c("CometGlobalPanelLayoutContext")),y=l(c("CometGlobalPanelPopoverActiveContext")),z=y.setIsPopoverActive;y=c("gkx")("1123")&&!c("gkx")("1987549")&&d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible()?j.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:a.onClose}):j.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:x?function(){return z(!1)}:a.onClose,testid:void 0,url:a.inboxUrl});return j.jsx(c("CometTopNavListDropdown.react").Title,{actions:[j.jsx(m,{onOpenArchivedChats:a.onOpenArchivedChats,onOpenMessageRequests:a.onOpenMessageRequests,onOpenRestrictedAccountsList:a.onOpenRestrictedAccountsList}),y,d("RoomsLinkCreationSupported").isLinkCreationSupported()?j.jsx(c("CometTooltip.react"),{align:"end",tooltip:w,children:f?j.jsx("div",{className:"h7q9eq3y alzwoclg i85zmo3j",children:j.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("1388374"),20),label:w,onPress:function(){return g("fb_messenger_jewel")},size:32,type:"deemphasized"})}):null,j.jsx(c("CometTooltip.react"),{align:"end",tooltip:t,children:j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("507170"),16),label:t,linkProps:{preventLocalNavigation:b,url:n},onFocusIn:p,onHoverIn:function(a){q(a),u(a)},onHoverOut:function(){r(),v()},onPress:o,size:32,type:"deemphasized"})})].filter(Boolean),onReturn:a.onReturn,title:a.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelMessengerAppLink.react",["fbt","Actor","CometLink.react","MessengerDesktopDeeplinkEventFalcoEvent","TetraText.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","uuid"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=a.onClick,e=k(!1),f=k(c("uuid")()).current;a=d("Actor").useActor();a=a[0];j(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});a=(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:a,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return i.jsx("div",{className:"s92ntd7w ez8dtbzv g495h81m",children:i.jsx(c("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:i.jsx(c("CometLink.react"),{href:a,onClick:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},children:h._("__JHASH__0SfI3JPHppz__JHASH__")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelMessengerLink.react",["fbt","CometLink.react","TetraText.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClick;a=a.url;return i.jsx("div",{className:"s92ntd7w ez8dtbzv g495h81m","data-testid":void 0,children:i.jsx(c("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:i.jsx(c("CometLink.react"),{href:a,onClick:b,children:h._("__JHASH__oavSR1mxJiV__JHASH__")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelNestedFolderThreadListHeader.react",["CometTopNavListDropdown.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometTopNavListDropdown.react").Title,{onReturn:a.onReturn,title:a.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","MDSText.react","TetraText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isUnread;a=a.text;return b?c("CurrentEnvironment").facebookdotcom?h.jsx(c("TetraText.react"),{color:"highlight",numberOfLines:1,type:"bodyLink4",children:a}):c("MDSText.react")!=null?h.jsx(c("MDSText.react"),{color:"primary",numberOfLines:1,type:"entityHeaderMeta3",children:a}):h.jsx(c("TetraText.react"),{color:"primary",numberOfLines:1,type:"bodyLink4",children:a}):h.jsx(c("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","I64","Locale","LsSystemFolderInterop.re","MWJewelThreadSnippet.react","ReQL","ReQLSuspense","TetraIcon.react","TetraListCell.react","fbicon","react","useReStore"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=function(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(d("LsSystemFolderInterop.re").pending).filter(function(a){return d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}).map(function(b){b=b.snippetSenderContactId;if(b!=null){b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b));return b?b.name:void 0}})},[a])};function a(a){var b=a.onOpenMessageRequests;a=a.unreadRequestsCount;var e=h._("__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),f=h._("__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),g=k();g!=null&&(a===1?f=h._("__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",g)]):f=h._("__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",g),h._param("count",a-1)]));return j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},body:j.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSLoadThreadFolderIfNotPresent.bs",["CancellablePromise.bs","CancellationToken.bs","MWLSJewelLoadMoreThreads.bs","Promise","ReQL.bs","bs_caml","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWLSJewelLoadMoreThreads.bs").useHook(a);h.useEffect(function(){var e=b("CancellationToken.bs").make(void 0),f=b("CancellablePromise.bs").ignoreFailed(void 0,b("CancellablePromise.bs").then_(e,function(a){a!==void 0||d();return b("Promise").resolve(void 0)},b("ReQL.bs").first(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("threads_ranges_v2__generated")),function(c){return b("bs_caml").i64_eq(c.parentThreadKey,a)}))));b("promiseDone")(f,void 0,void 0);return e.cancel},[d,c,JSON.stringify(a)])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSJewelMessageRequestsThread.bs",["LsSystemFolder.bs","MWJewelMessageRequestsThread.react","MWLSLoadThreadFolderIfNotPresent.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWJewelMessageRequestsThread.react");c={make:i};function j(a){var c=b("useReStore")();a=b("MWPActor.bs").useActor(void 0);a=h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(c.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:b("LsSystemFolder.bs").pending,tl:0}),function(a){return b("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)})},[c,JSON.stringify(a)]);return b("ReQLSubscription.bs").useArray(a).length}function a(a){b("MWLSLoadThreadFolderIfNotPresent.bs").useHook(b("LsSystemFolder.bs").pending);var c=j(void 0);if(a!==void 0&&c>0)return h.jsx(i,{onOpenMessageRequests:a,unreadRequestsCount:c});else return null}f.RequestsThread=c;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSThreadRangeFilter.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6];f.none=a;f.unreadOnly=c;f.groupsOnly=d;f.igdProPrimary=e;f.igdProGeneral=b;f.pinned=g;f.readButUnresponded=h},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSThreadRangeFilter.re",["LSThreadRangeFilter.bs"],function(a,b,c,d,e,f){c=(a=b("LSThreadRangeFilter.bs")).none;f.none=c;d=a.unreadOnly;f.unreadOnly=d;e=a.groupsOnly;f.groupsOnly=e;b=a.igdProPrimary;f.igdProPrimary=b;c=a.igdProGeneral;f.igdProGeneral=c;d=a.pinned;f.pinned=d;e=a.readButUnresponded;f.readButUnresponded=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWIsXacGroupThread.re",["MWIsXacGroupThread.bs"],function(a,b,c,d,e,f){a=b("MWIsXacGroupThread.bs").check;f.check=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListFocusableTable.react",["FocusTable.react","focusScopeQueries","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var i=a[0];b=a[1];c=a[2];e=function(a){return h.jsx(i,{allowModifiers:!0,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:!0,children:a.children})};g.MWThreadListFocusableTableRow=b;g.MWThreadListFocusableTableCell=c;g.MWThreadListFocusableTableScopeQuery=d("focusScopeQueries").tabbableScopeQuery;g.MWThreadListFocusableTable=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListSupportedThreadTypes.re",["MWThreadListSupportedThreadTypes.bs"],function(a,b,c,d,e,f){a=b("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes;f.supportedThreadTypes=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseThreadList.react",["I64","LS.re","LSFilteredThreadsRangesQuery","LSThreadRangeFilter.re","LSThreadsRangesQuery","MWIsXacGroupThread.re","MWPFolderFocusedManager.re","MWPMarkSeen.re","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes.re","MWXacGating.re","ReQL","ReQLPaginatedList.react","ReQLSuspense","UserActivity","gkx","justknobx","promiseDone","react","regeneratorRuntime","stylex","useReStore","useSimpleImpression","useVisibilityObserver"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef,m={container:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",overflowX:"lq84ybu9",overflowY:"hf30pyar"},emptyContentContainer:{alignItems:"i85zmo3j",display:"alzwoclg",flexGrow:"cgu29s5g",justifyContent:"jcxyg2ei"},list:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",overflowX:"lq84ybu9",overflowY:"hf30pyar"}};function n(a,e,f){c("promiseDone")(a.runInTransaction(function(a){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.table("threads_ranges_v2__generated").get(e));case 2:g=h.sent;if(!(g==null||g.isLoadingBefore)){h.next=5;break}return h.abrupt("return");case 5:f&&f();return h.abrupt("return",c("LSThreadsRangesQuery")(g.parentThreadKey,!0,!1,g.minThreadKey,g.maxThreadKey,g.maxLastActivityTimestampMs,g.minLastActivityTimestampMs,d("I64").zero,c("LS.re").make(a)));case 7:case"end":return h.stop()}},null,this)},"readwrite"))}function o(a,e,f,g,h){f===void 0&&(f=d("LSThreadRangeFilter.re").none),g===void 0&&(g=d("LSThreadRangeFilter.re").none),c("promiseDone")(a.runInTransaction(function(a){var d;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(a.table("filtered_threads_ranges_v2__generated").get(e));case 2:d=i.sent;if(!(d==null||d.isLoadingBefore)){i.next=5;break}return i.abrupt("return");case 5:h&&h();return i.abrupt("return",c("LSFilteredThreadsRangesQuery")(d.parentThreadKey,f,!0,!1,d.minThreadKey,d.maxThreadKey,d.maxLastActivityTimestampMs,d.minLastActivityTimestampMs,void 0,void 0,g,c("LS.re").make(a)));case 7:case"end":return i.stop()}},null,this)},"readwrite"))}function a(a){var b=a.afterContent,e=a.beforeContent,f=a.customThreadFilter_DO_NOT_USE,g=a.emptyContent,p=a.filter,q=a.gridLabel,r=a.onLoadMoreThreads,s=a.onThreadsLoaded,t=a.parentThreadKey,u=a.renderItem,v=a.renderLoadingAnimation,w=a.scrollAreaElementRef,x=a.secondaryFilter,y=a.setIsEmptyInbox,z=c("useReStore")(),A=d("ReQLSuspense").useFirst(function(){if(p==null)return d("ReQL").fromTableDescending(z.table("threads_ranges_v2__generated")).getKeyRange(t);else return d("ReQL").fromTableDescending(z.table("filtered_threads_ranges_v2__generated")).getKeyRange(t).filter(function(a){return d("I64").equal(a.threadRangeFilter,p)&&(!x||d("I64").equal(a.secondaryThreadRangeFilter,x))})},[z,t,p,x]),B=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.table("pinned_threads").index("pinnedTimestamp"))},[z]);a=c("justknobx")._("568");A!=null&&!A.isLoadingBefore&&(s&&s());var C=A!=null?d("I64").equal(A.minLastActivityTimestampMs,d("I64").zero)||d("I64").equal(A.minLastActivityTimestampMs,d("I64").one)||(a?d("I64").equal(A.minLastActivityTimestampMs,d("I64").max_int):!1)?null:A.minLastActivityTimestampMs:null,D=A!=null?d("I64").equal(A.maxLastActivityTimestampMs,d("I64").zero)||d("I64").equal(A.maxLastActivityTimestampMs,d("I64").one)?null:A.maxLastActivityTimestampMs:null,E=k(function(){return{gte:C==null?d("ReQL").key(t):d("ReQL").key(t,C),lte:D==null?d("ReQL").key(t):d("ReQL").key(t,D)}},[D,C,JSON.stringify(t)]),F=k(function(){var a=z.table("threads").index("parentThreadKeyLastActivityTimestampMs");function b(a){return a.filter(function(a){return d("MWThreadListSupportedThreadTypes.re").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1&&(!c("gkx")("2445")||B.findIndex(function(b){return d("I64").equal(a.threadKey,b.threadKey)})===-1)&&(d("MWXacGating.re").isGroupsEnabled()||!d("MWIsXacGroupThread.re").check(a))&&(!f||f(a))})}var e=b(d("ReQL").fromTableAscending(a)),g=b(d("ReQL").fromTableDescending(a));return{entries:function(a,b,c){return(b==="asc"?e:g).iterator(a,c)},keyLength:e.keyLength,subscribe:function(a,b){var c=e.subscribe(function(b,c,d){return a(b,c,d)},b),d=g.subscribe(function(b,c,d){return a(b,c,d)},b);return function(){c(),d()}}}},[z,B,f]),G=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(F).bounds(E)},[E,F])==null;j(function(){y&&y(G)},[G,y]);j(function(){A==null&&c("promiseDone")(z.runInTransaction(function(a){r&&r();if(p==null)return c("LSThreadsRangesQuery")(t,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").zero,c("LS.re").make(a));else return c("LSFilteredThreadsRangesQuery")(t,p,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,void 0,void 0,x,c("LS.re").make(a))},"readwrite"))},[JSON.stringify(t),A,z,p,x]);var H=l(!1);s=c("useVisibilityObserver")({onHidden:function(){H.current=!1},onVisible:function(){H.current=!0}});var I=c("MWPMarkSeen.re").useHook({parentThreadKey:t});d("MWPFolderFocusedManager.re").useWatchFocusChanges({focusFn:I,isVisibleRef:H});c("useSimpleImpression")(I);j(function(){return d("ReQL").fromTableDescending(z.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(t).take(1).subscribe(function(){c("UserActivity").isOnTab()&&H.current===!0&&I()})},[z,JSON.stringify(t),I]);a=i(function(){if(A==null)return;if(!A.threadRangeFilter){var a=d("ReQL").key(A.parentThreadKey,A.minThreadKey,A.minLastActivityTimestampMs);n(z,a,r)}else{a=d("ReQL").key(A.parentThreadKey,A.minThreadKey,A.minLastActivityTimestampMs,A.threadRangeFilter,A.folderName,A.secondaryThreadRangeFilter);o(z,a,p,x,r)}},[z,A,p,x,r]);return A==null?v!=null?v():null:h.jsx("div",{"aria-label":q,className:c("stylex")(m.container),"data-testid":void 0,ref:s,role:"grid",children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:E,direction:"desc",hasReachedBottom:!A.hasMoreBefore,hasReachedTop:!A.hasMoreAfter,onReachingBottom:a,renderEmptyContent:function(){return G&&!A.isLoadingAfter&&!A.isLoadingBefore?h.jsx("div",{className:c("stylex")(m.emptyContentContainer),children:g}):null},renderFooter:function(){return b},renderHeader:function(){return e},renderItem:function(a){return h.jsx(h.Fragment,{children:u(a)},JSON.stringify(a.threadKey))},renderLoadingAnimation:v,scrollAreaElementRef:w,table:F,xstyle:m.list})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseThreadList.bs",["MWPBaseThreadList.react"],function(a,b,c,d,e,f){"use strict";a=b("MWPBaseThreadList.react");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListGlimmer.react",["BaseGlimmer.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("div",{className:"qbvjirod n68fow1o ejhi0i36 pvreidsc alzwoclg","data-testid":void 0,children:[h.jsx(c("BaseGlimmer.react"),{className:"l188yfni mln2r6ah ov5gjlzi nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",index:0}),h.jsxs("div",{className:"jcxyg2ei cgu29s5g cqf1kptm alzwoclg",children:[h.jsx(c("BaseGlimmer.react"),{className:"ezi3dscr mfn553m3 dmdr2h6l ta68dy8c kpwa50dg m0cukt09 h8391g91",index:1}),h.jsx(c("BaseGlimmer.react"),{className:"mnyxl97g eohcrkr5 ta68dy8c kpwa50dg m0cukt09 h8391g91",index:2})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FBGroupChatInviteState.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6];f.accepted=a;f.active=c;f.declinedByReceiver=d;f.ignoredByReceiver=e;f.deletedBySender=b;f.discarded=g},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWGroupInvitesForThread.bs",["LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("group_invites")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))}function c(a){var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),d=b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType);a=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestGroupInvite,a);if(c&&d)return a;else return!1}f.useValue=a;f.isGroupInviteThread=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MDSCircleButton.react","MDSRow.react","MDSRowItem.react","MWPBumpEntityKey.re","MessengerCheckmark.svg.react","MessengerCross.svg.react","SVGIcon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ThY36iiMiSm__JHASH__"),k=h._("__JHASH__IQ1-ytNyqLB__JHASH__");a=function(a){var b=a.onAccept,e=a.onDecline;return i.jsxs(c("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MDSCircleButton.react"),{icon:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react")),label:j,onPress:function(a){d("MWPBumpEntityKey.re").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),b()},size:32})}),i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MDSCircleButton.react"),{icon:d("SVGIcon").svgIcon(c("MessengerCross.svg.react")),label:k,onPress:function(a){d("MWPBumpEntityKey.re").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),e()},size:32})})]})};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSPushPinSvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.39 21.997a.5.5 0 0 0-.485.38l-1.663 6.65c-.322 1.292-2.162 1.291-2.484 0l-1.663-6.65a.5.5 0 0 0-.485-.38h-4.442c-.95 0-1.478-1.064-.972-1.816.419-.62 1.533-2.029 3.589-3.04a.982.982 0 0 0 .536-.811c.099-1.284.334-3.339.435-4.661a.988.988 0 0 0-.465-.918 7.136 7.136 0 0 1-2.075-1.914C10.674 8.07 11.212 7 12.163 7h11.675c.95 0 1.488 1.07.946 1.837-.31.44-.97 1.232-2.075 1.914a.99.99 0 0 0-.465.918c.102 1.322.337 3.377.435 4.661a.982.982 0 0 0 .537.812c2.055 1.01 3.17 2.419 3.588 3.04.506.751-.021 1.816-.971 1.816H21.39Z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSPushPinSvgIcon.re",["MDSPushPinSvgIcon.bs"],function(a,b,c,d,e,f){a=b("MDSPushPinSvgIcon.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelThreadAddOnSecondaryIcons",["cr:1737009"],function(a,b,c,d,e,f,g){"use strict";g.MWJewelThreadAddOnSecondaryIcons=b("cr:1737009")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSMarkThreadAsRead.re",["MWLSMarkThreadAsRead.bs"],function(a,b,c,d,e,f){a=b("MWLSMarkThreadAsRead.bs").useHook;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageDeliveryStatusIcons",["cr:2698"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2698")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadAddOnSecondary.react",["fbt","CometBadge.react","CometPressable.react","CurrentEnvironment","I64","LSMediaUrl.re","LSMessagingThreadTypeUtil.re","MAWGating.re","MDSPushPinSvgIcon.re","MWJewelThreadAddOnSecondaryIcons","MWLSMarkThreadAsRead.re","MWMessageDeliveryStatusIcons","MWPActor.re","ReQL","ReQLSuspense","TetraOverlappingFacepileUnstyled.react","gkx","react","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=c("useReStore")(),e=c("MWPActor.re").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(a.threadKey).bounds({gte:{hd:a.lastActivityTimestampMs,tl:0}}).filter(function(a){a=a.contactId;return!d("I64").equal(a,e)}).take(3).map(function(a){a=a.contactId;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a));return a!=null?{alt:a.name,source:{uri:c("LSMediaUrl.re").Contact.profilePictureUrl(a)}}:null})},[b,e,a.threadKey,a.lastActivityTimestampMs]).filter(Boolean)}function a(a){var b=a.isMuted,e=a.isPinned,f=a.isUnread,g=a.isViewerSender,k=a.lastMessageDeliveryStatusIcon;a=a.thread;var l=c("MWLSMarkThreadAsRead.re").useHook(),m=j(a),n=[];a=c("LSMessagingThreadTypeUtil.re").isSecure(a.threadType)&&c("LSMessagingThreadTypeUtil.re").isGroup(a.threadType);c("gkx")("2445")&&e&&n.push(i.jsx(d("MDSPushPinSvgIcon.re").make,{color:"tertiary",size:"24"}));b&&n.push(d("MWJewelThreadAddOnSecondaryIcons").MWJewelThreadAddOnSecondaryIcons.bell);f?n.push(i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__kxStFVEPa-2__JHASH__"),expanding:!0,onPress:function(a){return l()},children:i.jsx(c("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:c("MAWGating.re").isArmadillo()&&c("CurrentEnvironment").messengerdotcom?10:12})})):g&&(m.length===0?k&&n.push(k):a?n.push(i.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndRead_make,{size:2,xstyle:null})):n.push(i.jsx(c("TetraOverlappingFacepileUnstyled.react"),{count:m.length,isTextInline:!0,items:m,screenReaderLabel:m.length===1?h._("__JHASH__2MhSP-AMGlO__JHASH__",[h._param("=personName",m[0].alt)]):h._("__JHASH__jJBaERf_iKB__JHASH__",[h._param("=numPeople",m.length,[0])]),size:16})));return i.jsx("div",{className:"sr926ui1 alzwoclg i85zmo3j",children:n.map(function(a,b){return i.jsxs(i.Fragment,{children:[b!==0?i.jsx("div",{className:"i1ozlmoo"}):null,a]},"item_"+b.toString(10))})})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListLastMessage.bs",["fbt","CometGlimmer.react","CometMiddot.react","CometRelativeTimestamp.react","LSMessagingThreadTypeUtil.bs","Locale","MAWGating.bs","MAWLoadingStateContext","MDSLockSvgIcon.bs","MWJewelThreadSnippet.react","MWText.react","MWVerticalRhythm.bs","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={timestampMiddot:{marginTop:"m8h3af8h",marginEnd:"qw5erqoo",marginBottom:"kjdc1dyq",marginStart:"r55ey5z8"},lockIconMiddot:{"margin-left":"qgj6wxwx"},lockIcon:{color:"rtxb060y","margin-right":"chz3ka1x"},root:{alignItems:"i85zmo3j",display:"alzwoclg",color:"rtxb060y",minHeight:"p4zypb3t"},rootRtl:{flexDirection:"ov4vj3he"},timestamp:{whiteSpace:"qm54mken"},bodyGlimmer:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",height:"c8uiqf41"},bodyGlimmerSecond:{width:"mnyxl97g"}};function l(a){a=a.timestamp;return j.jsxs(j.Fragment,{children:[j.jsx("span",{className:(i||(i=b("stylex")))(k.timestampMiddot),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:j.jsx(b("CometMiddot.react"),{})})}),j.jsx("span",{"data-testid":"timestamp",className:i(k.timestamp),children:j.jsx(b("CometRelativeTimestamp.react"),{date:new Date(a),format:"minimized"})})]})}c={make:l};function m(a){return j.jsxs(j.Fragment,{children:[j.jsx("span",{className:(i||(i=b("stylex")))(k.lockIconMiddot),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:j.jsx(b("CometMiddot.react"),{})})}),j.jsx("span",{className:i(k.lockIcon),children:j.jsx(b("MDSLockSvgIcon.bs").make,{color:"secondary",size:String(16)})})]})}d={make:m};e={};function a(a){var c=a.hasOngoingCall,d=a.lastMessageTimestamp,e=a.snippet,f=a.isUnread,h=a.showTimestamp;a=a.thread;a=a!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType):!1;var n=j.useContext(b("MAWLoadingStateContext"));if(b("MAWGating.bs").isWebLoadStateEnabled(void 0)&&a&&n)return j.jsx(b("CometGlimmer.react"),{index:1,className:(i||(i=b("stylex")))(k.bodyGlimmer,k.bodyGlimmerSecond)});n=b("MAWGating.bs").isArmadillo(void 0);var o=b("MAWGating.bs").isPresenceEnabled(void 0);return j.jsxs(j.Fragment,{children:[j.jsxs("div",{"data-testid":"threadlist-last-message",className:(i||(i=b("stylex")))(k.root,b("Locale").isRTL()?k.rootRtl:!1),children:[j.jsx(b("MWJewelThreadSnippet.react"),{isUnread:f,text:e}),a&&n&&o?j.jsx(m,{}):null,h&&d!==void 0&&d>0?j.jsx(l,{timestamp:d}):null]}),c?j.jsxs(j.Fragment,{children:[b("MAWGating.bs").isArmadillo(void 0)?j.jsx(b("MWVerticalRhythm.bs").make,{height:5}):null,j.jsx(b("MWText.react"),{color:"positive",type:"body4",numberOfLines:1,children:g._("__JHASH__vQgw_4Xpge6__JHASH__")})]}):null]})}a=a;f.styles=k;f.Timestamp=c;f.LockIcon=d;f.CometGlimmer=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("JSSet.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessageRequestsBulkActionsThreadListItem.bs",["ix","CometPressable.react","JSSet.bs","MWIcon.react","MWPIsThreadUnread.bs","MWUseAriaLabelForThread.bs","MessageRequestsBulkActionsContext.react","bs_curry","bs_int64","fbicon","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pressableContent:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",display:"b6ax4al1",width:"mfclru0v"},selectorWrapper:{display:"alzwoclg",alignItems:"i85zmo3j",paddingTop:"srn514ro",paddingEnd:"ejhi0i36",paddingBottom:"rl78xhln",paddingStart:"qbvjirod"},checkboxWrapper:{paddingRight:"btiejdfb"},threadItemContainerEditMode:{pointerEvents:"l10tt5db",flexGrow:"cgu29s5g",minWidth:"aeinzg81"}};function a(a){var c=a.thread;a=a.threadListCell;var d=j.useContext(b("MessageRequestsBulkActionsContext.react")),e=d.setBulkActionsUnreadSelectedThreads,f=d.setBulkActionsSelectedThreads,h=d.bulkActionsSelectedThreads,l=b("bs_int64").to_string(c.threadKey),m=j.useCallback(function(a){return b("bs_curry")._1(f,function(a){a=new Set(b("JSSet.bs").values(a));if(a["delete"](l))return a;else return a.add(l)})});j.useEffect(function(){b("bs_curry")._1(e,function(a){a=new Set(b("JSSet.bs").values(a));if(b("MWPIsThreadUnread.bs").isThreadUnread(c)&&h.has(l))return a.add(l);else if(b("MWPIsThreadUnread.bs").isThreadUnread(c)){a["delete"](l);return a}else return a})},[h]);d=h.has(l);var n=b("MWUseAriaLabelForThread.bs").useHook(c);return j.jsx(b("CometPressable.react"),{"aria-label":n,role:"checkbox",onPress:function(a){return b("bs_curry")._1(m,void 0)},xstyle:function(a){return[k.pressableContent]},children:j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.selectorWrapper),children:[j.jsx("div",{className:i(k.checkboxWrapper),children:j.jsx(b("MWIcon.react"),{icon:d?b("fbicon")._(g("484757"),20):b("fbicon")._(g("659288"),20),color:d?"highlight":"disabled",hideHoverOverlay:!0})}),j.jsx("div",{className:i(k.threadItemContainerEditMode),children:a})]}),"aria-checked":d})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RTWebInboxJoinOngoingCallIcon.react",["ix","TetraIcon.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(a,b,c){if(b===!0)return k.camcorder[c];switch(a){case"AUDIO_GROUP_CALL":return k.phone[c];case"VIDEO_GROUP_CALL":return k.camcorder[c];default:return null}};function a(a){var b=a.hasActiveRoom,d=a.hidden,e=a.ongoingCallType;a=a.size;a=a===void 0?36:a;if(d)return null;d=j(e,b,a);return d===null?null:i.jsx("div",{className:c("stylex")(m.buttonContainer),children:i.jsx("div",{className:c("stylex")(m.button,l[a]),children:i.jsx(c("TetraIcon.react"),{color:"white",icon:d})})})}a.displayName=a.name+" [from "+f.id+"]";var k={camcorder:{32:d("fbicon")._(h("493173"),16),36:d("fbicon")._(h("493174"),20)},phone:{32:d("fbicon")._(h("558160"),16),36:d("fbicon")._(h("558161"),20)}},l={32:{height:"h7q9eq3y",width:"iryl7rsq"},36:{height:"jvc6uz2b",width:"g90fjkqk"}},m={button:{alignItems:"i85zmo3j",backgroundImage:"nci65seh",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",borderTopWidth:"frfouenu",borderEndWidth:"bonavkto",borderBottomWidth:"djs4p424",borderStartWidth:"r7bn319e",boxSizing:"bdao358l",display:"alzwoclg",justifyContent:"jcxyg2ei",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m",position:"om3e55n1"},buttonContainer:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",boxShadow:"bp8ub9ni",end:"g3uk2xtg",pointerEvents:"ho3chyhf",position:"s8sjc6am",top:"qy9lpsl4",transform:"qgwq1fa1"}};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListItem.bs",["fbt","CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","CometListCellHoverButton.react","CometTextWithEntities.react","CometTransientDialogProvider.react","CommunityChatsActionEnum","CommunityMessagingEnableState.bs","FBGroupChatEventTypes","FBGroupChatInviteState.bs","FBGroupChatSourceTypes","FBID.bs","GroupsCometJoinChatDialog.entrypoint","InteractionTracingMetrics","JSResourceForInteraction","LS.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSTransaction.bs","LSUpdateCommunityChannelDirectInvite","LsMessengerThreadDamagingActionsEntryPoint.bs","LsSystemFolder.bs","MAWGating.bs","MAWGroupInvitesForThread.bs","MDSListCell.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWCMUseShouldGoToFullScreenChat.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatTextTransform.bs","MWLSGetLearningSpaceRoomOnThread.bs","MWLSThreadDisplayContext.bs","MWLSThreadIsPinned.bs","MWLSThreadSnippetForDisplay","MWMessageDeliveryStatusIcons.bs","MWPActor.bs","MWPIsThreadUnread.bs","MWPMessageRowCalculateStatus.bs","MWPThreadListItemInviteAddOn.react","MWSelectedThreadOptionsIdContext.bs","MWText.react","MWThreadAddOnSecondary.react","MWThreadListFocusableTable.react","MWThreadListLastMessage.bs","MWThreadPicture.bs","MWV2OpenTabOrThread.bs","MWV2PreloadThread.bs","MWVerticalRhythm.bs","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem.bs","MessengerMuteUtils.bs","MessengerWebEntryPointsUtil.bs","RTCCallState.bs","RTWebInboxJoinOngoingCallIcon.react","ReQL.bs","ReQLSuspense","UseBlockedUserInterstitial.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","bs_int64","cometPushToast","gkx","promiseDone","qex","react","requireDeferred","stylex","useCometLazyDialog","useGroupsCometCMOffboardingEntryPointDialog","useMatchMedia","useMenuButtonVisibilityState","useReStore","useSimpleImpression"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};d={};var k={listItemContainer:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze",position:"om3e55n1"},listItemContainerForMessengerDotCom:{paddingEnd:"i5oewl5a",paddingStart:"nnzkd6d7"}},l=b("requireDeferred")("C4gEngagementFalcoEvent.bs").__setRef("MWThreadListItem.bs");function m(a,c,d,e){l.onReady(function(f){return b("bs_curry")._1(f.log,function(){return{action:b("CommunityChatsActionEnum").TAP,event:d,source:e,surface:b("FBGroupChatSourceTypes").CHAT_ROW,group_id:b("FBID.bs").ofString(c),thread_id:b("FBID.bs").ofString(a),parent_surface:"channel_list"}})})}var n=b("requireDeferred")("MWThreadListHoverButtonDropdownMenu.bs").__setRef("MWThreadListItem.bs");function a(a){var c=a.messagingEntrypoint,d=a.onClose,e=a.onThreadSelected,f=a.selected,h=a.thread,l=a.responsive,o=a.lsEntryPoint,p=a.renderAddOnEnd,q=a.renderThreadPhoto,r=a.renderThreadTitle;a=a.renderThreadSubtitle;var s=d!==void 0?d:function(a){},t=e!==void 0?e:function(a){},u=q!==void 0?q:function(a){return j.jsx(b("MWThreadPicture.bs").make,{photoSize:b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType)||b("gkx")("571")?"s_48":"s_56",badgeSize:b("gkx")("571")?10:14,thread:a})},v=r!==void 0?r:function(a){return j.jsx(b("LSThreadTitle.bs").make,{thread:a})},w=a!==void 0?a:function(a){return j.jsx(b("MWThreadListLastMessage.bs").make,{hasOngoingCall:b("bs_caml").i64_neq(a.ongoingCallState,b("LSRtcCallState.bs").noOngoingCall),lastMessageTimestamp:b("bs_caml_int64").to_float(a.lastActivityTimestampMs),snippet:b("MWLSThreadSnippetForDisplay").MWLSThreadSnippetForDisplay(a),isUnread:b("MWPIsThreadUnread.bs").isThreadUnread(a),showTimestamp:!b("MWCMThreadTypes.bs").isUnjoinedCMThread(a.threadType),thread:a})};b("useSimpleImpression")(function(a){a=b("LSMessagingThreadTypeUtil.bs").isSecure(h.threadType);var c=b("InteractionTracingMetrics").currentInteractionLogger();return b("bs_curry")._2(c.addMetadata,"hasSecureThread",a?1:0)});var x=b("LSMessagingThreadTypeUtil.bs").isSecure(h.threadType),y=b("LSMessagingThreadTypeUtil.bs").isGroup(h.threadType),z=b("MAWGroupInvitesForThread.bs").isGroupInviteThread(h),A=b("MWV2OpenTabOrThread.bs").useHook(void 0);d=j.useRef(null);e=j.useMemo(function(){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(h.threadKey))},[h]);var B=b("useMatchMedia")("(min-width: 900px)")||!l,C=b("useReStore")();q=b("useGroupsCometCMOffboardingEntryPointDialog")(void 0);var D=q[0];r=b("useCometLazyDialog")(b("JSResourceForInteraction")("MAWGroupInviteDialog.react",{name:"MAWGroupInviteDialog.react","class":"fluid"}).__setRef("MWThreadListItem.bs"));var E=r[0];a=b("MWLSGetLearningSpaceRoomOnThread.bs").useHook(h);l=a[2];q=b("MWPActor.bs").useActor(void 0);var F=b("MWPIsThreadUnread.bs").isThreadUnread(h),G=b("MWCMThreadTypes.bs").isUnjoinedCMThread(h.threadType);r=j.useMemo(function(){return b("MessengerMuteUtils.bs").calcMuteUntilMs(h)},[h]);a=h.snippetSenderContactId;var H=a!==void 0?b("bs_caml").i64_eq(a,q):!1,I=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(r);a=b("useMenuButtonVisibilityState")(!0);q=a[1];var J=q.setMenuBtnFocused,K=q.setListItemHovered,L=b("MWCMThreadTypes.bs").isAnyCMThread(h.threadType),M=b("MWCMThreadTypes.bs").isBroadcastThread(h.threadType),N=b("bs_caml").i64_eq(h.parentThreadKey,b("LsSystemFolder.bs").inbox),O=N?B:!G,P=j.useCallback(function(a){return b("bs_curry")._1(K,!1)},[K]),Q=j.useCallback(b("bs_curry").__1(J),[J]),R=b("MWLSThreadIsPinned.bs").useHook(void 0),aa=j.useCallback(function(a){return b("bs_curry")._1(K,!0)},[K]),S=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(C.table("messages").index("messageDisplayOrder")),{hd:h.threadKey,tl:0})},[h.threadKey]),T=b("MWV2PreloadThread.bs").useHook(h.threadKey,x),ba=T[1],ca=T[0];T=b("bs_caml").i64_neq(h.ongoingCallState,b("LSRtcCallState.bs").noOngoingCall);var U=h.additionalThreadContext,da=j.useMemo(function(){if(U!==void 0)return j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{color:"secondary",type:"meta4",numberOfLines:1,children:j.jsx(b("CometTextWithEntities.react"),{text:U,transforms:b("MWChatTextTransform.bs").epdTextTransforms}),testid:"eyebrowtext_message_request_v2"}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8})]});else return null},[U]),V=b("MWCMUseFolder.bs").useHook(h),W=j.useMemo(function(){if(V!==void 0&&L)return[V.fbGroupId,V.enableState,V.disableTimestamp];else return[void 0,void 0,void 0]},[e]),ea=W[2],X=W[0],fa=b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(W[1],b("CommunityMessagingEnableState.bs").enabled),b("CommunityMessagingEnableState.bs").disableRequested),ga=h.folderName==="inbox"?b("LsMessengerThreadDamagingActionsEntryPoint.bs").inboxThreadList:h.folderName==="pending"?b("LsMessengerThreadDamagingActionsEntryPoint.bs").pendingThreadList:b("LsMessengerThreadDamagingActionsEntryPoint.bs").spamThreadList,ha=b("UseBlockedUserInterstitial.bs").useHook(h.threadKey),ia=function(a){b("bs_curry")._2(ha,function(c){c=a?A.openInbox:b("bs_curry")._1(A.openTabOrInbox,!0);return b("bs_curry")._2(c,{threadKey:h.threadKey,clientThreadKey:h.clientThreadKey,threadType:h.threadType},o)},ga);return b("bs_curry")._1(s,void 0)};W=b("MWLSThreadDisplayContext.bs").useHook(void 0);W=W!==void 0?W==="Inbox":!1;var Y=j.useContext(b("MessageRequestsBulkActionsContext.react"));Y=Y.isBulkActionsEditMode;var Z=b("MWCMUseShouldGoToFullScreenChat.bs").useHook(void 0);b("MWV2OpenTabOrThread.bs").usePreloadRoute(h.threadKey,h.threadType);var $=b("bs_belt_Option").getWithDefault(h.hasPendingInvitation,!1),ja=function(a){a=b("LSTransaction.bs").run(C,function(a){return b("LSUpdateCommunityChannelDirectInvite")(h.threadKey,b("FBGroupChatInviteState.bs").declinedByReceiver,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0);m(b("bs_int64").to_string(h.threadKey),b("bs_int64").to_string(b("bs_belt_Option").getWithDefault(X,b("bs_caml_int64").zero)),b("FBGroupChatEventTypes").INVITE_DECLINED,b("FBGroupChatSourceTypes").DIRECT_INVITE_JOIN_BUTTON);b("cometPushToast").cometPushSimpleToast(g._("__JHASH__vizVk7uvyTi__JHASH__").toString())},ka=!b("MWCMThreadTypes.bs").isAnyCMThread(h.threadType)||b("MessengerWebEntryPointsUtil.bs").getEntryPointHasGroupNameAsThreadSnippet(o)?!1:b("qex")._("471")===!0;Z=j.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("GroupsCometJoinChatDialog.entrypoint"),otherProps:{shouldGoToMessenger:Z,invited:$},preloadParams:{groupID:b("bs_int64").to_string(b("bs_belt_Option").getWithDefault(X,b("bs_caml_int64").zero)),threadID:b("bs_int64").to_string(h.threadKey)},fallback:function(a){return j.jsx(b("CometCardedDialogLoadingState.re").make,{})},children:function(a){var c,d=0;p!==void 0?c=b("bs_curry")._1(p,h):$?c=j.jsx(b("MWPThreadListItemInviteAddOn.react"),{onAccept:function(c){m(b("bs_int64").to_string(h.threadKey),b("bs_int64").to_string(b("bs_belt_Option").getWithDefault(X,b("bs_caml_int64").zero)),b("FBGroupChatEventTypes").INVITE_ACCEPTED,b("FBGroupChatSourceTypes").DIRECT_INVITE_DECLINE_BUTTON);return b("bs_curry")._1(a,void 0)},onDecline:ja}):B||!N?d=1:c=null;d===1&&(c=j.jsx(b("MWThreadAddOnSecondary.react"),{isUnread:F,isMuted:I,isPinned:R,isViewerSender:H,lastMessageDeliveryStatusIcon:S!==void 0&&!(M&&b("gkx")("6159"))?j.jsx(b("MWPMessageRowCalculateStatus.bs").make,{children:function(a){if(typeof a!=="number")return null;switch(a){case 1:return j.jsx(b("MWMessageDeliveryStatusIcons.bs").Sending.make,{size:2,xstyle:!1});case 2:return j.jsx(b("MWMessageDeliveryStatusIcons.bs").Sent.make,{size:2,xstyle:!1});case 3:return j.jsx(b("MWMessageDeliveryStatusIcons.bs").Delivered.make,{size:2,xstyle:!1});case 4:return j.jsx(b("MWMessageDeliveryStatusIcons.bs").$$Error.make,{size:2,xstyle:!1});case 0:case 5:case 6:return null}},message:S,nextMessage:void 0,isBroadcastThread:M,isSecureGroupThread:x&&y}):null,thread:h}));return j.jsx(b("MDSListCell.react"),{addOnStart:b("bs_curry")._1(u,h),addOnEnd:c,content:B||!N?j.jsxs(j.Fragment,{children:[da,j.jsx(b("MWText.react"),{color:"primary",type:F?b("gkx")("571")?"entityHeaderMeta1":"headlineEmphasized4":b("gkx")("571")?"headline4":"body3",numberOfLines:1,children:b("bs_curry")._1(v,h)}),b("MWCMThreadTypes.bs").isJoinedCMThread(h.threadType)&&ka?null:j.jsxs(j.Fragment,{children:[j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),b("bs_curry")._1(w,h)]})]}):null,selected:f,size:"large",onHoverIn:ca,onHoverOut:ba,onFocusChange:Q,onPress:function(c){if(G)if(fa)return D({targetDate:b("bs_caml_int64").to_int32(b("bs_belt_Option").getWithDefault(ea,b("bs_caml_int64").zero))},function(a){});else return b("bs_curry")._1(a,void 0);else{b("MAWGating.bs").isGroupInvitesEnabled(void 0)&&z?E({thread:h,onClose:function(a){}},function(a){}):ia(c.metaKey||c.ctrlKey||c.shiftKey);return b("bs_curry")._1(t,void 0)}},linkProps:{preventLocalNavigation:!0,url:b("bs_curry")._2(A.getUrlFromThreadKey,h.threadKey,h.threadType)},"aria-current":f?"page":"false"})}},b("bs_int64").to_string(h.threadKey));if(O){if(Y)O=null;else{a={hidden:!a[0],onFocusChange:J,onHoverChange:q.setMenuBtnHovered,onMenuStateChange:q.setMenuOpened,popoverResource:n,popoverProps:{fbid:e,isUnread:F,mutedUntil:r/1e3,onCloseJewel:s,messagingEntrypoint:c,thread:h,selected:f,groupId:b("bs_int64").to_string(b("bs_belt_Option").getWithDefault(X,b("bs_caml_int64").zero))},popoverTriggerType:"lazy",testid:"mwthreadlist-menu-id-"+e};J=b("gkx")("571")?32:void 0;J!==void 0&&(a.size=J);O=j.jsx(b("CometListCellHoverButton.react"),a)}q=j.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsxs("div",{role:"gridcell",children:[j.jsx(b("RTWebInboxJoinOngoingCallIcon.react"),{hasActiveRoom:l,hidden:!T&&!l,ongoingCallType:b("RTCCallState.bs").ofLsRtcCallState(h.ongoingCallState,h.threadType),size:32}),O]})})}else q=null;r=j.jsx("div",{"data-testid":x?"mwthreadlist-item-secure":"mwthreadlist-item-open",children:j.jsx("div",{className:(i||(i=b("stylex")))(k.listItemContainer,b("gkx")("571")?k.listItemContainerForMessengerDotCom:!1),onMouseEnter:aa,onMouseLeave:P,role:"row","data-testid":"mwthreadlist-item",children:j.jsxs(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[j.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsx("div",{role:"gridcell",ref:d,children:Y?j.jsx(b("MessageRequestsBulkActionsThreadListItem.bs").make,{thread:h,threadListCell:Z}):Z})}),q]})})});if(W)return j.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{children:j.jsx(b("CometTransientDialogProvider.react"),{children:r}),threadId:h.threadKey});else return r}e=j.memo(a);f.RTWebInboxJoinOngoingCallIcon=c;f.MWPThreadListItemInviteAddOn=d;f.styles=k;f.$C4gEngagementFalcoEvent$Deferred=l;f.logInviteAcceptOrDecline=m;f.$MWThreadListHoverButtonDropdownMenu$Deferred=n;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListFolderItem.bs",["CometTextWithEntities.react","MDSListCell.react","MDSTextPairing.react","MWAddOnCircleContainer.react","MWCMThreadTypes.bs","MWChatTextTransform.bs","MWPIsThreadUnread.bs","MWText.react","MWThreadListFocusableTable.react","MWThreadListLastMessage.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","stylex","useMatchMedia","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={listCell:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"}};function a(a){var c=a.size,d=a.thread,e=a.responsive,f=a.onClick,g=a.selectedThreadKey,k=a.systemFolder,l=a.icon,m=a.threadName;a=b("useMatchMedia")("(min-width: 900px)")||!e;var n=b("useReStore")();e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(g!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(n.table("threads")),{hd:g,tl:0}),function(a){return b("bs_caml").i64_eq(a.parentThreadKey,k)});else return b("SortedAsyncIterable.bs").empty(void 0)},[g,d])));var o=i.useMemo(function(){var a=d.snippet;if(a!==void 0)return a;else return null},[d]),p=b("bs_caml_int64").to_float(d.lastActivityTimestampMs),q=b("MWPIsThreadUnread.bs").isThreadUnread(d),r=d.threadName,s=i.useMemo(function(){return i.jsx(b("MWAddOnCircleContainer.react"),{size:function(){switch(c){case"s_28":return 28;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56}}(),children:l})},[c]),t=i.useMemo(function(){return b("bs_belt_Option").getWithDefault(r,m)},[r]),u=i.useMemo(function(){return i.jsx(b("MWText.react"),{color:"primary",type:q?"headlineEmphasized4":"body3",numberOfLines:1,children:i.jsx(b("CometTextWithEntities.react"),{text:t.toString(),transforms:b("MWChatTextTransform.bs").epdTextTransforms})})},[q,t]),v=i.useCallback(function(a){return b("bs_curry")._1(f,void 0)},[f]);s=i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:i.jsx("div",{role:"gridcell",className:(h||(h=b("stylex")))(j.listCell),children:i.jsx(b("MDSListCell.react"),{addOnStart:s,content:i.jsx(b("MDSTextPairing.react"),{body:a?i.jsx(b("MWThreadListLastMessage.bs").make,{hasOngoingCall:!1,lastMessageTimestamp:p,snippet:o,isUnread:q,showTimestamp:!b("MWCMThreadTypes.bs").isUnjoinedCMThread(d.threadType)}):null,headline:a?u:null,level:4,bodyLineLimit:1,headlineLineLimit:1,reduceEmphasis:!q}),selected:e,size:"large",onPress:v})})})})});p={children:s};return i.jsx("div",(p["data-testid"]="mwthreadlist-item",p))}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListJobsItem.bs",["fbt","ix","LsSystemFolder.bs","MWIcon.react","MWThreadListFolderItem.bs","bs_curry","fbicon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.size,d=a.thread,e=a.responsive,f=a.onClick;a=a.selectedThreadKey;var i=function(a){return b("bs_curry")._1(f,b("LsSystemFolder.bs").jobs)};return j.jsx(b("MWThreadListFolderItem.bs").make,{size:c,thread:d,responsive:e,onClick:i,selectedThreadKey:a,systemFolder:b("LsSystemFolder.bs").jobs,icon:j.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("512668"),32),color:"primary",size:56}),threadName:g._("__JHASH__fyt3EBzeQRx__JHASH__")})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadList.bs",["fbt","BootloaderResource","CometPlaceholder.react","FBID.bs","FocusRegion.react","JSResource","LSMessagingThreadTypeUtil.bs","LsSystemFolder.bs","MWIsXacGroupThread.bs","MWLSJewelMessageRequestsThread.bs","MWPBaseThreadList.bs","MWPBumpEntityKey.bs","MWPThreadIsPage.bs","MWPThreadsForThreadList.bs","MWText.react","MWThreadKey.bs","MWThreadListGlimmer.react","MWThreadListItem.bs","MWThreadListJobsItem.bs","MWThreadListSupportedThreadTypes.bs","MWThread_DEPRECATED.bs","MWXacGating.bs","MessagingThreadType.bs","MessengerWebEntryPoint","ReQL.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:12211","cr:1913","cr:2052","cr:3893","cr:9873","gkx","qex","react","recoverableViolation","stylex","useCometUniqueID","useReStore","useSimpleImpression"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("cr:2052")==null?void 0:b("bs_caml_option").some(b("cr:2052")),l=b("cr:1913")==null?void 0:b("bs_caml_option").some(b("cr:1913")),m=b("cr:12211")==null?void 0:b("bs_caml_option").some(b("cr:12211")),n=b("JSResource")("MWThreadListNullState.bs").__setRef("MWThreadList.bs");function a(a,b){return{parentThreadKey:a}}function o(a){return j.createElement(b("BootloaderResource").read(n).make,a)}a={reasonResource:n,makeProps:a,make:o};function c(a){b("useSimpleImpression")(a)}var p={container:{flexGrow:"cgu29s5g",flexDirection:"cqf1kptm",overflowX:"lq84ybu9",overflowY:"hf30pyar",display:"alzwoclg"},emptyInbox:{paddingTop:"g4qalytl",paddingEnd:"r227ecj6",paddingBottom:"ez8dtbzv",paddingStart:"gt60zsk1"}};function q(a){j.useEffect(function(){b("recoverableViolation")("Unknown thread type","comet_messenger")},[]);return null}var r={make:q};function s(a){var c=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),d=a.threadType;a=a.cannotUnsendReason;if(a!==void 0&&b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_eq(a,[0,4]))return{NAME:"Page",VAL:c};if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(d))return{NAME:"User",VAL:c};else if(b("LSMessagingThreadTypeUtil.bs").isGroup(d))return{NAME:"Group",VAL:c};else return}var t=b("qex")._("26")===!1&&b("gkx")("1950")===!1;function d(a){var c=a.thread,d=a.messagingEntrypoint,e=a.lsEntryPoint,f=a.onClose,g=a.responsive,h=a.onClickNestedFolderThread;a=a.selectedThreadKey;if(b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").folder)){var i=c.threadKey;if(!b("bs_caml").i64_eq(i,b("LsSystemFolder.bs").mplace))if(b("bs_caml").i64_eq(i,b("LsSystemFolder.bs").jobs))return j.jsx(b("MWThreadListJobsItem.bs").make,{size:"s_56",thread:c,responsive:g,onClick:h,selectedThreadKey:a});else return null;if(b("cr:2052")==null){if(b("cr:1913")==null)return null;i=l}else i=k;if(t===!0)return j.jsx(i.make,{size:"s_56",thread:c,responsive:g,onClick:h,selectedThreadKey:a});else return null}i=s(c);if(i!==void 0)return j.jsx(b("MWThread_DEPRECATED.bs").make,{id:i,children:j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWPThreadIsPage.bs").make,{threadKey:c.threadKey,children:j.jsx(b("MWThreadKey.bs").make,{id:c.threadKey,children:j.jsx(b("MWThreadListItem.bs").make,{messagingEntrypoint:d,onClose:f,selected:b("bs_caml_obj").caml_equal(a,c.threadKey),size:56,thread:c,responsive:g,lsEntryPoint:e})})}),fallback:j.jsx(b("MWThreadListGlimmer.react"),{})})});else return j.jsx(q,{})}var u=j.memo(d);d={make:u};var v=b("cr:12211")==null?function(a){}:m.useHook;function e(a){var c=a.parentThreadKey,d=a.header,e=a.onOpenMessageRequests,f=a.threadListMessagingEntrypoint,h=a.selectedThreadKey,k=a.onClose,l=a.responsive,m=a.preamble,n=a.lsEntryPoint,q=a.onClickNestedFolderThread,r=a.gridLabel,s=a.setHasScrolled;a=a.setIsEmptyInbox;var t=k!==void 0?k:function(a){};k=m!==void 0?b("bs_caml_option").valFromOption(m):null;var w=q!==void 0?q:function(a){},x=b("useReStore")(),y=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(x.table("threads_ranges_v2__generated")),{hd:c,tl:0})},[x,c]);m=b("ReQLSuspense").useArray(function(){return b("ReQL.bs").take(b("ReQL.bs").filter(b("ReQL.bs").filter(b("MWPThreadsForThreadList.bs").createIterable(x,c,y),function(a){return b("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(c){return b("bs_caml").i64_eq(a.threadType,c)})!==-1}),function(a){if(b("MWXacGating.bs").isGroupsEnabled(void 0))return!0;else return!b("MWIsXacGroupThread.bs").check(a)}),5)},[x,JSON.stringify(c),y]).pop();var z=m===void 0?void 0:b("bs_caml_option").some(m);q=d!==void 0?j.jsx(b("FocusRegion.react").FocusRegion,{children:b("bs_caml_option").valFromOption(d)}):null;m=b("useCometUniqueID")();b("bs_curry")._1(v,m);d=b("MWLSJewelMessageRequestsThread.bs").useHook(e);var A=j.useCallback(function(a){if(s!==void 0)return b("bs_curry")._1(s,function(b){return a.target.scrollTop!==0})},[]);e=j.useCallback(function(a){return j.jsx(u,{thread:a,messagingEntrypoint:b("bs_belt_Option").getWithDefault(f,b("MessengerWebEntryPoint").JEWEL),lsEntryPoint:n==="inboxThreadList"?b("bs_belt_Option").mapWithDefault(z,!1,function(c){return b("bs_caml").i64_le(a.lastActivityTimestampMs,c.lastActivityTimestampMs)})?"inboxRecentThreads":"inboxRemainingThreads":n,onClose:t,responsive:l,onClickNestedFolderThread:w,selectedThreadKey:h})},[l,f,n,t,w,h,z]);var B=b("cr:3893")==null?null:j.jsx(b("cr:3893").make,{renderItem:e}),C=j.useRef(null),D=C.current;j.useEffect(function(){D==null||D.addEventListener("scroll",A)},[D]);q={beforeContent:j.jsxs(j.Fragment,{children:[q,d,k,B]}),gridLabel:r,renderItem:e,itemPlaceholder:j.jsxs(j.Fragment,{children:[j.jsx(b("MWThreadListGlimmer.react"),{}),j.jsx(b("MWThreadListGlimmer.react"),{})]}),emptyContent:b("qex")._("1310")===!0?j.jsx(b("CometPlaceholder.react"),{children:j.jsx(o,{parentThreadKey:c}),fallback:null}):j.jsx("div",{className:(i||(i=b("stylex")))(p.emptyInbox),children:j.jsx(b("MWText.react"),{align:"center",type:"body2",children:g._("__JHASH__1gb6sA7PX-j__JHASH__")})}),onLoadMoreThreads:function(a){return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads")},parentThreadKey:c,scrollAreaElementRef:C,renderLoadingAnimation:function(a){return j.jsxs(j.Fragment,{children:[j.jsx(b("MWThreadListGlimmer.react"),{}),j.jsx(b("MWThreadListGlimmer.react"),{})]})}};a!==void 0&&(q.setIsEmptyInbox=b("bs_caml_option").valFromOption(a));return j.jsx("div",{id:m,className:(i||(i=b("stylex")))(p.container),children:j.jsx(b("MWPBaseThreadList.bs").make,q)})}m=56;var w="s_56";e=e;f.$MAWThreadId$requireCond=b("cr:9873");f.$MWUseKeyCommandsForThreadList$OR$null$requireCond=b("cr:12211");f.$null$OR$MWThreadListMarketplaceItem$requireCond=b("cr:2052");f.$null$OR$MWThreadListMarketplaceItem$requireCond$1=b("cr:1913");f.MWThreadListNullStateLazy=a;f.useSimpleImpression=c;f.threadlistItemHeight=m;f.threadListItemHeightListCell=w;f.styles=p;f.UnknownThreadType=r;f.ThreadListItemMemoized=d;f.useKeyCommandsForThreadList=v;f.$MWPinnedThreads$requireCond=b("cr:3893");f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadList.re",["MWThreadList.bs"],function(a,b,c,d,e,f){a=b("MWThreadList.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdown.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.re","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.folder,e=a.onClose,f=a.onReturn;a=a.title;return h.jsx(c("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:h.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:f,title:a}),h.jsx(d("MWThreadList.re").make,{gridLabel:typeof a==="string"?a:a.toString(),lsEntryPoint:"jewelNestedFolder",onClose:e,parentThreadKey:b,responsive:!1}),h.jsx("div",{className:"dmdr2h6l"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWJewelThreadListSearchTypeahead.react",["MWPSearchSystem.re","cr:3070","emptyFunction","gkx","qex","react","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=c("gkx")("4164");function a(a,d,e,f){var g=c("useMWChatOpenTabForGroup")("jewelSearch"),m=g[0];g[1];var n=c("useMWChatOpenTabForPage")("jewelSearch");g=c("useMWChatOpenTabForUser")("jewelSearch");var o=g[0];g[1];var p=c("useReStore")(),q=i(function(){return c("MWPSearchSystem.re").makeAll(p)},[p]);j(function(){if(l){var a;a=(a=c("qex")._("2154"))!=null?a:1e4;c("setTimeoutCometSpeculative")(q,a)}});var r=i(function(a){a=a.rawData;var b=a.id;a=a.resultType;switch(a){case"group":m(b);break;case"user":o(b);break;case"page":n(b);break}f()},[f,m,n,o]);g=c("useCometPreloader")("button_aggressive",c("emptyFunction"),q);var s=g[0],t=g[1];return k(function(){return h.jsx("div",{onMouseEnter:s,onMouseLeave:t,children:h.jsx(b("cr:3070"),{onBlur:function(){return a(!1)},onChange:d,onFocus:function(){a(!0),q()},onPressEntry:r,queryString:e})})},[r,d,e,a,q,s,t])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownQPBannerContainer.react","CometPlaceholder.react","CometSettingsListDropdownLoadingState.react","CometTopNavListDropdown.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LsSystemFolderInterop.re","MWCMJewelContext","MWChatSearchClearSearchResults.re","MWInboxContextSwitcherGlimmer.react","MWJewelDropdownHeader.react","MWJewelMessengerAppLink.react","MWJewelMessengerLink.react","MWJewelNestedFolderThreadList.react","MWThreadList.re","MessengerDesktopDeepLinkUtils","ODS","XCometMessengerControllerRouteBuilder","cr:4381","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","recoverableViolation","requireDeferredForDisplay","stylex","useMWJewelThreadListSearchTypeahead.react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUnsupportedBrowsersNuxWrapper.react").__setRef("CometMessagingJewelDropdownContent.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadList.react").__setRef("CometMessagingJewelDropdownContent.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsListForJS").__setRef("CometMessagingJewelDropdownContent.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWUncaughtErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),w=h._("__JHASH__9FTPnWJWCay__JHASH__");function x(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_product",{error:a})}var y={errorBoundary:{height:"rg5rf0ht"},headerContainer:{flexGrow:"c7y9u1f0"}},z=c("gkx")("6975")===!0;function A(a){var e=a.onClose,f=a.pushPage,g=a.qpBannerCommunitiesContainerQueryRef;a=a.qpBannerContainerQueryRef;var j=d("MWChatSearchClearSearchResults.re").useHook(),v=k(function(){j(),e()},[e,j]);m(function(){return j},[j]);var A=o(!1);A[0];var B=A[1];A=o("");var C=A[0];A=A[1];var D=c("XCometMessengerControllerRouteBuilder").buildURL({});A=c("useMWJewelThreadListSearchTypeahead.react")(B,A,C,v);C=l(c("MWCMJewelContext"));var E=C.selectedFolderTab,F=C.setSelectedFolderTab,G=n();C=i.jsxs("div",{className:c("stylex")(y.headerContainer),children:[A," ",z&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),children:i.jsx(p,{entryPoint:"jewel",onTabChange:function(a){a===d("LsSystemFolderInterop.re").community&&(G.current=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30620417,"938"),tracePolicy:"comet.jewel.messenger.communities",traceType:"INTERACTION"})),B(!1),F==null?void 0:F(function(b){return a})},selectedFolderTab:E})})]});A=k(function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});f(function(b){b=b.onReturn;b={interactionID:a,onClose:v,onReturn:b};return i.jsx(s,babelHelpers["extends"]({},b))})},[v,f]);var H=k(function(){f(function(a){a=a.onReturn;return i.jsx(t,{hidePage:a,onClose:v})})},[v,f]),I=k(function(){d("ODS").bumpEntityKey(3185,"mw_jewel","archived_chats"),f(function(a){a=a.onReturn;return i.jsx(u,{onClose:v,onReturn:a})})},[v,f]),J=k(function(a){f(function(b){b=b.onReturn;switch(a){case d("LsSystemFolderInterop.re").jobs:return i.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:v,onReturn:b,title:h._("__JHASH__yJarfmqcRDP__JHASH__")});case d("LsSystemFolderInterop.re").mplace:return i.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:v,onReturn:b,title:h._("__JHASH__Yxm-6KVT3xg__JHASH__")});default:c("FBLogger")("messenger_web_product").mustfix("Attempted to show an unimplemented nested system folder");return null}})},[v,f]),K=c("gkx")("1123")&&!c("gkx")("1987549")&&d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible();I=i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:D,onClose:v,onOpenArchivedChats:I,onOpenMessageRequests:A,onOpenRestrictedAccountsList:H,title:w}),i.jsx(c("CometErrorBoundary.react"),{onError:x,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(q,{marginHorizontal:12,marginVertical:0,children:i.jsx(b("cr:4381"),{children:i.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{queryRef:a})})})})}),C]});H=i.jsxs(i.Fragment,{children:[I,i.jsx(c("CometErrorBoundary.react"),{onError:x,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{queryRef:g})})})]});return i.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"CommunitiesTabOnJewel",interactionUUID:G.current,children:i.jsxs(c("CometTopNavListDropdown.react").Card,{testid:void 0,useFullHeight:z,useMaxHeight:!0,children:[z&&d("I64").equal(E,d("LsSystemFolderInterop.re").community)?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsxs(i.Fragment,{children:[H,i.jsx(c("CometSettingsListDropdownLoadingState.react").InnerGlimmer,{})]}),children:i.jsx(r,{gridLabel:w.toString(),header:H,lsEntryPoint:"jewel",messagingEntryPoint:"jewel",onClose:v,responsive:!1})}):i.jsx(d("MWThreadList.re").make,{gridLabel:w.toString(),header:I,lsEntryPoint:"jewel",onClickNestedFolderThread:J,onClose:v,onOpenMessageRequests:A,parentThreadKey:E,responsive:!1}),K?i.jsx(c("MWJewelMessengerAppLink.react"),{onClick:v}):i.jsx(c("MWJewelMessengerLink.react"),{onClick:v,url:D})]})})}A.displayName=A.name+" [from "+f.id+"]";function a(a){var b=a.errorBoundaryXstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["errorBoundaryXstyle"]);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(v,{error:a,xstyle:[b,y.errorBoundary]})},children:i.jsx(A,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";e=j(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","CometMessagingJewelDropdownContent.react","CometTopNavListDropdown.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.props.onClose;a=a.queries;var d=a.qpBannerCommunitiesContainerQueryRef,e=a.qpBannerContainerQueryRef;a=i.jsx("div",{className:c("stylex")([c("CometTopNavListDropdown.react").styles.cardWidth]),children:i.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return i.jsx(c("CometMessagingJewelDropdownContent.react"),{errorBoundaryXstyle:c("CometTopNavListDropdown.react").styles.cardWidth,onClose:b,pushPage:a,qpBannerCommunitiesContainerQueryRef:d,qpBannerContainerQueryRef:e})}})});return i.jsx(c("CometTopNavListDropdown.react"),{label:h._("__JHASH__ptC-BqtItMK__JHASH__"),name:"MWJewelDropdown",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSInitSyncCompleteSubscription.bs",["LSDatabaseType.bs","LSSyncStatus.bs","Promise","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_curry"],function(a,b,c,d,e,f){"use strict";function g(a,c){return new(b("Promise"))(function(d,e){var f={contents:function(a){}};f.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:c,tl:0}),function(a,c){if(typeof c==="number"||!b("bs_caml").i64_eq(c._0.syncStatus,b("LSSyncStatus.bs").complete))return;else{b("bs_curry")._1(f.contents,void 0);return d(void 0)}})})}function a(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:c,tl:0})).then(function(d){if(d!==void 0&&!b("bs_caml").i64_neq(d.syncStatus,b("LSSyncStatus.bs").complete))return b("Promise").resolve(void 0);else return g(a,c)})}function c(a){return new(b("Promise"))(function(c,d){var e={contents:function(a){}};e.contents=b("ReQLSubscription.bs").subscribe(a,b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:b("LSDatabaseType.bs").mailbox,tl:0}),function(a){if(a===void 0)return;if(a.length!==1)return;a=a[0];if(b("bs_caml").i64_eq(a.syncStatus,b("LSSyncStatus.bs").complete)){c(void 0);return b("bs_curry")._1(e.contents,void 0)}})})}f.waitForSyncGroup=g;f.maybeWaitForSyncGroup=a;f.use=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSMessageSearchType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.thread=a;f.message=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSearchRequestStatusType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.pending=a;f.complete=c;f.failed=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSParticipant.bs",["LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactType.bs","LSContactWorkForeignEntityType.bs","LSMailboxType.bs","LSMediaUrl.bs","MWLSContactTypeExactUtils.bs","ReQL.bs","bs_belt_Option","bs_caml_int64"],function(a,b,c,d,e,f){"use strict";e={contact_id:(d=b("bs_caml_int64")).zero,thread_key:d.zero,contactType:b("LSContactType.bs").unknown,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:d.zero,read_action_timestamp_ms:d.zero,delivered_watermark_timestamp_ms:d.zero,name:"",actual_name:"",secondary_name:void 0,nickname:void 0,blocked_by_viewer_status:b("LSContactBlockedByViewerStatus.bs").unblocked,profile_picture_url:"",is_messenger_user:!1,is_admin:!1,gender:b("LSContactGender.bs").unknown,rank:0,work_company_name:void 0,work_job_title:void 0,work_foreign_entity_info:b("LSContactWorkForeignEntityType.bs").unknown};function g(a){var c=a[1];a=a[0];var d=a.nickname;if(d!==void 0)d=d;else{var e=c.firstName;d=e!==void 0?e:c.name}return{contact_id:a.contactId,thread_key:a.threadKey,contactType:c.contactType,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:a.readWatermarkTimestampMs,read_action_timestamp_ms:a.readActionTimestampMs,delivered_watermark_timestamp_ms:a.deliveredWatermarkTimestampMs,name:d,actual_name:c.name,secondary_name:b("MWLSContactTypeExactUtils.bs").isIgContact(c)?c.secondaryName:void 0,nickname:a.nickname,blocked_by_viewer_status:c.blockedByViewerStatus,profile_picture_url:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),is_messenger_user:c.isMessengerUser,is_admin:b("bs_belt_Option").getWithDefault(a.isAdmin,!1),gender:c.gender,rank:c.rank,work_company_name:c.workCompanyName,work_job_title:c.workJobTitle,work_foreign_entity_info:c.workForeignEntityType}}function a(a,c,d){var e;return(e=b("ReQL.bs")).map(e.mergeJoin(e.getKeyRange(e.fromTableAscending(a.table("participants")),{hd:d,tl:0}),c),g)}function c(a,c){return b("ReQL.bs").getKeyRange(a,{hd:c,tl:0})}f.empty=e;f.projectOpen=g;f.getAllInOpenThread=a;f.getInOpenThread=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSThreadTitle.bs",["fbt","LSMessagingThreadTypeUtil.bs","bs_caml","bs_caml_array","bs_curry","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(a){var c=a.length,d=a.length;return(d!==1?d!==0?c===2?g._("__JHASH__CYtAjqXrfJL__JHASH__",[g._param("participant1",b("bs_caml_array").get(a,0)),g._param("participant2",b("bs_caml_array").get(a,1))]):c===3?g._("__JHASH__0GwsaOqt1zM__JHASH__",[g._param("participant1",b("bs_caml_array").get(a,0)),g._param("participant2",b("bs_caml_array").get(a,1)),g._param("participant3",b("bs_caml_array").get(a,2))]):g._("__JHASH__-HjU-GfOUIJ__JHASH__",[g._param("participant1",b("bs_caml_array").get(a,0)),g._param("participant2",b("bs_caml_array").get(a,1)),g._param("others_count",String(c-2|0))]):b("gkx")("1341692")?g._("__JHASH__ypNvBdrcgnu__JHASH__"):g._("__JHASH__v1-lXqbvI1-__JHASH__"):a[0]).toString()}var i=b("gkx")("1846003");function j(a){var b=a.nickname;a=a.actual_name;if(b!==void 0&&i)return b;else return a}function k(a){var b=a.nickname;a=a.name;if(b!==void 0&&i)return b;else return a}function l(a,c,d,e,f,g){e=b("LSMessagingThreadTypeUtil.bs").isGroup(e);var i=d.filter(function(a){return b("bs_caml").i64_neq(a.contact_id,c)});if(a!==void 0)return a;else if(e)return h(i.map(b("bs_curry").__1(f)));else if(d.length!==1)return h(i.map(b("bs_curry").__1(g)));else return b("bs_curry")._1(g,d[0])}function a(a,b,c,d){return l(a,b,c,d,k,j)}function c(a,b,c,d){var e=function(a){return a.actual_name};return l(a,b,c,d,e,e)}f.getTitleFromParticipants=h;f.nicknamesEnabled=i;f.internalMake=l;f.make=a;f.makeFullName=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("groupBy",[],function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxSecureContentSearch.bs",["fbt","LSMediaUrl.bs","LSMessageSearchType.bs","LSSearchRequestStatusType.bs","LSTransaction.bs","MAWBackendBridge.bs","MAWThreadId.bs","MAWTimeUtils.bs","MWLSParticipant.bs","MWLSThreadTitle.bs","Promise","ReQL.bs","bs_belt_Array","bs_caml","bs_caml_array","bs_caml_int64","bs_curry","bs_int64","bs_js_dict","groupBy"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){return b("MAWThreadId.bs").toThreadKey_DEPRECATED(c,a.chatId).then(function(d){return b("Promise").all([b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:d,tl:0})),b("Promise").resolve(a)])})}function i(a,c,d){var e=b("LSMediaUrl.bs").Thread.threadPictureUrl(a);if(e!==void 0)return b("Promise").resolve([e,void 0]);else{return(e=b("ReQL.bs")).toArray(e.map(e.leftJoin(e.getKeyRange(e.fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),e.fromTableAscending(d.table("contacts"))),function(a){return a[1]})).then(function(a){a=b("bs_belt_Array").keepMap(a,function(a){return a}).sort(function(a,b){return a.rank-b.rank}).filter(function(a){return b("bs_caml").i64_neq(a.id,c)}).map(function(a){return b("LSMediaUrl.bs").Contact.profilePictureUrl(a)});var d=b("bs_belt_Array").get(a,0);a=b("bs_belt_Array").get(a,1);if(d!==void 0)if(a!==void 0)return b("Promise").resolve([d,a]);else return b("Promise").resolve([d,void 0]);else return b("Promise").resolve(["",void 0])})}}function j(a,c,d){if(a===1||d===b("LSMessageSearchType.bs").message)return c.content;else return g._("__JHASH__MOcENwPdyTO__JHASH__",[g._plural(a,"number")]).toString()}function k(a,c){return b("ReQL.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(c,b("ReQL.bs").fromTableAscending(c.table("contacts")),a.threadKey))}function l(a,c,d,e,f,g){return b("LSTransaction.bs").run(g,function(l){return h(a,l).then(function(a){var h=a[0];if(h===void 0)return b("Promise").resolve(void 0);var m=a[1];if(m!==void 0)return b("Promise").all([i(h,f,g),k(h,g)]).then(function(a){var g=a[0],i=m.content;return b("Promise").all([l.table("message_search_queries").put({type_:e,query:d,threadKeyV2:h.threadKey,status:b("LSSearchRequestStatusType.bs").complete,hasNextPage:void 0,nextPageCursor:void 0,resultCount:b("bs_caml_int64").of_int32(c)}),l.table("message_search_results").put({type_:e,query:d,threadKey:h.threadKey,globalIndex:b("bs_caml_int64").of_int32(-m.rowId|0),threadType:h.threadType,messageId:m.msgId,messageTimestampMs:b("MAWTimeUtils.bs").toTimestamp(m.ts),displayName:b("MWLSThreadTitle.bs").make(h.threadName,f,a[1],h.threadType),contextLine:j(c,m,e),matchOffsets:i!==void 0?String(i.indexOf(d)):void 0,matchLengths:String(d.length),profilePicUrl:g[0],secondaryProfilePicUrl:g[1]})]).then(function(a){})});else return b("Promise").resolve(void 0)})},"readWrite")}function m(a,c){return b("bs_curry")._1(b("MAWBackendBridge.bs").search({search:c}).sendAndReceive,void 0).then(function(c){var d=[];for(var e=0,f=c.length;e<f;++e){var g=b("bs_caml_array").get(c,e);if(g.TAG===0){g=g._0;d.push(b("MAWThreadId.bs").toThreadKey_DEPRECATED(a,g.chatId).then(function(a){return function(b){return[a,b]}}(g)))}}return b("Promise").all(d)})}function a(a,c,d){return m(d,a).then(function(e){return b("bs_js_dict").values(b("groupBy")(e,function(a){return b("bs_int64").to_string(a[1])})).map(function(e){var f=b("bs_belt_Array").get(e,0);if(f!==void 0)return l(f[0],e.length,a,b("LSMessageSearchType.bs").thread,c,d);else return b("Promise").resolve(void 0)}).reduce(function(a,c){return b("Promise").all([a,c]).then(function(a){})},b("Promise").resolve(void 0))})}function c(a,c,d,e){return m(e,a).then(function(f){f=f.filter(function(a){if(c!==void 0)return b("bs_caml").i64_eq(a[1],c);else return!1});var g=f.length;return f.map(function(c){return l(c[0],g,a,b("LSMessageSearchType.bs").message,d,e)}).reduce(function(a,c){return b("Promise").all([a,c]).then(function(a){})},b("Promise").resolve(void 0))})}f.getThreadPics=i;f.getThreadParticipants=k;f.searchSecureDatabaseThreads=a;f.searchSecureDatabaseMessages=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxContextSwitcherCond.react",["cr:4067","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:4067")?h.jsx(b("cr:4067"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TetraMWJewelThreadAddOnSecondaryIcons",["ix","TetraIcon.react","fbicon","react"],function(a,b,c,d,e,f,g,h){"use strict";a=d("react");b=a.jsx(c("TetraIcon.react"),{color:"disabled",icon:d("fbicon")._(h("569284"),16)});g.bell=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mwGroupEntriesForDisplay",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["TetraText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.activeEntryKey,d=a.children,e=a.entries,f=a.itemRole;a=a.title;return e!=null&&e.length>0?h.jsxs("li",{className:"nnzkd6d7 rl78xhln i5oewl5a srn514ro",children:[a?h.jsx("div",{className:"fwlpnqze r5g9zsuq b0eko5f3 q46jt4gp",children:h.jsx(c("TetraText.react"),{type:"entityHeaderMeta1",children:a})}):null,h.jsx("ul",{children:e.map(function(a,c){var e=b===a.key;return d({entry:a,index:c,isActive:e,itemRole:f})})})]}):null}function a(a){var b=a.ariaProps,e=a.children,f=a.entries,g=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","children","entries","highlightedEntry"]);var k=g!=null?g.key:null;a=i(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(f)},[f]);var l=c("getItemRoleFromCompositeRole")(b.role);return h.jsx("ul",{"data-testid":void 0,role:"listbox",children:Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return h.jsx(j,{activeEntryKey:k,children:e,entries:a,itemRole:l,title:b},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={scroll:{maxHeight:"n8fvidaz"}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:[i.scroll,b],children:h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchEmptyState.react",["fbt","TetraText.react","react","useCometTypeaheadEmptyState"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("useCometTypeaheadEmptyState")();return b?i.jsxs("div",{className:"e4ay1f3w rj2hsocd aesu6q9g s1m0hq7j",children:[i.jsx(c("TetraText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),i.jsx("br",{}),i.jsx(c("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a.queryString)])})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1880031");c=b("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){a===void 0&&(a="UNKNOWN");return h(function(){return new(c("CometTypeaheadVolumeLoggingProvider"))(a)},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,k=a.dataSource,l=a.dataSourceFetchConfigParams,m=a.decorators,n=m===void 0?[]:m;m=a.emptyEntries_DO_NOT_USE;var o=a.id,p=a.label;p=p===void 0?"":p;var q=a.loggingContext,r=a.onBackspace;r=r===void 0?c("emptyFunction"):r;var s=a.onBlur;s=s===void 0?c("emptyFunction"):s;var t=a.onChange,u=a.onClose;u=u===void 0?c("emptyFunction"):u;var v=a.onEnter;v=v===void 0?c("emptyFunction"):v;var w=a.onEscape;w=w===void 0?c("emptyFunction"):w;var x=a.onFetchEntries_DO_NOT_USE,y=a.onFocus;y=y===void 0?c("emptyFunction"):y;var z=a.onOpen;z=z===void 0?c("emptyFunction"):z;var A=a.onPressEntry,B=a.placeholder;B=B===void 0?"":B;var C=a.shouldQueryStringFollowHighlightedEntry,D=C===void 0?!0:C;C=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var E=C===void 0?!0:C;C=a.testid;C=C===void 0?"":C;C=a.traceProvider;var F=a.inputRef,G=a.viewRole;G=G===void 0?"listbox":G;var H=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]);var I=c("useCometUniqueID")(),J=j(function(){var a=c("CometInternalTypeahead.react");n.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[n]),K=i(function(a){E&&t(a.label),A&&A(a)},[t,A,E]),L=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:D})},[g,D]);p=p||B;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:m,onClose:u,onOpen:z,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:k,dataSourceFetchConfigParams:l,loggingContext:q,onFetchEntries_DO_NOT_USE:x,traceProvider:C,children:h.jsx(J,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(b=o)!=null?b:I,inputRef:F,inputStrategyRenderer:L,isDisabled:e,label:p,onBackspace:r,onBlur:s,onChange:t,onDownArrow:c("emptyFunction"),onEnter:v,onEscape:w,onFocus:y,onHighlightEntry:c("emptyFunction"),onPressEntry:K,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:B,testid:void 0,viewRole:G,viewStrategyRenderer:H}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsUniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("92");c=b("FalcoLoggerInternal").create("ls_universal_search_end",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsUniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("94");c=b("FalcoLoggerInternal").create("ls_universal_search_query_changed",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsUniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("96");c=b("FalcoLoggerInternal").create("ls_universal_search_start",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","emptyFunction","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:f=new Set();h=new(b("Promise"))(function(a){g=a});j.next=4;return b("regeneratorRuntime").awrap(a.runInTransaction(function(b){var h=c("emptyFunction"),j=a.table("pending_tasks").subscribe(function(a,b){b.operation==="add"||b.operation==="put"?f.add(d("I64").to_string(a.hd)):f["delete"](d("I64").to_string(a.hd))});h=a.subscribeToCommit(function(){j();h();if(f.size===0)g(i);else{var b=c("emptyFunction");b=a.table("pending_tasks").subscribe(function(a,c){c.operation==="delete"&&(f["delete"](d("I64").to_string(a.hd)),f.size===0&&(b(),g(i)))})}});return e(b)},"readwrite"));case 4:i=j.sent;return j.abrupt("return",h);case 6:case"end":return j.stop()}},null,this)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSearchGranularSurfaceType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,18];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,19],u=[0,20];f.universalAll=a;f.universalMorePeople=c;f.universalIgFollowing=d;f.universalBusiness=e;f.universalCmThreads=b;f.omnipicker=g;f.broadcast=h;f.blockList=i;f.impersonationEvidence=j;f.universalIgNonfollowing=k;f.groups=l;f.omnipickerArmadillo=m;f.restrictedList=n;f.callsTab=o;f.cmInviteAllMembers=p;f.instagramAll=q;f.cmMemberList=r;f.cmThreadParticipantSearch=s;f.cmCommunityCreationInvite=t;f.cmInviteFbFriends=u},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSearchType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,9],k=[0,10],l=[0,11],m=[0,12],n=[0,13];f.contact=a;f.noncontact=c;f.group=d;f.page=e;f.integratedMessageSearchThread=b;f.igContactFollowing=g;f.igContactNonfollowing=h;f.igNoncontactFollowing=i;f.igNoncontactNonfollowing=j;f.igBusiness=k;f.tamContact=l;f.tamThread=m;f.communityMessagingThread=n},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MNetRankType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,26],B=[0,27],C=[0,28],D=[0,29],E=[0,30],F=[0,31],G=[0,32],H=[0,33],I=[0,34],J=[0,35],K=[0,36],L=[0,37],M=[0,38],N=[0,39],O=[0,40],P=[0,41],Q=[0,42],R=[0,43],S=[0,44],T=[0,45],U=[0,46],V=[0,47],W=[0,48],X=[0,49],Y=[0,50];f.inboxActiveNow=a;f.messengerUserSearch=c;f.montageUser=d;f.broadcastFlowTopContacts=e;f.broadcastFlowNeedyContacts=b;f.messengerGroupSearch=g;f.rtcTopContacts=h;f.pstnTopContacts=i;f.messengerNonContactSearch=j;f.messengerSearchBootstrap=k;f.activeBeeper=l;f.montageAndActiveNow=m;f.messengerPageSearch=n;f.messengerGameSearch=o;f.wwwNullstate=p;f.rtcGrowth=q;f.messengerOmnipickerNullstate=r;f.rtcSequentialTopContacts=s;f.messengerUserSearchNullstate=t;f.mliteDiodePromotion=u;f.messengerPendingRequest=v;f.messengerCloseConnection=w;f.messengerMontageSeenSheet=x;f.messengerOmnipickerKeypress=y;f.messengerNotifQpTargetingUpsellType=z;f.contactTabActiveNow=A;f.messengerUnivNullstateBlend=B;f.messengerInboxThreads=C;f.inboxActiveNowNoBoosting=D;f.broadcastFlowTopContactsFbShare=E;f.broadcastFlowTopContactsMessengerShare=F;f.broadcastFlowTopContactsExternalShare=G;f.messengerTrendingStickers=H;f.messengerBroadcastFlowTopThreads=I;f.messengerSends28d=J;f.messengerRoomInvite=K;f.messengerRoomInviteSearch=L;f.inboxActiveNowPrefetch=M;f.messengerBlendedKeypress=N;f.messengerBlendedNullstate=O;f.messengerCarrierMessaging=P;f.messengerRoomInviteGroup=Q;f.messengerInboxBirthdayItem=R;f.instagramDirectSearchNullstate=S;f.broadcastFlowTopContactsAndTopThreadFbShare=T;f.broadcastFlowTopThreadsFbShare=U;f.fbHScrollRanking=V;f.fbMessagingUserSearch=W;f.fbMessagingUserSearchNullstate=X;f.messengerActiveNowTrayActiveCc=Y},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MNetContactItemType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12];f.contact=a;f.nonContact=c;f.group=d;f.page=e;f.bot=b;f.game=g;f.igUser=h;f.igThread=i;f.sticker=j;f.interopThread=k;f.msgrThread=l;f.textSuggestion=m;f.communityMessagingThread=n},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSInstagramE2EEEligibility.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").neg_one;c=b("bs_caml_int64").zero;d=b("bs_caml_int64").one;e=[0,2];b=[0,3];var g=[0,4];f.unknown=a;f.ineligible=c;f.eligible=d;f.required=e;f.dualSendEligible=b;f.groupsEligible=g},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatTemporarySearchResult.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSInstagramE2EEEligibility.bs","LSMediaUrl.bs","LSMessagingThreadTypeUtil.bs","LSSearchType.bs","LSWhatsAppConnectStatus.bs","MWLSContactTypeExactUtils.bs","MWLSThreadTitle.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_int64","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function g(a){if(b("bs_caml").i64_eq(a,b("LSSearchType.bs").igContactFollowing)||b("bs_caml").i64_eq(a,b("LSSearchType.bs").igContactNonfollowing)||b("bs_caml").i64_eq(a,b("LSSearchType.bs").igNoncontactFollowing))return!0;else return b("bs_caml").i64_eq(a,b("LSSearchType.bs").igNoncontactNonfollowing)}function h(a){if(b("bs_caml").i64_eq(a,b("LSSearchType.bs").contact)||b("bs_caml").i64_eq(a,b("LSSearchType.bs").noncontact)||g(a))return"user";else if(b("bs_caml").i64_eq(a,b("LSSearchType.bs").group))return"group";else if(b("bs_caml").i64_eq(a,b("LSSearchType.bs").page))return"page";else if(b("bs_caml").i64_eq(a,b("LSSearchType.bs").integratedMessageSearchThread))return"message";else{b("recoverableViolation")("Unknown Search Result Type "+b("bs_int64").to_string(a),"messenger_web_product");return"user"}}function a(a,c,d,e){a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;var f=b("MWLSContactTypeExactUtils.bs").isIgContact(c),g=c.secondaryName;g=f&&g!==void 0?g:"";d=d!==void 0?[d.e2eeEligibility,b("bs_caml").i64_neq(d.e2eeEligibility,b("LSInstagramE2EEEligibility.bs").ineligible)]:[void 0,void 0];var h=c.contactType;return{displayName:c.name,id:b("bs_int64").to_string(c.id),imageUrl:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),secondaryImageUrl:void 0,isContact:b("bs_caml").i64_eq(c.contactViewerRelationship,b("LSContactViewerRelationship.bs").contactOfViewer),isE2e:!1,isInstagramAccount:f,isInteropEligible:b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isXacEligible,c),isGroupsXacEligible:b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,c),resultType:b("bs_caml").i64_eq(h,b("LSContactType.bs").user)||!(b("bs_caml").i64_eq(h,b("LSContactType.bs").page)||b("bs_caml").i64_eq(h,b("LSContactType.bs").pagePersona))?"user":"page",subtext:g,isVerified:b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,c),!1),section:"",serverSearchResult:void 0,searchSource:e,threadKey:void 0,rankingScore:a,waAddressable:b("bs_caml").i64_eq(c.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappAddressable),waEligibility:d[0],isWAEligible:d[1],isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,threadType:void 0,otherUserId:void 0}}function i(a,c,d){var e=a.threadDescription,f=a.threadName;if(e!==void 0)return e;else if(f!==void 0&&f!=="")return b("MWLSThreadTitle.bs").make(void 0,c,d,a.threadType);else return""}function c(a,c,d,e,f,g,h){var j=i(a,d,g);return{displayName:b("MWLSThreadTitle.bs").make(a.threadName,d,g,a.threadType),id:b("bs_int64").to_string(a.threadKey),imageUrl:e,secondaryImageUrl:f,isContact:!1,isE2e:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),isInstagramAccount:!1,isInteropEligible:void 0,isGroupsXacEligible:void 0,resultType:"group",subtext:j,isVerified:!1,section:"",serverSearchResult:void 0,searchSource:c,threadKey:a.threadKey,rankingScore:h,waAddressable:void 0,waEligibility:void 0,isWAEligible:void 0,isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,threadType:a.threadType,otherUserId:void 0}}function d(a,c,d){var e=b("bs_caml").i64_eq(a.type_,b("LSSearchType.bs").contact),f=g(a.type_);c=c!==void 0?b("bs_belt_Option").getWithDefault(c.displayName,""):"";var i=a.isVerified,j=a.waEligibility;return{displayName:a.displayName,id:a.resultId,imageUrl:a.profilePicUrl,secondaryImageUrl:a.secondaryProfilePicUrl,isContact:e,isE2e:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),isInstagramAccount:f,isInteropEligible:a.isInteropEligible,isGroupsXacEligible:a.isGroupsXacEligible,resultType:h(a.type_),subtext:e?"":a.contextLine,isVerified:i!==void 0?i:!1,section:c,serverSearchResult:a,searchSource:d,threadKey:void 0,rankingScore:void 0,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility,isWAEligible:j!==void 0?b("bs_caml").i64_neq(j,b("LSInstagramE2EEEligibility.bs").ineligible):void 0,isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,threadType:a.threadType,otherUserId:void 0}}f.checkIsInstagramAccount=g;f.getResultType=h;f.fromContact=a;f.getSubtext=i;f.fromThread=c;f.fromServerSearchResult=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchFetchContactRecommendations.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactViewerRelationship.bs","LSDatabaseType.bs","LSMediaUrl.bs","LSPlatformClientSingleton.bs","LSSearchType.bs","LSWhatsAppConnectStatus.bs","MNetContactItemType.bs","MNetRankType.bs","MWChatTemporarySearchResult.bs","MWLSContactTypeExactUtils.bs","MWLSDatabaseLazySync.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(a<0)return-1;else if(a>0)return 1;else return 0}function j(a){return a.sort(function(a,b){b=b[0];var c=b[1];b=b[0];a=a[0];var d=a[1];a=a[0];if(b.score!==a.score)return i(b.score-a.score);else if(d!==void 0)if(c!==void 0)return i(c.rank-d.rank);else return-1;else if(c!==void 0)return 1;else return 0})}function k(a){var c=b("MWLSContactTypeExactUtils.bs").isIgContact(a);a=a.contactViewerRelationship;if(c)if(b("bs_caml").i64_eq(a,b("LSContactViewerRelationship.bs").notContact))return b("LSSearchType.bs").igNoncontactFollowing;else if(b("bs_caml").i64_eq(a,b("LSContactViewerRelationship.bs").contactOfViewer))return b("LSSearchType.bs").igContactFollowing;else return b("LSSearchType.bs").igNoncontactNonfollowing;else return b("LSSearchType.bs").contact}function l(a){var c=[];a.forEach(function(a,d){var e=a[1];a=a[0];var f=a[1];a=a[0];e=e!==void 0?e.e2eeEligibility:void 0;if(f===void 0)return;var g=a.contactType;a=a.contactType;var h=f.secondaryName,i=b("bs_int64").to_string(f.id);d=b("bs_caml_int64").of_int32(d);g=b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").contact)?k(f):b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").group)?b("LSSearchType.bs").group:b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").page)?b("LSSearchType.bs").page:b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").nonContact)?b("LSSearchType.bs").noncontact:b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").igThread)||b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").interopThread)||b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").msgrThread)?b("LSSearchType.bs").integratedMessageSearchThread:b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").igUser)?b("LSSearchType.bs").igContactFollowing:b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").bot)||b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").game)||b("bs_caml").i64_eq(g,b("MNetContactItemType.bs").sticker)?b("LSSearchType.bs").page:b("LSSearchType.bs").noncontact;a=b("bs_caml").i64_eq(a,b("MNetContactItemType.bs").group)?b("MessagingThreadType.bs").group:b("MessagingThreadType.bs").oneToOne;var j=f.name,l=b("LSMediaUrl.bs").Contact.profilePictureUrl(f);h=h!==void 0?h:"";var m=f.blockedByViewerStatus,n=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,f),o=b("MWLSContactTypeExactUtils.bs").isIgContact(f)?b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isXacEligible,f):void 0,p=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,f),q=b("bs_caml").i64_eq(f.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappAddressable);i={query:"",resultId:i,globalIndex:d,type_:g,threadType:a,displayName:j,profilePicUrl:l,secondaryProfilePicUrl:void 0,contextLine:h,messageId:void 0,messageTimestampMs:void 0,blockedByViewerStatus:m,isVerified:n,isInteropEligible:o,isGroupsXacEligible:p,isWaAddressable:q,waEligibility:e,isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,isArmadilloTlcEligible:void 0,otherUserId:void 0};d=b("MWChatTemporarySearchResult.bs").fromServerSearchResult(i,void 0,"offline_nullstate");c.push([d,f])});return c}function m(a,c){var d;return(d=b("ReQL.bs")).leftJoin(d.leftJoin(d.getKeyRange(d.fromIndexAscending(a.table("ranking_scores").index("scoreTypeContactId")),{hd:c,tl:0}),d.fromTableAscending(a.table("contacts"))),d.fromTableAscending(a.table("ig_contact_info")))}function n(a,c){var d=a!==void 0?a:b("MNetRankType.bs").messengerUserSearchNullstate,e=b("useReStore")(),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return m(e,d)},[d,e]));return h.useMemo(function(){return l(j(f))},[f])}function a(a){var c=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);a=n(b("MNetRankType.bs").inboxActiveNow,void 0);h.useEffect(function(){b("bs_curry")._1(c,void 0)},[c]);return a.length}function c(a,c){var d=a!==void 0?a:b("MNetRankType.bs").messengerUserSearchNullstate;return b("LSPlatformClientSingleton.bs").getDB(void 0).then(function(a){return b("ReQL.bs").toArray(m(a,d))}).then(function(a){return b("Promise").resolve(l(j(a)))})}f.sortInPlaceQueryResults=j;f.matchContactType=k;f.mapToServerSearchResults=l;f.makeQuery=m;f.useHook=n;f.useActiveContactCount=a;f.fetchRecommendations=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchFetchThreadRecommendations.bs",["LSMessagingThreadTypeUtil.bs","LSPlatformClientSingleton.bs","MWInboxSecureContentSearch.bs","MWLSThreadTitle.bs","Promise","ReQL.bs","bs_belt_Option","bs_caml_int64","bs_int64"],function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h,i){return{displayName:b("MWLSThreadTitle.bs").make(a.threadName,d,g,a.threadType),id:b("bs_int64").to_string(a.threadKey),imageUrl:e,secondaryImageUrl:f,isContact:!1,isE2e:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),isInstagramAccount:!1,isInteropEligible:void 0,isGroupsXacEligible:void 0,resultType:i?"group":"user",subtext:b("bs_belt_Option").getWithDefault(a.threadDescription,""),isVerified:!1,section:"",serverSearchResult:void 0,searchSource:c,threadKey:a.threadKey,rankingScore:h,waAddressable:void 0,waEligibility:void 0,isWAEligible:void 0,isInvitedToCmChannel:void 0,isEligibleForCmInvite:void 0,threadType:void 0,otherUserId:void 0}}function h(a,c,d){return b("Promise").all([b("MWInboxSecureContentSearch.bs").getThreadPics(d,c,a),b("MWInboxSecureContentSearch.bs").getThreadParticipants(d,a)]).then(function(a){var e,f=a[0],h=(e=b("bs_caml_int64")).to_float(d.lastActivityTimestampMs);h={contactId:e.zero,contactType:e.zero,score:h,scoreType:e.zero,scoreIndex:e.zero};e=b("LSMessagingThreadTypeUtil.bs").isGroup(d.threadType);return g(d,"offline_nullstate",c,f[0],f[1],a[1],h,e)})}function i(a,c,d){var e=[];c.forEach(function(b,c){c=h(a,d,b);e.push(c)});return b("Promise").all(e).then(function(a){return a})}function j(a){var c;return(c=b("ReQL.bs")).toArray(c.take(c.filter(c.fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),function(a){if(b("LSMessagingThreadTypeUtil.bs").isRecentsSectionAllowedTypes(a.threadType))return b("LSMessagingThreadTypeUtil.bs").isMessengerOrE2EEInbox(a.folderName);else return!1}),5))}function k(a){return b("ReQL.bs").firstExn(b("ReQL.bs").map(b("ReQL.bs").fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId}))}function l(a){return b("Promise").all([j(a),k(a)]).then(function(b){return i(a,b[0],b[1])}).then(function(a){return b("Promise").resolve(a)})}function a(a,c){return b("LSPlatformClientSingleton.bs").getDB(void 0).then(l).then(function(a){return b("Promise").resolve(a)})}f.toSearchresult=g;f.mapThreadHelper=h;f.mapToServerSearchResults=i;f.makeThreadQuery=j;f.getActor=k;f.fetchThreadsAsSearchResults=l;f.fetchRecommendations=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchIssueLightspeedQuery.bs",["LS.bs","LSContactBlockedByViewerStatus.bs","LSIssueSearchQuery","LSPlatformClientSingleton.bs","LSPlatformWaitForTaskCompletion","LSSearchGranularSurfaceType.bs","LSSearchRequestStatusType.bs","LSSearchType.bs","LSTransaction.bs","LSVec","MNetRankType.bs","MWChatSearchFetchContactRecommendations.bs","MWChatSearchFetchThreadRecommendations.bs","MWChatTemporarySearchResult.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_array","bs_caml_exceptions","bs_curry","bs_int64","gkx"],function(a,b,c,d,e,f){"use strict";var g,h=b("bs_caml_exceptions").create("MWChatSearchIssueLightspeedQuery.FailedToFetchSearchResults"),i=b("gkx")("4164");function a(a){return b("bs_caml").i64_eq(a,b("LSSearchType.bs").contact)}function j(a,c){var d=a[1];a=a[0];var e=[],f=0;a.sort(function(a,c){return b("bs_int64").compare(a.globalIndex,c.globalIndex)});d.sort(function(a,c){return b("bs_int64").compare(a.globalIndex,c.globalIndex)});for(var g=0,h=a.length;g<h;++g){var i=b("bs_caml_array").get(a,g);while(f<d.length&&b("bs_caml").i64_ge(b("bs_caml_array").get(d,f).globalIndex,i.startIndex)&&b("bs_caml").i64_le(b("bs_caml_array").get(d,f).globalIndex,i.endIndex)){var j=b("bs_caml_array").get(d,f);e.push(b("MWChatTemporarySearchResult.bs").fromServerSearchResult(j,i,"server"));f=f+1|0}}return e.filter(function(a){if(c)return!0;else return a.resultType!=="group"})}var k=[b("LSSearchType.bs").integratedMessageSearchThread];g={universal:(g=b("LSSearchGranularSurfaceType.bs")).universalAll,broadcast:g.broadcast,omnipickerArmadillo:g.omnipickerArmadillo,instagramAll:g.instagramAll,cmInviteAllMembers:g.cmInviteAllMembers};function l(a,c,d){var e=d.query;return b("LSPlatformClientSingleton.bs").getDB(void 0).then(function(d){return b("LSTransaction.bs").run(d,function(d){return b("LSIssueSearchQuery")(e,b("LSVec").make(a),void 0,c,void 0,void 0,b("LS.bs").make(d))},"readWrite").then(function(a){return d})})}function c(a,c,d,e,f){if(c.length>0&&!c.includes("server"))return b("Promise").resolve([]);else return b("LSPlatformClientSingleton.bs").getDB(void 0).then(function(c){return b("LSPlatformWaitForTaskCompletion")(c,function(c){return b("LSIssueSearchQuery")(f.query,b("LSVec").make(a),void 0,d,void 0,void 0,b("LS.bs").make(c))}).then(function(a){return c})}).then(function(a){var c,d=(c=b("ReQL.bs")).toArray(c.filter(c.getKeyRange(c.fromTableAscending(a.table("server_search_results")),{hd:f.query,tl:0}),function(a){return b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)}));c=c.toArray(c.getKeyRange(c.fromTableAscending(a.table("server_search_sections")),{hd:f.query,tl:0}));return b("Promise").all([c,d]).then(function(a){return j(a,e)})})}function d(a,c,d,e){return b("MWChatSearchFetchContactRecommendations.bs").fetchRecommendations(e,void 0).then(function(a){return b("Promise").resolve(a.map(function(a){return a[0]}))})}function e(a,c,d,e){return b("MWChatSearchFetchThreadRecommendations.bs").fetchRecommendations(e,void 0).then(function(a){return b("Promise").resolve(a)})}function m(a,c,d,e){var f,g=(f=b("ReQL.bs")).filter(f.getKeyRange(f.fromTableAscending(a.table("server_search_results")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)}),h=f.getKeyRange(f.fromTableAscending(a.table("server_search_sections")),{hd:c,tl:0});f=f.getKeyRange(f.fromTableAscending(a.table("search_queries")),{hd:c,tl:0});c=function(a){var c=a[0];if(c===void 0)return;var f=a[1];if(f===void 0)return;a=a[2];if(a===void 0)return;if(a.length!==1)return;a=a[0];if(!i||b("bs_caml").i64_neq(a.statusPrimary,b("LSSearchRequestStatusType.bs").pending))return b("bs_curry")._1(e,j([f,c],d))};return b("ReQLSubscription.bs").combineLatest3(a,g,h,f,c)}function n(a,b,c,d,e,f){l(b,c,e);return m(a,e.query,d,f)}function o(a,c,d,e,f,g){l(c,e,f);d=b("MWChatSearchFetchContactRecommendations.bs").makeQuery(a,b("MNetRankType.bs").messengerUserSearchNullstate);c=function(a){if(a!==void 0)return b("bs_curry")._1(g,b("MWChatSearchFetchContactRecommendations.bs").mapToServerSearchResults(b("MWChatSearchFetchContactRecommendations.bs").sortInPlaceQueryResults(a)).map(function(a){return a[0]}))};return b("ReQLSubscription.bs").subscribe(a,d,c)}f.FailedToFetchSearchResults=h;f.loaderIndicatorFix=i;f.checkIsContact=a;f.toSearchResults=j;f.contentSearchTypes=k;f.Surfaces=g;f.fetchResults=c;f.fetchRecommendations=d;f.fetchThreadRecommendations=e;f.subscribe=m;f.requestResults=n;f.requestRecommendations=o},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchIssueLightspeedQuery.re",["MWChatSearchIssueLightspeedQuery.bs","bs_curry"],function(a,b,c,d,e,f){c=(a=b("MWChatSearchIssueLightspeedQuery.bs")).contentSearchTypes;f.contentSearchTypes=c;d=a.Surfaces.universal;f.Surfaces_universal=d;e=a.Surfaces.broadcast;f.Surfaces_broadcast=e;c=a.Surfaces.omnipickerArmadillo;f.Surfaces_omnipickerArmadillo=c;d=a.Surfaces.instagramAll;f.Surfaces_instagramAll=d;e=a.Surfaces.cmInviteAllMembers;f.Surfaces_cmInviteAllMembers=e;c=a.fetchResults;f.fetchResults=c;d=a.fetchRecommendations;f.fetchRecommendations=d;e=function(a,c,d,e){a=b("bs_curry")._4(b("MWChatSearchIssueLightspeedQuery.bs").fetchThreadRecommendations,a,c,d,e);return a};f.fetchThreadRecommendations=e;c=function(a,c,d,e,f){a=b("bs_curry")._5(b("MWChatSearchIssueLightspeedQuery.bs").subscribe,a,c,d,e,f);return a};f.subscribe=c;d=a.requestResults;f.requestResults=d;e=a.requestRecommendations;f.requestRecommendations=e;c=a.Surfaces;f.Surfaces=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchThreadCutover",["I64","ReQL","ReQLSuspense"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b){b=d("I64").of_string_opt(b);if(!b)return!1;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b));return Boolean(a)};g.isCutoverOpenThread=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSSearchIssueSearchQuerySupportedTypes.bs",["LSSearchType.bs"],function(a,b,c,d,e,f){"use strict";c=[(a=b("LSSearchType.bs")).contact,a.group,a.page,a.noncontact,a.igContactFollowing,a.igContactNonfollowing,a.igNoncontactFollowing,a.igNoncontactNonfollowing];d=[a.contact,a.group,a.page,a.noncontact,a.igContactFollowing,a.igContactNonfollowing,a.igNoncontactFollowing,a.igNoncontactNonfollowing];e=[a.contact];b=[a.contact,a.group,a.page,a.igContactFollowing,a.igContactNonfollowing,a.igNoncontactFollowing,a.igNoncontactNonfollowing];var g=[a.contact,a.noncontact];a=[a.contact,a.noncontact,a.igContactFollowing,a.igContactNonfollowing,a.igNoncontactFollowing,a.igNoncontactNonfollowing];f.allSupportedTypes=c;f.armadilloSupportedTypes=d;f.onlyContacts=e;f.broadcastFlowSupportedTypes=b;f.addParticipantBase=g;f.addParticipantXac=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSSearchIssueSearchQuerySupportedTypes.re",["MWLSSearchIssueSearchQuerySupportedTypes.bs"],function(a,b,c,d,e,f){c=(a=b("MWLSSearchIssueSearchQuerySupportedTypes.bs")).allSupportedTypes;f.allSupportedTypes=c;d=a.armadilloSupportedTypes;f.armadilloSupportedTypes=d;e=a.onlyContacts;f.onlyContacts=e;b=a.broadcastFlowSupportedTypes;f.broadcastFlowSupportedTypes=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createMWChatSearchTypeaheadDataEntry",[],function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{displayName:a.displayName,id:a.id,imageUrl:a.imageUrl,isContact:a.isContact,isE2e:a.isE2e,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInteropEligible:a.isInteropEligible!==!1,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mwChatSearchPayloadEnumerate",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);b=b.map(function(a,b){var c=a.key,d=a.label;a=a.rawData;return{key:c,label:d,rawData:babelHelpers["extends"]({},a,{renderIndex:b}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mwStaticSearchEntries",["fbt"],function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__--dZZ_HGKAA__JHASH__",[h._param("query_value",a)]);return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isE2e:!1,resultType:"messages",secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchEntry=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("sortMWChatSearchLocalEntries",[],function(a,b,c,d,e,f){"use strict";var g={group:1,message:2,messages:3,page:4,user:0};function a(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];b[d.id]=(d=d.rankingScore)==null?void 0:d.score}return a.sort(function(a,c){var d=g[a.resultType],e=g[c.resultType];if(d!==e)return d-e;e=(d=b[a.id])!=null?d:0;d=(a=b[c.id])!=null?a:0;return d-e})}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","MAWGating.re","MWChatSearchIssueLightspeedQuery.re","MWChatSearchResultType","MWChatSearchThreadCutover","MWLSSearchIssueSearchQuerySupportedTypes.re","MWPSearchSystem.re","Promise","cr:10864","cr:3071","createMWChatSearchTypeaheadDataEntry","gkx","justknobx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","mwStaticSearchEntries","promiseDone","qex","relay-runtime/network/RelayObservable","setTimeout","sortMWChatSearchLocalEntries"],function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("6438");a=c("gkx")("4164");var i=a&&((e=c("qex")._("73"))!=null?e:!1),j=(f=c("qex")._("962"))!=null?f:a?10:0,k=(e=c("qex")._("963"))!=null?e:a?10:0,l=d("MAWGating.re").isArmadillo()&&d("MAWGating.re").isTlcSearchEnabled();f=function(){function a(a){var b=a.database,d=a.excludedIDs;d=d===void 0?[]:d;var e=a.lightspeedSupportedTypes;e=e===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:e;var f=a.source;f=f===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:f;var g=a.includeRecommendations;g=g===void 0?!0:g;a=a.includeGroupSearch;a=a===void 0?!1:a;this.$1=[];this.$5=function(){};this.$1=d;this.$2=f===c("MWChatSearchIssueLightspeedQuery.re").Surfaces.omnipickerArmadillo?c("MWLSSearchIssueSearchQuerySupportedTypes.re").armadilloSupportedTypes:e;this.$3=f;this.$4=b;this.$6=g;this.$7=a}var e=a.prototype;e.resolveData=function(a,b){var e=this;b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$7&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var f=[],g=new Set();for(var b=b,h=Array.isArray(b),i=0,b=h?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=b.length)break;j=b[i++]}else{i=b.next();if(i.done)break;j=i.value}j=j;g.has(j.key)||(f.push(j),g.add(j.key))}j=l?f.filter(function(a){var b=a.key;a=a.rawData;return a.resultType!==c("MWChatSearchResultType").USER||a.searchSource==="offline_nullstate"?!0:!d("MWChatSearchThreadCutover").isCutoverOpenThread(e.$4,b)}):f;i={entries:j,params:a};h=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);b=c("mwChatSearchPayloadEnumerate")(h(i));return b};e.fetchNetwork=function(a){var d=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(e){if(a.query.length===0&&!d.$6){e.next({entries:[],params:a});e.complete();return}if(a.query.length===0){d.$5=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(d.$4,d.$2,d.$7,d.$3,a,function(b){if(c("justknobx")._("449")&&b.length===0){c("setTimeout")(function(){e.next(d.resolveData(a,[])),e.complete()},1500);return}e.next(d.resolveData(a,b));e.complete()});return}var f=[],g=[],l=!1,m=!1;c("promiseDone")(b("Promise").all([b("cr:10864")!=null?b("cr:10864").fetchResults(d.$2,d.$3,d.$7,a):b("Promise").resolve([]),b("cr:3071")!=null&&(d.$3!==c("MWChatSearchIssueLightspeedQuery.re").Surfaces.broadcast||i)?b("cr:3071").search(a.query,d.$7):b("Promise").resolve([])]).then(function(b){var h=b[0];b=b[1];b=j<=0?b:b.slice(0,j);h=k<=0?h:h.slice(0,k);f=b.concat(h);f=c("sortMWChatSearchLocalEntries")(f);l||e.next(d.resolveData(a,f.concat(g)))})["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")})["finally"](function(a){m=!0}));var n=function b(){if(a.query.length>0&&c("MWPSearchSystem.re").isDone()&&h&&m!==!0){c("setTimeout")(b,100);return}e.next(d.resolveData(a,f.concat(g)));e.complete()},o=c("MWChatSearchIssueLightspeedQuery.re").requestResults(d.$4,d.$2,d.$3,d.$7,a,function(a){g=a,n()});d.$5=function(){o(),l=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSThreadDisplayContext.re",["MWLSThreadDisplayContext.bs"],function(a,b,c,d,e,f){a=b("MWLSThreadDisplayContext.bs").Provider.make;f.Provider_make=a;c=b("MWLSThreadDisplayContext.bs").useHook;f.useHook=c;d=b("MWLSThreadDisplayContext.bs").Provider;f.Provider=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsUniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("95");c=b("FalcoLoggerInternal").create("ls_universal_search_result_selected",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchTypeaheadHelper.bs",["bs_caml_int64","bs_int64"],function(a,b,c,d,e,f){"use strict";function a(a){return{resultIndex:b("bs_int64").to_string(a.globalIndex),resultType:b("bs_caml_int64").to_int32(a.type_),threadType:b("bs_caml_int64").to_int32(a.threadType),queryString:a.query,resultFbid:a.resultId}}f.getLoggingValues=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchTypeaheadHelper.re",["MWJewelSearchTypeaheadHelper.bs"],function(a,b,c,d,e,f){a=b("MWJewelSearchTypeaheadHelper.bs").getLoggingValues;f.getLoggingValues=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWSearchLogging",["LsUniversalSearchEndFalcoEvent","LsUniversalSearchResultSelectedFalcoEvent","MWJewelSearchTypeaheadHelper.re"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(a==="offline"||a==="offline_nullstate"||a==="secure")return[0];return a==="server"?[1,2]:[]};function a(a,b,d,e){var f=d.rawData;d=f.id;var g=parseInt(d,10),i=2;if(g<=0)i=0;else{var j=d,k=5;g=f.serverSearchResult;if(g!=null){d=c("MWJewelSearchTypeaheadHelper.re").getLoggingValues(g);k=d.resultType;i=d.threadType;j=d.resultFbid}var l=((g=f.renderIndex)!=null?g:-1).toString();c("LsUniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:h(f.searchSource),instance_id:a,recipient_ids:e,result_index_without_header:l,search_result:{query_string:b,result_fbid:j,result_index:l,result_type:k},thread_type:i,ui_section:0}})}c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:6,instance_id:a,recipient_ids:e,thread_type:i}})}g.logResultSelected=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSLockSvgIcon.re",["MDSLockSvgIcon.bs"],function(a,b,c,d,e,f){a=b("MDSLockSvgIcon.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","ix","CometIcon.react","CometMiddot.react","CometPageVerificationIcon.react","CometTextWithIcon.react","CometTypeaheadViewItem.react","CurrentEnvironment","MAWGating.re","MDSLockSvgIcon.re","MWChatFacepile.re","MWChatProfile.re","MWChatSearchResultType","TetraText.react","TetraTextPairing.react","XCometMessengerControllerRouteBuilder","deferredLoadComponent","fbicon","react","requireDeferred","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),m=d("MAWGating.re").isTlcSearchEnabled(),n={contentRoot:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",marginTop:"m8h3af8h",marginBottom:"kjdc1dyq",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",":hover":{backgroundColor:"him0ws1g"}},searchIcon:{paddingTop:"d1v569po",paddingEnd:"p4n9ro91",paddingBottom:"onux6t7x",paddingStart:"t4os9e1m"},verifiedBadge:{paddingStart:"fwlpnqze"}};function a(a){var b=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=b.rawData,f=e.id,g=e.imageUrl,o=e.isE2e,p=e.isInstagramAccount,q=e.isInteropEligible,r=e.resultType,s=e.secondaryImageUrl,t=e.section,u=e.subtext;e=e.verificationStatus;u=o?h._("__JHASH__sZy-tIh1kQ2__JHASH__"):u;r=r==="messages"?j.jsx("div",{className:c("stylex")(n.searchIcon),children:j.jsx(c("CometIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})}):s!==""?j.jsx(d("MWChatFacepile.re").make,{firstParticipantURI:g,secondParticipantURI:s,size:36}):j.jsx(d("MWChatProfile.re").make,{size:36,src:g});s=k();g=s[0];s=s[1];var v=b.rawData.otherUserId;g=(g=g)!=null?g:f;var w=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:g}):"/t/"+g+"/",x=b.rawData.resultType===c("MWChatSearchResultType").USER||b.rawData.resultType===c("MWChatSearchResultType").GROUP;v=babelHelpers["extends"]({},b,{key:g,rawData:babelHelpers["extends"]({},b.rawData,{id:g},v==null&&f!==g?{otherUserId:f}:{})});return j.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:v,isDisabled:p===!0&&q===!1,itemStartContent:r,linkProps:{preventLocalNavigation:!0,url:w},testid:void 0,xstyle:n.contentRoot,children:[m===!0&&x?j.jsx(l,{id:f.toString(),updateThreadKey:s}):null,j.jsx(c("TetraTextPairing.react"),{body:j.jsxs(c("TetraText.react"),{numberOfLines:1,type:"body3",children:[b.label,e!=null?j.jsx("span",{className:c("stylex")(n.verifiedBadge),children:j.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:e})}):null]}),level:3,meta:u&&u!==""?j.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta4",children:j.jsxs(c("CometTextWithIcon.react"),{iconBefore:o?j.jsx(d("MDSLockSvgIcon.re").make,{color:"black",size:"12"}):null,children:[u,(t==null||t==="")&&Boolean(b.rawData.isInstagramAccount)?j.jsxs(j.Fragment,{children:[j.jsx(c("CometMiddot.react"),{}),"Instagram"]}):null]})}):null})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return function(b){var d=b.ariaProps,e=b.entries;b.extraViewProps;var f=b.highlightedEntry,g=b.isLoading;b.onAbandonTypeahead_DO_NOT_USE;var i=babelHelpers.objectWithoutPropertiesLoose(b,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);b=e.length===0&&i.queryString.length>0;g=e.length>0&&g;return b?h.jsx(c("MWJewelSearchEmptyState.react"),{queryString:i.queryString}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:d,entries:e,highlightedEntry:f,xstyle:a,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:b,isActive:d,key:b.key,role:a}))}}),g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","LsUniversalSearchEndFalcoEvent","LsUniversalSearchQueryChangedFalcoEvent","LsUniversalSearchStartFalcoEvent","MAWGating.re","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","MWLSThreadDisplayContext.re","MWPSearchSystem.re","MWSearchLogging","clearTimeout","createMWJewelSearchTypeaheadViewStrategy.react","gkx","react","setTimeout","useReStore","uuid"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n={searchInput:{marginTop:"th51lws0",marginEnd:"l7ghb35v",marginBottom:"mfn553m3",marginStart:"kmwttqpk",paddingTop:"srn514ro",paddingEnd:"r227ecj6",paddingBottom:"rl78xhln",paddingStart:"gt60zsk1"},searchView:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",boxShadow:"rcrnfkcx",display:"alzwoclg",minHeight:"rom5iyca"}},o=c("createMWJewelSearchTypeaheadViewStrategy.react")(),p=["1001"],q=c("gkx")("6395");function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus,g=a.onPressEntry,r=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry"]);a=m(null);var s=a[0],t=a[1],u=l(null),v=c("useReStore")(),w=c("MWLSThreadDisplayContext.re").useHook();a=k(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:v,excludedIDs:[],includeGroupSearch:w==="Inbox"&&c("gkx")("1902857"),includeRecommendations:!0,lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})},[v,w]);var x=j(function(){t(null),s!=null&&c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:0,instance_id:s,recipient_ids:p}}),e("")},[e,s]),y=j(function(a){var b=function(){u.current!=null&&(c("clearTimeout")(u.current),u.current=null),g!=null&&g(a)};if(s==null){b();return}d("MWSearchLogging").logResultSelected(s,r.queryString,a,p);b()},[g,s,r.queryString]),z=j(function(){q&&c("MWPSearchSystem.re").clearAll(v);var a=c("uuid")();t(a);c("LsUniversalSearchStartFalcoEvent").log(function(){return{instance_id:a}});u.current=c("setTimeout")(function(){c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:3,instance_id:a,recipient_ids:p}})},3e4)},[v]),A=j(function(a){s!=null&&c("LsUniversalSearchQueryChangedFalcoEvent").log(function(){return{instance_id:s,query_string:a}}),e(a)},[e,s]);return i.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:s?i.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onBlur:b,onChange:A,onClose:x,onFocus:f,onOpen:z,onPressEntry:y,placeholder:h._("__JHASH__ktsKn3dbNLm__JHASH__"),queryString:r.queryString,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:o,xstyles:{inputXStyle:n.searchInput,viewXStyle_DO_NOT_USE:n.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWEncryptedBackupsThreadListNuxWrapperFallback.react",["react"],function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],function(a,b,c,d,e,f,g){"use strict";var h="maw_unsupported_browser_nux_dismissed",i="dismissed";a=function(){var a;return((a=c("WebStorage").getLocalStorageForRead())==null?void 0:a.getItem(h))===i};b=function(){var a;(a=c("WebStorage").getLocalStorage())==null?void 0:a.setItem(h,i)};g.getIsDismissed=a;g.setIsDismissed=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWDetectDbSupport",["ExecutionEnvironment","FBLogger","MWLSDatabaseNames","Promise","QPLUserFlow","clearTimeout","justknobx","qpl","setTimeout"],function(a,b,c,d,e,f,g){"use strict";var h=(f=(f=window)==null?void 0:f.indexedDB)!=null?f:(f=self)==null?void 0:f.indexedDB,i="__ensure_db",j,k=!1,l="IndexedDB is not supported";f=new(b("Promise"))(function(a,b){if(!c("ExecutionEnvironment").canUseDOM){a(!1);return}if(c("justknobx")._("45")===!1){a(!0);return}if(k){a(!0);return}if(h==null){c("FBLogger")("messenger_web_product").warn("[pdb check] "+l+", indexedDB was null");a(!1);return}if(typeof h.databases==="function"){b=h.databases();b.then(function(b){b.forEach(function(b){b=b.name||"";b.includes(d("MWLSDatabaseNames").lightspeedPrefix)&&(k=!0,c("QPLUserFlow").addPoint(c("qpl")._(25305590,"1127"),"check_indexeddb"),a(!0))})})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[pdb check] error in get databases")})}var e=h.open(i);if(!e){c("FBLogger")("messenger_web_product").warn("[pdb check] "+l+", unable to open new database");a(!1);return}e.onsuccess=function(){k=!0,c("QPLUserFlow").addPoint(c("qpl")._(25305590,"1127"),"check_indexeddb"),a(!0)};e.onerror=function(){c("FBLogger")("messenger_web_product").catching(e.error).warn("[pdb check] onerror when opening db"),a(!1)}});var m=function(){try{if(k&&h!=null){var a=h.deleteDatabase(i);a.onerror=function(){c("FBLogger")("messenger_web_product").mustfix("[pdb check] cannot delete db")}}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[pdb check] deleteDb error")}},n=function(){j!=null&&c("clearTimeout")(j),m()};f.then(n,n);var o=b("Promise").race([f,new(b("Promise"))(function(a){j!=null&&c("clearTimeout")(j),j=c("setTimeout")(function(){a(!1)},1e4)})])["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("[pdb check] MWDetectDbSupport error");return!1});function a(){return k}function e(){return o}g.isDBCreated=a;g.isIndexedDbSupported=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWUnsupportedBrowsersNuxWrapper.react",["CometPlaceholder.react","MAWUnsupportedIndexedDBNuxKey","MWDetectDbSupport","WebStorage","cr:2883","cr:4083","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.children,f=a.marginHorizontal;a=a.marginVertical;var g=i(d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed()),j=g[0],k=g[1];g=window.indexedDB!=null&&c("WebStorage").getLocalStorage()!=null;return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:j?e:b("cr:4083")&&!d("MWDetectDbSupport").isDBCreated()?h.jsx(b("cr:4083"),{marginHorizontal:f,marginVertical:a,onCloseButtonClick:function(){k(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):b("cr:2883")&&!g?h.jsx(b("cr:2883"),{marginHorizontal:f,marginVertical:a,onCloseButtonClick:function(){k(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FDSMWMessageDeliveryStatusIcons.re",["FDSMWMessageDeliveryStatusIcons.bs"],function(a,b,c,d,e,f){a=b("FDSMWMessageDeliveryStatusIcons.bs").DeliveredAndRead.make;f.DeliveredAndRead_make=a;c=b("FDSMWMessageDeliveryStatusIcons.bs").DeliveredAndRead;f.DeliveredAndRead=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWThreadListMarketplaceItem.bs",["fbt","ix","LsSystemFolder.bs","MWIcon.react","MWPBumpEntityKey.bs","MWThreadListFolderItem.bs","bs_curry","fbicon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.size,d=a.thread,e=a.responsive,f=a.onClick;a=a.selectedThreadKey;return j.jsx(b("MWThreadListFolderItem.bs").make,{size:c,thread:d,responsive:e,onClick:function(a){b("bs_curry")._1(f,b("LsSystemFolder.bs").mplace);return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},selectedThreadKey:a,systemFolder:b("LsSystemFolder.bs").mplace,icon:j.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("1027308"),32),color:"primary",size:56}),threadName:g._("__JHASH__0Ktcc3EsRI7__JHASH__")})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ReStore.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){return a}b={};f.toGenericStorage=a;f.Provider=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchOfflineOpenConversations",["minisearch"],function(a,b,c,d,e,f,g){"use strict";var h=new(c("minisearch"))({fields:["content"],searchOptions:{fuzzy:.2,prefix:!0},storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchOfflineOpenConversations.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSDatabaseType.bs","LSInitSyncCompleteSubscription.bs","MNetRankType.bs","MWChatTemporarySearchResult.bs","MWInboxSecureContentSearch.bs","MWPSearchOfflineOpenConversations","Promise","ReQL.bs","ReStore.bs","bs_belt_Array","bs_belt_Option","bs_belt_SortArray","bs_caml","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64"],function(a,b,c,d,e,f){"use strict";function a(a,c){return"p__"+b("bs_int64").to_string(a)+"__"+b("bs_int64").to_string(c)}function g(a){a=a.split("__");var c=a.length;if(c!==3)return;else return[b("bs_caml_format").caml_int64_of_string(b("bs_caml_array").get(a,1)),b("bs_caml_format").caml_int64_of_string(b("bs_caml_array").get(a,2))]}function h(a,c){var d;return b("Promise").all([(d=b("ReQL.bs")).firstExn(d.map(d.fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId})),d.first(d.getKeyRange(d.fromTableAscending(a.table("threads")),{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0}))]).then(function(c){var d=c[1];if(d!==void 0){var e=c[0];return b("Promise").all([b("MWInboxSecureContentSearch.bs").getThreadPics(d,e,a),b("MWInboxSecureContentSearch.bs").getThreadParticipants(d,a)]).then(function(a){var c,f=a[0],g=(c=b("bs_caml_int64")).to_float(d.lastActivityTimestampMs);g={contactId:c.zero,contactType:c.zero,score:g,scoreType:c.zero,scoreIndex:c.zero};return b("MWChatTemporarySearchResult.bs").fromThread(d,"offline",e,f[0],f[1],a[1],g)})}else return b("Promise").resolve(void 0)})}function i(a,b){a=a.rankingScore;a=a!==void 0?a.score:0;b=b.rankingScore;b=b!==void 0?b.score:0;if(b>a)return 1;else if(b<a)return-1;else return 0}function j(a,c){return b("Promise").all(c.map(function(c){var d=c.category;switch(d){case 0:d=c.id;d=g(d);if(d!==void 0)return h(a,b("bs_int64").to_string(d[0]));else return b("Promise").resolve(void 0);case 1:return h(a,c.id);case 2:var e=c.id;return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(e),tl:0})).then(function(c){if(c!==void 0&&!(c.isMemorialized||b("bs_caml").i64_eq(c.contactViewerRelationship,b("bs_caml_int64").one)||b("bs_caml").i64_neq(c.blockedByViewerStatus,b("bs_caml_int64").zero)||b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,c),!1)))return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:b("bs_caml_format").caml_int64_of_string(e),tl:{hd:b("MNetRankType.bs").messengerUserSearch,tl:0}})).then(function(a){return b("MWChatTemporarySearchResult.bs").fromContact(b("bs_caml_option").some(a),c,void 0,"offline")});else return b("Promise").resolve(void 0)})}})).then(function(a){a=b("bs_belt_Array").keepMap(a,function(a){return a});var c=b("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType!=="group"}),i);a=b("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType==="group"}),i);return c.concat(a)})}var k={contents:void 0};function c(a,c){var d=k.contents;if(d===void 0)return b("Promise").resolve([]);var e=b("bs_caml_option").valFromOption(d),f=b("MWPSearchOfflineOpenConversations").search(a).map(function(a){return a}).filter(function(a){if(c)return!0;else return a.category===2});return b("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(e,b("LSDatabaseType.bs").ranking).then(function(a){return j(e,f)})}function l(a,c,d){return b("LSInitSyncCompleteSubscription.bs").maybeWaitForSyncGroup(a,b("LSDatabaseType.bs").ranking).then(function(e){var f=b("ReStore.bs").toGenericStorage(a);return b("Promise").all(c.map(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("ranking_scores")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:{hd:d,tl:0}})).then(function(b){if(b!==void 0)return[a,b.score]})}))})}function d(a,c){return l(a,c,b("MNetRankType.bs").messengerUserSearch)}f.getGroupParticipantKey=a;f.parseGroupParticipantKey=g;f.sortByRankingScore=i;f.searchHelper=j;f.db=k;f.search=c;f.fetchRankingScoresHelper=l;f.fetchRankingScoresKP=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchOfflineOpenConversations.re",["MWPSearchOfflineOpenConversations.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey,a,c);return a};f.getGroupParticipantKey=a;c=function(a,c){a=b("bs_curry")._2(b("MWPSearchOfflineOpenConversations.bs").search,a,c);return a};f.search=c;d=function(a,c){a=b("bs_curry")._2(b("MWPSearchOfflineOpenConversations.bs").fetchRankingScoresKP,a,c);return a};f.fetchRankingScoresKP=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSearchOpenIndexer.bs",["MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversations.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_int64"],function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){var c=b("bs_int64").to_string(a.id);a=a.name;a={content:a,id:c,category:2};b("MWPSearchOfflineOpenConversations").add(a);g.set(c,a)}function i(a){var c=g.get(a);if(!(c==null)){g["delete"](a);b("MWPSearchOfflineOpenConversations").remove(c);return}}var j={contactRecords:g,addToIndex:h,remove:i},k=new Map();function l(a){var c=a.threadName;if(c===void 0)return;a=b("bs_int64").to_string(a.threadKey);c={content:c,id:a,category:1};b("MWPSearchOfflineOpenConversations").add(c);k.set(a,c)}function m(a){var c=k.get(a);if(!(c==null)){k["delete"](a);b("MWPSearchOfflineOpenConversations").remove(c);return}}var n={threadRecords:k,addToIndex:l,remove:m},o=new Map();function p(a,c){if(c===void 0)return;a=b("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a.threadKey,a.contactId);c=c.name;c={content:c,id:a,category:0};b("MWPSearchOfflineOpenConversations").add(c);o.set(a,c)}function q(a,c){a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c.contactId,tl:0}));return p(c,a)}function r(a,c){a=b("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a,c);c=o.get(a);if(!(c==null)){o["delete"](a);b("MWPSearchOfflineOpenConversations").remove(c);return}}var s={participantRecords:o,addToIndex:p,addToIndexWithoutContact:q,remove:r};function a(a,c){if(typeof c==="number")return i(b("bs_int64").to_string(a));if(c.TAG===0)return h(c._0);a=c._0;i(b("bs_int64").to_string(a.id));return h(a)}function c(a,c){if(typeof c==="number")return m(b("bs_int64").to_string(a));if(c.TAG===0)return l(c._0);a=c._0;m(b("bs_int64").to_string(a.threadKey));return l(a)}function d(a,b,c,d){if(typeof d==="number")return r(b,c);if(d.TAG===0)return q(a,d._0);r(b,c);return q(a,d._0)}function e(a,c,d,e){b("MWPSearchOfflineOpenConversations.bs").db.contents=b("bs_caml_option").some(a),c.forEach(h),d.forEach(l),e.forEach(function(a){return p(a[0],a[1])})}f.Contacts=j;f.GroupThreads=n;f.GroupParticipants=s;f.onContactChanged=a;f.onGroupThreadChanged=c;f.onGroupParticipantChanged=d;f.startInitialIndex=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5597508366945721"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("usePremiumMusicVideoInterruptionSubscription.graphql",["usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PremiumMusicVideoInterruptionSubscribeResponsePayload",kind:"LinkedField",name:"premium_music_video_interruption_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disable_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePremiumMusicVideoInterruptionSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePremiumMusicVideoInterruptionSubscription",selections:c},params:{id:b("usePremiumMusicVideoInterruptionSubscription_facebookRelayOperation"),metadata:{subscriptionName:"premium_music_video_interruption_subscribe"},name:"usePremiumMusicVideoInterruptionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:null,name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useResolvedVideoPlayerConfigs_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerIMFRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOzImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useOzImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useProgressiveImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProgressiveImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useShakaImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShakaImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,concreteType:"VideoPlayerShakaLiveP2PInit",kind:"LinkedField",name:"video_player_shaka_live_p2p_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"json_encoded_video_data",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoImplementationsImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsImpl_video",selections:[{args:null,kind:"FragmentSpread",name:"useOzImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useShakaImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useProgressiveImplementationData_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("usePremiumMusicVideoInterruptionSubscription",["CometRelay","react","usePremiumMusicVideoInterruptionSubscription.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("usePremiumMusicVideoInterruptionSubscription.graphql");function a(a){var b=d("CometRelay").useRelayEnvironment();i(function(){if(a==null)return;var c=d("CometRelay").requestSubscription(b,{subscription:j,variables:{input:{user_id:a}}});return function(){c.dispose()}},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){var a=c("qex")._("1634")||!1;a&&b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);var b=c("qex")._("1635");if(b!=null&&b>0)return!isNaN(a)&&a>0&&a<=b}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("handleOzManifestFetchErrorEvent",[],function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("handleOzStreamErrorEvent",[],function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent","qex"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.playerFormat,f=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var g=a.id,j=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:{instreamExtraConfig:{instreamHaloDelayTimeSeconds:j==null?void 0:j.instream_halo_delay_time_seconds},instreamVideoAdBreaksComet:a,playerFormat:e,subOrigin:f,videoFBID:g}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LatencySensitiveType",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XFBLatencySensitiveTypeUtils.facebook",["$InternalEnumUtils","LatencySensitiveType"],function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("LatencySensitiveType"));b=d("$InternalEnumUtils").createFromJSEnum(c("LatencySensitiveType"));g.toJSEnum=a;g.fromJSEnum=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getAvailableMimeCodecsFromDashManifest",[],function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a){var b=[],c=window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,e;while(e=d.exec(a)){e=e[1]+'; codecs="'+e[2]+'"';var f=!0,h=!1;g(e)&&(h=!0,f=c?c.isTypeSupported(e):!1);b.push({isRequiredForPlayback:h,isTypeSupported:f,mimeCodec:e})}}return b}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","useGraphQLVideoAutoplayGatingResult_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);return d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("isEmptyObject",[],function(a,b,c,d,e,f){"use strict";function a(a){for(var a in a)return!1;return!0}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:b,graphApiVideoLicenseUri:(b=d)!=null?b:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&c("isEmptyObject")(d.videoLicenseUriMap)?null:d}g.makeGraphQLVideoDRMInfo=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","react","useGraphQLVideoDRMInfo_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useRef;function j(a){if(a!=null){a=k(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function k(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var c=i(null),e=j(a.drm_info),f=i(null);c.current!==a.drm_info&&(c.current=a.drm_info,f.current=e);return f.current}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","react","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useRef;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null?void 0:(h=h.hive_java)==null?void 0:h.min_version;i=((i=a.hive_initialization_options)==null?void 0:i.hive_java)?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var c=i(null),e=i(null);a=j((a=a.p2p_settings)!=null?a:null);var f=JSON.stringify(a);if(c.current!==f){c.current=(c=f)!=null?c:null;e.current=(f=a)!=null?f:null}return e.current}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("handleVideoPlayerLatencyLevelChange",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getQualityLabel()}function j(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function k(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function l(a,b){var c=j(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);return(a=b)!=null?a:null},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingVideoQuality:function(){var a=d();return a?i(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){if(c("gkx")("847")){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))}return!1},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){var a=d();return a?j(a):""},getVideoProjectionType:function(){var a=d();return a!=null?k(a):null},getVideoRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);return(a=b)!=null?a:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&l(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzBufferVTTCaptionsVisibleStrategy",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzCustomParsers",[],function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/manifests/OzSegmentOptions",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw new Error("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzError"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var d=0;d<a.length;++d)b+=a[d].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw new(c("oz-player/utils/OzError"))({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}d=0;for(var b=0;b<a.length;++b){var g=a[b];f.set(g,d);d+=g.byteLength}return{buffer:e,view:f}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],function(a,b,c,d,e,f,g,h){a=h;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzNumericalHelper",[],function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){c=c.rangeEnd;return c==null?!1:a.getBool("numerical_range_utils_is_after_range_exclusive")&&b===c||Math.abs(b-c)>((a=d)!=null?a:h)&&b>c}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a=d.$1!=null&&j!=null?d.$1.replace("$Number$",j.toString()):d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzUrlHelper",[],function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer11=null;c.$PredictedSegmentTemplateSegmentsContainer10=d;c.$PredictedSegmentTemplateSegmentsContainer8=k;c.$PredictedSegmentTemplateSegmentsContainer12=f;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=e;c.$PredictedSegmentTemplateSegmentsContainer1=g;c.$PredictedSegmentTemplateSegmentsContainer3=i;c.$PredictedSegmentTemplateSegmentsContainer2=h;c.$PredictedSegmentTemplateSegmentsContainer4=j;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(var d=0;d<c.$PredictedSegmentTemplateSegmentsContainer12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer12[d].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer2};else return null};e.$PredictedSegmentTemplateSegmentsContainer14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;this.$PredictedSegmentTemplateSegmentsContainer1=d.$PredictedSegmentTemplateSegmentsContainer1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer12=d.$PredictedSegmentTemplateSegmentsContainer12;this.$PredictedSegmentTemplateSegmentsContainer8=d.$PredictedSegmentTemplateSegmentsContainer8;for(var d=0;d<this.$PredictedSegmentTemplateSegmentsContainer12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer12[d].d,this.$PredictedSegmentTemplateSegmentsContainer9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer15(a):this.$PredictedSegmentTemplateSegmentsContainer16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer5}];var c=this.$PredictedSegmentTemplateSegmentsContainer11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var e=this.$PredictedSegmentTemplateSegmentsContainer12.length>0?this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer9);return this.$PredictedSegmentTemplateSegmentsContainer14(0,0,this.$PredictedSegmentTemplateSegmentsContainer3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer14(b.t/this.$PredictedSegmentTemplateSegmentsContainer5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-e)};e.$PredictedSegmentTemplateSegmentsContainer15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer14(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=d("oz-player/shims/www/OzStreamsWWW").OzReadableStream,g.OzReadableStreamIsPolyfilled=d("oz-player/shims/www/OzStreamsWWW").OzReadableStreamIsPolyfilled,g.OzWritableStream=d("oz-player/shims/www/OzStreamsWWW").OzWritableStream,g.OzWritableStreamIsPolyfilled=d("oz-player/shims/www/OzStreamsWWW").OzWritableStreamIsPolyfilled},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzError"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;var f=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},g,h;e.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){h=a},write:function(a){e.emit("writableWrite",a);try{e.onDataWritten(a)}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+e.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}g.enqueue(a)},close:function(){e.emit("writableClose");try{e.onClose()}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+e.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}g.close()},abort:function(a){a=f(a);g.error(a)}});e.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){g=a},cancel:function(a){e.emit("readableCancel",a),h.error(a)}});return e}var e=b.prototype;e.onDataWritten=function(a){};e.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],function(a,b,c,d,e,f,g){a={now:function(){return c("performanceNow")()},getEntriesByName:function(a,b){return typeof c("performance").getEntriesByName==="function"?c("performance").getEntriesByName(a,b):[]}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TimeRanges",["invariant"],function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzAbrUtils",[],function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;var f=b.filter(function(b){var f=b.getWidth()<=c.width*d*e;b=b.getHeight()<=c.height*d*e;return a.getBool("use_strict_resolution_constraint")?f&&b:f||b});return!f.length?[b[0]]:f};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};f.excludeLargeRepresentations=a;f.getReasonToPreventEvaluation=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzBufferingUtils",[],function(a,b,c,d,e,f){"use strict";e=.1;var g=1,h=.2;function a(a,b,c){if(i(a,c))return!0;c=a.currentTime;var d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function i(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return Math.abs(d-b)<=h||Math.abs(c-b)<=h}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return j(b,a.getBufferedRanges())}function j(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];e.startTime<=a&&e.endTime>a&&(c=e)}return!c?0:c.endTime-a}function c(a){var b=[];for(var c=0;c<a.buffered.length;c++)b.push({rangeStart:a.buffered.start(c),rangeEnd:a.buffered.end(c)});return b}function d(a,b,c,d){if(c.length===0||b.size===0)return!1;var e=null;for(var f=0;f<c.length;f++){var g=c[f],h=b.get(g);if(l(a,0,h)){e=g;break}}if(e==null)return!1;var i=!0;b.forEach(function(c,b){if(e===b)return;b=c.getBufferedRanges();b.forEach(function(b){i=k(a,b,d,i)})});return!i}function k(a,b,c,d){return a>=b.startTime&&a<b.endTime+c?!1:d}function l(a,b,c){b===void 0&&(b=0);if(c){c=c.getBufferedRanges();for(var d=0;d<c.length;d++)if(c[d].startTime<=a&&c[d].endTime>a&&c[d].endTime-a>b)return!0}return!1}f.BUFFER_UNDERFLOW_THRESHOLD=e;f.BUFFER_OVERFLOW_THRESHOLD=g;f.BUFFER_FUDGE_FACTOR=h;f.hasEnoughBuffer=a;f.hasBufferedToOrReachedEnd=i;f.getBufferAheadFromPlaybackStates=b;f.getBufferAheadFromCurrentTime=j;f.getNumericalRangesFromSourceBuffer=c;f.hasEnoughPartialBuffer=d;f.hasBuffer=l},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getBandwidth()-b.getBandwidth()};a=function(a,b,c,d){if(d.length===0)return[];d.sort(g);b=b.reduce(function(a,b){return b.applyRestriction(a,c)},d);return a.getBool("ignore_restrictions_when_all_representations_restricted")?b.length>0?b:d:b};f.applyVideoPlaybackRestrictions=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getQualityLabel()===b.$2.getQualityLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/drm/OzDrmUtils",[],function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzDOMEventListenerImpl",["cr:1351686"],function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:b("cr:1351686").listen,captureDOMEvent:b("cr:1351686").capture,suppressDOMEvent:b("cr:1351686").suppress};c=a;g["default"]=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector6=new Map();g.$OzBufferingDetector8=null;g.$OzBufferingDetector9=function(a){g.$OzBufferingDetector11(a)};g.$OzBufferingDetector2=b;g.$OzBufferingDetector4=e;g.$OzBufferingDetector5=f;g.$OzBufferingDetector7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector2.paused?g.$OzBufferingDetector1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):g.$OzBufferingDetector1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector2,g.$OzBufferingDetector7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4,null);g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"pause",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"play",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeked",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeking",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"waiting",g.$OzBufferingDetector9));g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplay",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplaythrough",g.$OzBufferingDetector9));return g}var e=b.prototype;e.$OzBufferingDetector10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector6.forEach(function(e,f){var g=a.$OzBufferingDetector2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector6.set(a,b)};e.$OzBufferingDetector11=function(a){var b=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector5(),this.$OzBufferingDetector6),c=this.$OzBufferingDetector1;this.$OzBufferingDetector1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector8=a};e.destroy=function(){this.$OzBufferingDetector3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:72","gkx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector","qex"],function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,i=c("qex")._("1658");function j(a){return i!=null&&i!==""?i:null}function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f){if(f.current!=null)return;var g=!0,h=function(){if(g)return!1;var a=f.current!==i;return a&&c("gkx")("1508440")?!0:!1},i=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=i;g=!1;a=function(a){if(h())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})};d=function(a){if(h())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};i.addListener("enterBuffering",a);i.addListener("leaveBuffering",d)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];d&&a!=null&&e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,null));return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function k(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function l(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function m(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function n(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var k=a.getQueryData(),l;if(h){l={};var m=j(a);m!==null&&m!==""&&(l=babelHelpers["extends"]({},l,{os_param:m}));if(d.getBool("server_side_abr_send_client_estimates",!1)){m=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);m&&(l=babelHelpers["extends"]({},l,{_nc_bwe:String(m.bandwidthEstimate),_nc_bwe_std:String(m.bandwidthStandardDeviation),_nc_ttfb:String(m.timeToFirstByteMsEstimate),_nc_ttfb_std:String(m.timeToFirstByteMsStandardDeviation)}));d=e();d&&(l=babelHelpers["extends"]({},l,{_nc_abr_bitrate:String(d.getBandwidth()),_nc_abr_qlabel:d.getQualityLabel()}))}c("gkx")("2047")&&(l=babelHelpers["extends"]({},l,{_nc_wclk:"1",_nc_wclk_ms:"1"}))}h&&c("gkx")("1998922")&&(l=babelHelpers["extends"]({},l,{_nc_nc:"1"}));c("gkx")("1836350")&&(k.uss!=null&&k.odm!=null&&(l=babelHelpers["extends"]({},l,{manual_redirect:"1"})));g&&(l=babelHelpers["extends"]({},l,{_nc_psid:i}));if(b){m=f();if(m!=null){e=a.getDomain()+a.getPath();d=m.get(e);if(d!=null)for(var h in d){l=babelHelpers["extends"]({},l,(k={},k[h]=d[h],k))}}}return l}g.getOsParamValue=j;g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=k;g.calculateLiveheadFallBehindBlockMargin=l;g.getVideoAbrManagerFactory=m;g.getCustomRequestParametersForURI=n},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzMinimumSmallestDimensionRestriction",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OzMosThresholdRestriction",["MosUtils"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=720,i=2160;function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(h));break;case"UHD":c("gkx")("1488288")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(i));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/configs/OzPlayerConfigDefaults",[],function(a,b,c,d,e,f){a={abort_clear_video_node_on_detach:!1,allow_concurrent_appends:!1,always_use_current_time_in_playback_state:!0,append_once_per_stream_in_caption_stream:!0,async_clear_on_quality_upgrade:!1,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,check_mediasource_readystate_before_end_of_stream:!0,clear_buffer_on_quota_exceeded_error:!0,clear_buffer_on_seek_into_unbuffered_range:!0,create_new_media_source_on_node_reset:!0,debug_live_replay:!1,disable_end_of_stream_in_caption_stream:!0,download_cursor_1st_run_2_fallback:!1,download_cursor_1st_run_set_skipped_segment_on:!0,download_cursor_disable_buffer_ahead_rule_lr_on:!1,download_cursor_disable_buffer_ahead_rule_on:!0,dvl_update_interval_reset_on_err:!0,emit_captions_changed_event:!0,emit_destroyed_after_media_keys_clear:!1,emit_stream_gone_on_end_stream_before_start:!0,enable_dvl:!0,enable_immediate_down_switch:!1,fix_append_buffer_in_pump:!1,fix_dom_exception_as_message:!0,fix_initial_segment_non_zero_start_time:!0,fix_manifest_fetch_mixed_promise_catch:!0,fix_operation_deferred_promise_lifecycle:!1,get_mpd_least_last_time_range:!0,handle_buffered_timerange_update_on_ratechange:!1,handle_invalid_webm_duration:!1,ignore_reset_after_seek_if_bufferahead:!1,ignore_reset_after_seek_if_bufferahead_liverewind:!0,ignore_restrictions_when_all_representations_restricted:!1,latencymanager_stalempd_edgelatency_sec_on:!1,latencymanager_stalled_edgelatency_sec_on:!1,live_audio_ibr:!0,log_appended_segment_info:!1,log_extra_events:!0,media_stream_buffer_gaps_ignore_before_seek:!1,media_stream_tracker_cancel_on_seek:!1,mpd_parse_all_adaptation_sets:!0,ms_promise_for_null:!1,no_representation_error_detailed_message:!0,normalize_mpd_fetch_errors:!0,null_segment_for_no_buffer_target:!0,numerical_range_utils_is_after_range_exclusive:!0,overwrite_video_current_time_property:!0,pdash_download_cursor_nocatchup_use_currentbuffer:!1,pdash_download_cursor_use_totalbuffer:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_user_rate_disable:!0,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_buffer_gaps_skip_reverse:!0,playhead_manager_clamp_initial_playback_position:!1,playhead_manager_handle_time_range_update_on_waiting:!1,playheadman_dont_skip_ahead_past_last_fetched:!1,prevent_multiple_successive_representation_switch:!0,proceed_on_representation_change_in_init_append_fail:!0,reset_catchup_timeout_after_play_sec_on_overwrite:!0,restart_media_streams_on_stream_resumed:!1,retry_video_element_error:!0,segment_end_410_response:!0,should_check_that_source_buffer_attached:!1,sidx_parser_memory_optimization:!1,skip_playhead_adjustment_before_initial_playback_position:!1,skip_timerange_gaps:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,stop_loop_driver_immediately_on_cleanup:!0,streaming_task_reject_current_stream_deferred:!0,stub_safari_source_buffer_abort:!1,throw_no_license_error:!0,use_buffering_detector_for_playhead_interruption:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,use_simple_moving_average_estimator:!1,use_src_object_for_media_source:!1,use_strict_resolution_constraint:!0,use_ttfb_from_headers:!1,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalempd_edgelatency_sec:0,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_buffer_behind_playhead:10,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={block_representation_status_codes_json:"[500]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","cr:9958","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","qex","setTimeout","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=(e=c("qex")._("592"))!=null?e:1e4,i=null,j=null;b("cr:1836099")&&(i=b("cr:1836099").getHiveConfig(),j=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,k=a.destroyOzPlayerPartsRef,l=a.engineDebugAPI,m=a.engineExtrasAPI,n=a.getCaptionsInfo,o=a.getLatencyLevelManager,p=a.getVideoLiveTrace,q=a.handleCaptionsInfoChange,aa=a.handleFatalImplementationError,r=a.hivePluginRef,s=a.initialProps,t=a.logger,u=a.machine,v=a.overrideOzRequestImplementationRef,w=a.ozBufferingDetectorRef,x=a.ozPlayerRef,y=a.p2pSessionLoggerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement,C={current:!1},D={current:null},E={current:null};k.current=function(a){var b=w.current;b&&(w.current=null,b.destroy());b=x.current;if(b){l&&l.handleOzPlayerChanged(null);x.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=D.current;b&&(D.current=null,b());E.current&&(E.current=null);Z();r.current&&(r.current=null);y.current&&(y.current=null);v.current&&(v.current=null)};a=A.accessToken;k=A.audioOnly;var F=A.experimentationConfig,G=A.graphQLVideoDRMInfo,H=A.graphQLVideoP2PSettings,I=A.manifestUrl,ba=A.manifestXmlStringResolved,ca=A.minQualityPreference,da=A.ozPrefetchCache,J=A.videoFBID,K=s.disableLogging?null:A.VideoPlayerShakaPerformanceLoggerClass,L=Boolean(s.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),M=Boolean((e=s.isClientTriggeredTraceEnabled)!=null?e:!1),N=function(a){return m.getEstimatedBandwidth()};e=function(){return m.getApproximateFBLSToPlayerDisplayLatency()};var ea=function(){F.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return N(L)}))},O=function(){var a=F.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ea,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};D.current=O();O=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:G,videoFBID:J});G=function(){return u.getCurrentState().controlledState.captionsVisible};var P=[];F.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&P.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(G));G=function(){return u.getCurrentState().controlledState.dimensions};var Q=function(){return u.getCurrentState().controlledState.playerFormat};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:K,accessToken:a,disableLogging:s.disableLogging,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:N,getPlayerDimensions:G,getPlayerFormat:Q,playbackIsLiveStreaming:L,playerInstanceCount:s.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:s.loggingMetaData.instanceKey,playerSuborigin:s.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:J,videoPlayerShakaPerformanceLoggerBuilder:A.videoPlayerShakaPerformanceLoggerBuilder});E.current==null&&(E.current=new(c("OzCDNSignedQueryParams"))());if(H&&J!=null){e=H.community_info;Q=H.config;z=H.hive_initialization_options;A=y.current=(A=y.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(J,e):null;try{if(!r.current){A&&A.logEnableP2P();J=function(a){y.current&&y.current.logHiveError(a)};e=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);y.current&&y.current.logSessionActive(b.tech)};var R=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PStats",b);y.current&&y.current.setCurrentHiveStats(b)},S=function(a){a=a.state;var b=u.getCurrentState();b=b.controlledState;b=b.playbackState;if(r.current&&a==="CLOSED"){Z();a=x.current;a&&b!=="ended"&&(C.current&&I!=null?a.updatePlayerRunTimeConfig({manifestUrl:I}):a.load(I))}};R={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:R},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:e,onError:J,onSessionStateChange:S,telemetryId:A?A.getSessionID():0};e=F.getNumber("hive_maximum_trimming_seconds",0);e>0&&(R.HiveJS.maximumTrimming={dash:e,hls:e});if(z){J=z.HiveJava;S=z.debugLevel;e=z.hiveTechOrder;R.hiveTechOrder=e.slice();R.HiveJava=J?{minVersion:J.minVersion}:{};R.debugLevel=(z=S)!=null?z:R.debugLevel}c("gkx")("2047688")&&(R=babelHelpers["extends"]({},R,{testId:"fb_video_player_p2p_jest_e2e"}));if(Q.disable_hivejava_for_livevc===!0&&I!=null&&I.startsWith("https://livestream-lookaside")){e=R.hiveTechOrder.indexOf("HiveJava");e>=0&&R.hiveTechOrder.splice(e,1)}if(i)i.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(j)r.current=new j(R);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(r.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");v.current=b("cr:1947728")(r.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){A&&A.logError(a),Z()}}J=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=p();d!=null&&d.handleHeadersAndBody(a,b,c)},F.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&J.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(a,b){if(c("gkx")("1664503")){var e=x.current,f=a.headers;if(e&&f){f=parseInt(f.get("x-fb-video-replica"),10);t.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:a.status.toString(),error_user_info:JSON.stringify({failover_response_code:a.status.toString(),replica:f,url:b})},state:u.getCurrentState()});a=e.getMpdUrl();if(a!=null){b=d("ConstUriUtils").getUri(a);if(b){a=b.addQueryParam("replica",f);a&&(Z(),e.updatePlayerRunTimeConfig({manifestUrl:a.toString(),resetStreamAnchor:!0}))}}}}}));var T=s.expiredVideoUrlRefreshHandler,fa=s.loggingMetaData.instanceKey;S=c("gkx")("221");z=c("gkx")("1836350")||c("gkx")("1993562");var U=L?S:z;F.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");Q={audioOnly:(Q=k)!=null?Q:!1,bufferEndLimit:s.bufferEndLimit!=null?s.bufferEndLimit:null,bufferingDetector:(e=w.current)!=null?e:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(F),configureCustomRequestParametersForSegment:function(a){var b=null;if(L&&M){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:F}),customSegmentTimelineParser:F.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:P,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:O,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:F,getCurrentVideoRepresentation:function(){var a=x.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return E.current},isClientTriggeredTraceEnabled:M,playbackIsLiveStreaming:L,playbackSessionId:fa,shouldRefresh403:U})},getOverrideOzRequestImplementation:function(){return v.current},getShouldIncludeCredentials:F.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getVideoDimensions:G,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(F,(R=s.initialDesiredLatencyMs)!=null?R:0),initialRepresentationIDs:(A=s.initialRepresentationIds)!=null?A:[],isClientTriggeredTraceEnabled:M,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(F,(S=s.initialDesiredLatencyMs)!=null?S:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(F,(z=s.initialDesiredLatencyMs)!=null?z:0,(k=s.initialLatencyToleranceMs)!=null?k:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:I,networkRequestStreamHandlers:J,networkRequestStreamRetryHandler:U?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=E.current;if(a.status===403&&h!=null){t.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:u.getCurrentState()});var i=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:T!=null?{name:"expiredVideoUrlRefreshHandler",promise:T(e)}:null;if(i!=null)return i.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&(c("gkx")("5837")?b!=="":!0)){t.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:i.name,refreshed_url:b})},state:u.getCurrentState()});h.update(b);return d(b)}else{throw c("unrecoverableViolation")(i.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("gkx")("5837")?c("getErrorSafe")(a):a;t.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:i.name,refresh_url:g})},state:u.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:F.getBool("use_prefetch_cache",!1)?da:null,rawMpdXml:r.current?void 0:ba,seekHandler:c("gkx")("1482680")?function(a){var b=B.currentTime;u.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());if(c("gkx")("951")){var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:F.getBool("fix_start_timestamp",!1)?s.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNode:B,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ca,F)};var V=new f(Q);x.current=V;w.current&&w.current.attachPerfLoggerProvider(V.getPerfLoggerProvider());e=s.loggingMetaData.playerImplementationInstanceCountRef;e.current++;V.onError(function(a){K&&K.flushQueuedLogs(),aa(a,"oz_player_error")});V.addListener("switchVideoRepresentation",function(){u.dispatch({payload:{targetVideoQuality:m.getCurrentTargetVideoQuality()},type:"representation_changed"})});var W=function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};V.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(F,a)});V.addListener("manifestFetchErrorRetry",function(a){W(a)});V.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(F,a)});V.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||F.getBool("enable_era_logging_for_application_stream",!0))&&W(a)});V.addListener("streamInterruptAt",function(){u.dispatch({type:"stream_interrupted"})});V.addListener("streamResumedAt",function(){u.dispatch({type:"stream_resumed"})});V.addListener("streamGoneBeforeStart",function(){Z(),u.dispatch({type:"stream_gone_before_start"})});V.addListener("streamEnd",function(){Z(),u.dispatch({type:"stream_ended"})});V.addListener("videoNodeErrorRetry",function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});V.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;u.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});V.addListener("leaveBuffering",function(a){u.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});l&&l.handleOzPlayerChanged(V);var ga=function(){var a=n();a={inbandCaptionsAutogeneratedFromManifest:m.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:m.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:m.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=u.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&q(a)},ha=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;u.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ia=function(){var a=m.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-F.getNumber("live_rewind_seek_to_live_delta",8),b);u.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},ja=function(){var a=V.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=p();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},ka=function(a){var d=function(){ia(),ga(),ja()};a.addListener("updated",d);c("gkx")("1656434")&&d();a=b("cr:9958")!=null?b("cr:9958")(u):null;V.updatePlayerRunTimeConfig({audioStreamDataHandler:a,videoStreamDataHandler:ha});if(m.isPredictiveDash()){F.setContext("streaming_implementation","pdash");d=o();d&&d.maybeUpdateLatencyLevel()}a=n();q({inbandCaptionsAutogeneratedFromManifest:m.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:m.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:m.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};V.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=u.getCurrentState().controlledState.captionFormat;c!==d&&u.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});u.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});V.addListener("mpdParsed",function(a){m.isPredictiveDash()&&F.setContext("streaming_implementation","pdash")});V.addListener("mpdReady",function(a){C.current=!0;ka(a);u.dispatch({payload:{availableQualities:m.getAvailableVideoQualities(),selectedVideoQuality:m.getUserSelectedVideoQuality(),targetVideoQuality:m.getCurrentTargetVideoQuality(),videoProjection:(a=m.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});V.addListener("representationBlocked",function(a){u.dispatch({payload:{availableQualities:m.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=r.current,b=y.current;if(a!=null){r.current=null;y.current=null;v.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}P=r.current;g=H==null?void 0:H.ticket;if(I!=null&&H&&P&&g!=null){O=V.getPerfLoggerProvider();O&&O.setIsP2pPlayback(!0);G=I.substring(I.indexOf("?"));R=P.initSession(g+G,V,B);var $=new(c("Deferred"))();h>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+h+"ms"))},h));R.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=y.current;b!==I&&d&&d.logManifestMismatch(b,I);d&&d.logSessionInit(a,b);t.setAdditionalLogData("is_p2p_playback",!0);t.setAdditionalLogData("is_live_preview",X(b));V.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=y.current;b&&b.logError(a);Z();t.setAdditionalLogData("is_live_preview",X(I));V.load(I)})}else t.setAdditionalLogData("is_p2p_playback",!1),t.setAdditionalLogData("is_live_preview",X(I)),V.load(I)}g.proceedWithOzPlayerCreation=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2="normal",this.$4=null,this.$1=a,this.$3=b}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$5();a!==this.$2&&(this.$2=a,this.$3.dispatch({payload:{latencyLevel:a},type:"implementation_set_latency_level_requested"}))};b.$5=function(){var a=[];try{a=JSON.parse(this.$1.getString("player_formats_for_low_latency","[]"))}catch(a){}return a.includes("*")||a.includes(this.$4)?"low":"normal"};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","cr:1473549","cr:1494460","cr:1534629","cr:72","emptyFunction","gkx","promiseDone","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null};function v(){var a;return(a=o.current)!=null?a:null}function w(){var a;return(a=n.current)!=null?a:null}function x(){var a;return(a=(a=j.current)==null?void 0:a.experimentationConfig)!=null?a:null}function y(){var a;return(a=X.current)!=null?a:null}function z(){var a;return(a=u.current)!=null?a:null}var A;b("cr:1473549")&&(A=new(b("cr:1473549"))());var B="comet_oz",C=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},D=function(a,b){return a.videoFBID!==b.videoFBID},E=function(a,b){return a.playerFormat!==b.playerFormat},F=function(a){return a.getBool("use_full_player_if_cached",!1)&&b("cr:1534629")?b("cr:1534629")().getModuleIfRequireable():null},G=function(a,b,c){b!=null?j.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):j.current=a,W.dispatch({type:"implementation_engine_oz_manifest_downloading"}),m.current=F(a.experimentationConfig),K(m.current,[].concat(c,["proceedWithOzManifestDownloading"]))},H=function(a){var b,e=a.manifestUrl,f=a.manifest,g=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(g=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,manifestUrl:(b=e)!=null?b:null,manifestXmlStringInitial:(b=f)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:g,playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};g=i.current;u.current==null&&(u.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,W));b.playerFormat!=null&&(g==null||E(b,g))&&W.dispatch({payload:{playerFormat:b.playerFormat},type:"controller_set_player_format"});u.current.updatePlayerFormat((a=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?a:null);a=!1;if(g==null)a=!0;else if(g!=null&&!D(b,g)&&C(b,g)){var h=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",h);a=!1}else if(g!=null&&D(b,g))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!a)return!1;e=b.manifestUrl;f=b.manifestXmlStringInitial;if(f==null&&e==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");i.current=b;G(b,f,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},I=function(a,b){var d=function(c){if(l.current!==a)return;m.current=c;K(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(l.current!==a)return;U(b,"oz_player_module_load_failed")};l.current=a;c("promiseDone")(a,d,e)},J=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);X.current=a;return a},K=function(a,c){var e=R(),f=j.current;if(e==null||f==null)return;var g=J(e),h=f.experimentationConfig;a?L(a,e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):b("cr:1494460")?L(b("cr:1494460")(),e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderSync"])):b("cr:1534629")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,W,o),I(b("cr:1534629")().load(),[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):U(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},L=function(a,b,e,f,h){try{var i={OzPlayerClass:a,callChain:[].concat(h,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:t,engineDebugAPI:A,engineExtrasAPI:P,getCaptionsInfo:Q,getLatencyLevelManager:z,getVideoLiveTrace:S,handleCaptionsInfoChange:T,handleFatalImplementationError:U,initialProps:g,logger:V,machine:W,ozBufferingDetectorRef:o,playerVersion:B,resolvedVideoInfo:f,videoElement:b};a=x();h=g.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&h!=null?s.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,h,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));k.current=f}catch(a){U(a,"oz_player_create_exception")}};function M(a){c("gkx")("1494163")&&(k.current=null);var b=t.current;b!=null&&(t.current=null,b(a));s.current!=null&&(s.current(),s.current=null)}function N(){if(c("gkx")("1494163"))i.current=null,j.current=null,k.current=null;else return}function O(){l.current=null,m.current=null}var P=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:x,getOzPlayer:w,getVideoElementAPI:y});y=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return A?A.createDebugAPI({engineExtrasAPI:P,getConfig:function(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:v,getOzPlayer:w,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:e,destroyEngineParts:function(a){M([].concat(a,["destroyEngineParts"])),N(),O()},engineExtrasAPI:P,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:B,streamingFormat:"dash"},handleFatalError:f,handleVideoElementMounted:function(a){var b=R();K(m.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){(c("gkx")("1494163")||c("gkx")("1380112"))&&M([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:H,initialProps:g,setExposedStateInReact:a});e=y.engine;var Q=y.getCaptionsInfo,R=y.getVideoElement,S=y.getVideoLiveTrace,T=y.handleCaptionsInfoChange,U=y.handleFatalImplementationError,V=y.logger,W=y.machine,X=y.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine","react"],function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("manifestHasUnsupportedCodecs",["getAvailableMimeCodecsFromDashManifest","gkx"],function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("gkx")("1917833")&&window.MediaSource!=null){a=c("getAvailableMimeCodecsFromDashManifest")(a);return a.length<=0?!1:a.some(function(a){return!a.isTypeSupported})}return!1}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzImplementationData",["err"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifest,e=a.dashUrl,f=a.experimentationConfig,g=a.minQualityPreference;a=a.videoFBID;if(b!==!0){b=c("err")("The DASH player is not available for this video");b.name="VideoImplementationsDashPlayerUnavailable";return b}if(a==null){b=c("err")("video has no FBID");b.name="VideoImplementationsNoFBID";return b}a=d==null||d===""?null:d;b=e==null||e===""?null:e;if(a==null&&b==null){d=c("err")("video has no manifest and no manifest URL");d.name="VideoImplementationsNoManifestOrURL";return d}return{experimentationConfig:f,manifest:a,manifestUrl:b,minQualityPreference:(e=g)!=null?e:null,seoWebCrawlerLookasideUrl:b}}g.makeOzImplementationData=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzWWWConfig",[],function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useOzImplementationData",["CometRelay","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","react","useOzImplementationData_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.manifestURL_DO_NOT_USE,g=e.videoPlayerShakaConfig,j=i(function(){return new(c("VideoPlayerOzWWWConfig"))(g)},[g]),k=d("CometRelay").useFragment(h!==void 0?h:h=b("useOzImplementationData_video.graphql"),a);return i(function(){return d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:k.can_use_oz,dashManifest:f!=null?null:k.dash_manifest,dashUrl:f!=null?f:k.playable_url_dash,experimentationConfig:j,minQualityPreference:k.min_quality_preference,videoFBID:k.id})},[k,f,j])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useProgressiveImplementationData",["CometRelay","VideoPlayerProgressiveImplementationData","gkx","useProgressiveImplementationData_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f,g;e=e.initialForceHD;e=e===void 0?!1:e;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useProgressiveImplementationData_video.graphql"),a);f=a.is_spherical===!0?(f=(f=a.spherical_video_fallback_urls)==null?void 0:f.hd)!=null?f:a.playable_url_quality_hd:a.playable_url_quality_hd;g=a.is_spherical===!0?(g=(g=a.spherical_video_fallback_urls)==null?void 0:g.sd)!=null?g:a.playable_url:a.playable_url;var i=a.is_rss_podcast_video===!0,j=c("gkx")("1129");return d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:e===!0||j||a.min_quality_preference==="HD"||a.min_quality_preference==="UHD",isExternalMedia:i,sdSrc:g})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerShakaImplementationData",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.videoData;a=a.videoPlayerShakaConfig;return b==null?null:{videoData:b,videoPlayerShakaConfig:a}}f.makeShakaImplementationData=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useShakaImplementationData",["CometRelay","VideoPlayerShakaImplementationData","cr:1604324","react","recoverableViolation","useShakaImplementationData_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.videoPlayerShakaConfig,g=d("CometRelay").useFragment(h!==void 0?h:h=b("useShakaImplementationData_video.graphql"),a);return i(function(){var a;if(g.is_rss_podcast_video===!0)return null;a=(a=g.video_player_shaka_live_p2p_init)==null?void 0:a.json_encoded_video_data;if(a==null)return null;if(b("cr:1604324")==null)return c("recoverableViolation")("VideoData is not supported","comet_video_player");var e=null;try{e=new(b("cr:1604324"))(JSON.parse(a))}catch(a){c("recoverableViolation")("VideoData JSON is broken","comet_video_player")}return d("VideoPlayerShakaImplementationData").makeShakaImplementationData({videoData:e,videoPlayerShakaConfig:f})},[g,f])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoImplementationsImpl",["CometRelay","ErrorMetadata","VideoPlayerOzImplementationV2.react","VideoPlayerProgressiveImplementationV2.react","cr:1604325","err","gkx","manifestHasUnsupportedCodecs","recoverableViolation","unrecoverableViolation","useOzImplementationData","useProgressiveImplementationData","useShakaImplementationData","useVideoImplementationsImpl_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=[],g=e.forceProgressiveImpl;g=g===void 0?!1:g;var i=e.initialForceHD;i=i===void 0?!1:i;var j=e.manifestURL_DO_NOT_USE,k=e.videoFBID;e=e.videoPlayerShakaConfig;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsImpl_video.graphql"),a);var l=c("useShakaImplementationData")(a,{videoPlayerShakaConfig:e});l!=null&&(b("cr:1604325")==null?c("recoverableViolation")("VideoPlayerShakaImplementation is not supported","comet_video_player"):f.push({Component:b("cr:1604325"),data:l,typename:"VideoPlayerShakaImplementation"}));l=null;var m=null,n=!1;j=c("useOzImplementationData")(a,{manifestURL_DO_NOT_USE:j,videoPlayerShakaConfig:e});if(j instanceof Error)l=j;else{m=j;if(m.manifest===null&&m.manifestUrl===null)throw c("unrecoverableViolation")("If ozImplementationData exists, it should have either manifest or manifestUrl","comet_video_player");n=c("manifestHasUnsupportedCodecs")(m.manifest);g||(m.manifest!=null&&!n||m.manifestUrl!=null?f.push({Component:c("VideoPlayerOzImplementationV2.react"),data:m,typename:"VideoPlayerOzImplementation"}):l=c("err")("unsupported DASH codecs"))}e=c("useProgressiveImplementationData")(a,{initialForceHD:i});c("VideoPlayerProgressiveImplementationV2.react")!=null&&e!=null&&f.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:e,typename:"VideoPlayerProgressiveImplementation"});if(f.length===0){l!=null?(j=c("err")("Cannot play video: "+l.message+" and no progressive URL is available"),l.name&&(j.name=l.name)):(j=c("err")("Cannot play video: No progressive URL is available"),j.name="VideoImplementationsNoProgressiveURL");j.project="comet_video_player";a=new(c("ErrorMetadata"))();j.metadata=a;a.addEntry("COMET_VIDEO","VIDEO_ID",String(k));if(c("gkx")("1611172")){k={forced_progressive:g,has_oz_data:m!=null,has_oz_manifest:((i=m)==null?void 0:i.manifest)!=null,has_oz_manifest_url:((l=m)==null?void 0:l.manifestUrl)!=null,has_oz_unsupported_codecs:n,has_progressive_data:e!=null};a.addEntry("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify(k));c("recoverableViolation")(j.message,"comet_video_player",{error:j})}throw j}return f}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoImplementations",["useVideoImplementationsImpl"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsImpl")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var c=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);return i(function(){return d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:c.audio_availability,mutedSegmentsUnsanitized:c.muted_segments==null?[]:c.muted_segments.map(function(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}})})},[c.audio_availability,c.muted_segments])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AudioSettingsVolumeSetting",[],function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","useVideoPlayerAudioSettings_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j=1;e=.5;var k=new Map([["default",j],["quiet",e]]);function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);a=(a=a.audio_settings)==null?void 0:a.video_volume_setting;var e="DEFAULT";switch(a){case"DEFAULT":case"QUIET":e=a;break;default:break}a=c("AudioSettingsVolumeSetting")[e];var f=(e=k.get(a))!=null?e:j;a=i(function(){return{preferredVolumeSetting:f}},[f]);return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerCaptionsSettings",["CometRelay","useVideoPlayerCaptionsSettings_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);return{alwaysShowCaptions:(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1,captionDisplayStyle:{captionsBackgroundColor:(c=(c=a.captions_settings)==null?void 0:c.captions_background_color)!=null?c:j,captionsBackgroundOpacity:(c=(c=a.captions_settings)==null?void 0:c.captions_background_opacity)!=null?c:i,captionsTextColor:(c=(c=a.captions_settings)==null?void 0:c.captions_text_color)!=null?c:k,captionsTextSize:(a=(c=a.captions_settings)==null?void 0:c.captions_text_size)!=null?a:l}}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);return{desiredLatencyMs:(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0,latencyToleranceMs:(a=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_latency_tolerance_ms)!=null?a:0}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var c=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null;a=(a=a.video_player_shaka_performance_logger_init2)==null?void 0:a.per_session_sampling_rate;return c!=null&&a!=null?new c({perSessionSampleRate:a}):null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerRelay.react",["fbt","CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","CurrentUser","ErrorMetadata","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerFallbackCover.react","VideoPlayerRelay_video.graphql","VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImplRelayWrapper.react","XFBLatencySensitiveTypeUtils.facebook","cr:1446473","cr:1701936","cr:1996722","cr:4391","defaultErrorBoundaryFallback","deferredLoadComponent","err","getAvailableMimeCodecsFromDashManifest","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","recoverableViolation","requireDeferredForDisplay","unrecoverableViolation","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","usePremiumMusicVideoInterruptionSubscription","useVideoImplementations","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerCaptionsSettings","useVideoPlayerLiveLatencyKnobSettings","useVideoPlayerShakaPerformanceLoggerBuilder"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useMemo,l=c("gkx")("5128"),m=c("gkx")("5194"),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function p(a){var e,f,g=a.accessToken,p=a.adClientToken,q=a.additionalLogData,r=a.audioOnly,s=a.autoplayGatingResult,t=a.bufferEndLimit,u=a.canAutoplay,v=a.children,w=a.disableCVCSubscription;w=w===void 0?!1:w;var x=a.disableLoadingIndicator;x=x===void 0?!1:x;var y=a.disableLogging,z=a.externalLogID,A=a.externalLogType,B=a.graphQLVideoDRMInfo,C=a.initialForceHD,D=C===void 0?!1:C;C=a.initialTracePolicy;var E=a.loadSequence,F=a.loopCount,G=a.manifestURL_DO_NOT_USE,H=a.playerFormat;H=H===void 0?"inline":H;var I=a.playerOriginOverride,J=a.portalingEnabled,K=a.portalingFromVideoID,aa=a.portalingPlaceMetaData,ba=a.portalingRenderPlaceholder,ca=a.productAttribution,da=a.seoWebCrawlerVideoTracks,ea=a.source_VPL_LOGGING_HACK,fa=a.startTimestamp,L=a.subOrigin,M=a.video,N=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;c("usePremiumMusicVideoInterruptionSubscription")(c("CurrentUser").getID());var O=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerRelay_video.graphql"),M);M=O.dash_prefetch_experimental;e=((e=O.video_available_captions_locales)!=null?e:[]).find(function(a){a=a.localized_creation_method;return a!=null})!=null;f=d("XFBLatencySensitiveTypeUtils.facebook").toJSEnum((f=O.latency_sensitive_config)==null?void 0:f.broadcast_latency_sensitivity);var P=b("cr:1701936")(O,{adClientToken:p}),ga=b("cr:1996722")(O.id),ha=c("useGraphQLVideoP2PSettings")(O),Q=c("useGraphQLVideoDRMInfo")(O);Q=(B=B)!=null?B:Q;B=!!(Q&&Q.fairplayCert!==null);var R=B||l&&!!O.is_live_streaming||m&&typeof MediaSource==="undefined";B=k(function(){return{forceProgressiveImpl:R,initialForceHD:D,manifestURL_DO_NOT_USE:G,videoFBID:O.id,videoPlayerShakaConfig:P}},[R,D,G,O.id,P]);B=c("useVideoImplementations")(O,B);var S=c("useVideoPlayerCaptionsSettings")(O),ia=c("useVideoPlayerAudioSettings")(O),T=c("useVideoPlayerLiveLatencyKnobSettings")(O),ja=T.desiredLatencyMs;T=T.latencyToleranceMs;var ka=c("useVideoPlayerAudioAvailabilityInfoRelay")(O),U=c("useGraphQLVideoAutoplayGatingResult")(O);U=c("getVideoPlayerAutoplayProps")(U,u,s);u=b("cr:1446473")(O);s=c("useVideoPlayerShakaPerformanceLoggerBuilder")(O);b("cr:4391")(O,{videoFBID:O.id});var la=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:H,subOrigin:L,video:O})}),V=d("CastingStateHooks").useCastingVideoID(),W=O.id;if(W==null)throw c("unrecoverableViolation")("Cannot play video: Empty video ID","comet_video_player");var X=null;if(c("gkx")("1076")&&!R&&O.dash_manifest!=null&&O.dash_manifest!==""){var Y=c("getAvailableMimeCodecsFromDashManifest")(O.dash_manifest);(Y.length<=0||!Y.every(function(a){return a.isRequiredForPlayback&&a.isTypeSupported||!a.isRequiredForPlayback}))&&(X=O.is_live_streaming===!0?h._("__JHASH__wl4W_I7tXRq__JHASH__"):null)}Y=O.unsupported_browser_message!=null?O.unsupported_browser_message:X;if(Y!=null){X=c("err")("Cannot play video: Browser is not supported");X.metadata=new(c("ErrorMetadata"))();X.metadata.addEntry("COMET_VIDEO","VIDEO_ID",W);c("recoverableViolation")("Cannot play video: Browser is not supported","comet_video_player",{error:X});return j.jsx(c("VideoPlayerFallbackCover.react"),{message:Y})}X=O.permalink_url;Y=O.spherical_video_renderer;Y=Y?j.jsx(d("CometRelay").MatchContainer,{match:Y,props:{playerFormat:H,sphericalVideoRenderer:Y,subOrigin:L,videoTahoeUrl:X}}):null;X=O.is_spherical;var Z=O.is_spherical_enabled,$=O.permalink_url;if(X===!0&&Z!==!0){if($==null||$==="")throw c("unrecoverableViolation")("Cannot play video: Empty permalink URL for a spherical video","comet_video_player");return j.jsx(n,{videoTahoeUrl:$})}if(V!=null&&V===O.id)return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(o,{video:O})});$=(Z=(X=O.live_playback_instrumentation_configs)==null?void 0:X.is_client_triggered_trace_enabled)!=null?Z:!1;V=c("normalizeVideoPlayerLoopCount")(F,O.is_looping,O.loop_count);return j.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:u,accessToken:g,adClientToken:p,additionalLogData:q,alt:c("gkx")("1924962")?O.animated_image_caption:void 0,alwaysShowCaptions:S.alwaysShowCaptions,areCaptionsAutogenerated:e,audioAvailabilityInfo:ka,audioOnly:O.is_podcast_video===!0||r,autoplayGatingResult:U.autoplayGatingResult,autoplaySetting:U.autoplaySetting,broadcastId:O.broadcast_id,broadcastLatencySensitivity:f,broadcastStatus:O.broadcast_status,broadcasterOrigin:O.broadcaster_origin,bufferEndLimit:t,canAutoplay:U.canAutoplay,captionDisplayStyle:S.captionDisplayStyle,captionsUrl:O.captions_url,children:v,desiredLatencyMs:ja,disableCVCSubscription:w,disableLoadingIndicator:x,disableLogging:y,expiredVideoUrlRefreshHandler:ga,externalLogID:z,externalLogType:A,graphQLVideoDRMInfo:Q,graphQLVideoP2PSettings:ha,implementations:B,initialRepresentationIds:M,initialTracePolicy:C,instreamVideoAdBreaksPlayer:la,isClientTriggeredTraceEnabled:$,isLiveStreaming:O.is_live_streaming,isLiveTraceEnabled:O.is_live_trace_enabled,isNCSR:O.is_ncsr,isPremiumMusicVideo:O.pmv_metadata!=null,isVideoBroadcast:O.is_video_broadcast,latencyToleranceMs:T,loadSequence:E,loopCount:V,originalHeight:O.original_height,originalWidth:O.original_width,playerFormat:H,playerOriginOverride:I,portalingEnabled:J,portalingFromVideoID:K,portalingPlaceMetaData:aa,portalingRenderPlaceholder:ba,productAttribution:ca,seoWebCrawlerVideoTracks:da,source_VPL_LOGGING_HACK:ea,startTimestamp:fa,subOrigin:L,videoFBID:W,videoPlayerShakaPerformanceLoggerBuilder:s,videoPlayerSpherical:Y,volumeSetting:N!==void 0?N:ia.preferredVolumeSetting,wrapVideoPixels_EXPERIMENTAL:a},W)}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:j.jsx(p,babelHelpers["extends"]({},a))});return b?a:j.jsx(c("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:(b=d)!=null?b:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i=b.createContext({isWatchTab:!1,onNodeChangeFunc:null});function a(){return h(i)}g.CometVideoPlayerInstreamAdsFeedContextCardContext=i;g.useCometVideoPlayerInstreamAdsFeedContextCardContext=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("useRelayClientStateWithLocalStorage",["CometRelay","FBLogger","WebStorage","react","useStable"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=new Set();function a(a,b,e,f){var g=j.has(b),k=d("CometRelay").useRelayEnvironment(),l=c("useStable")(c("WebStorage").getLocalStorage),m=c("useStable")(function(){if(g||l==null)return f;var a=l.getItem(b);try{return a==null||a===""?f:JSON.parse(a)}catch(a){return f}}),n=h(function(c){d("CometRelay").commitLocalUpdate(k,function(d){d=d.get(a);if(d==null)return;if(d.getValue(e)===c)return;d.setValue(c,e);j.add(b)})},[k,e,a,b]);i(function(){if(l==null)return;if(!g)return;var a=JSON.stringify(f);if(a==null)return;try{l.setItem(b,a)}catch(b){b!=null&&typeof b==="object"&&b.code===22&&l.clear();a=c("FBLogger")("use_local_storage");b instanceof Error&&(a=a.catching(b));a.mustfix("Cannot save to local storage.")}},[b,g,l,f]);return[g?f:m,n]}g.useRelayClientStateWithLocalStorage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedClickEventHandler",["react","useStoryClickEventLogger"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var d=c("useStoryClickEventLogger")();return h(function(c){a&&a(c);var e=c.type;if(e==="click"||e==="contextmenu"||e==="mousedown"&&typeof c.button==="number"&&(c.button===1||c.button===2)||e==="keydown"&&(c.key==="Enter"||c.key===" ")){e=typeof c.button==="number"?c.button:0;d(c.timeStamp,e,b)}},[a,d,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useSEOLoggedOutWebCrawler",["gkx"],function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1779508")}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c=a.logData.live_trace_stream_id!==null&&a.logData.live_trace_stream_type!==null;return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,client_latency_setting:a.logData.client_latency_setting,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,fb_manifest_identifier:a.logData.fb_manifest_identifier,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_preview:(b=a.logData.is_live_preview)!=null?b:!1,is_live_video_rewound:a.logData.is_live_video_rewound,is_p2p_playback:a.logData.is_p2p_playback,is_pip:a.logData.is_pip,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:c?a.logData.live_trace_stream_id:null,live_trace_stream_type:c?a.logData.live_trace_stream_type:null,mpd_validation_errors:a.logData.mpd_validation_errors,network_connected:a.logData.network_connected,next_representation_id:a.logData.next_representation_id,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,vpts:a.logData.vpts,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","react","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a){var b=d("VideoPlayerHooks").useController(),e=j(function(){return a(b,null)}),f=e[0],g=e[1],k=i(a);c("useLayoutEffect_SAFE_FOR_SSR")(function(){k.current=a},[a]);h(function(){g(function(a){return k.current(b,a)});var a=b.subscribe(function(){g(function(a){return k.current(b,a)})});return function(){a.remove()}},[b]);return f}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","useVideoPlayerControllerSubscription"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("VideoPlayerHooks").useAudioAvailabilityInfo();function b(b,c){b=b.getPlayheadPosition();b=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(a,{playheadPosition:b});return c!=null&&c.isPlayheadWithinMutedSegment===b.isPlayheadWithinMutedSegment&&c.isSilentAtPlayhead===b.isSilentAtPlayhead&&c.volumeControlState===b.volumeControlState?c:b}return c("useVideoPlayerControllerSubscription")(b)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray","useCometUniqueID"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(){var a=c("useCometUniqueID")();return a}function i(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=h(function(){return i()});a=a[0];return a}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=i;g.useConcurrentAutoplayManagementAPI=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createTrustedScriptURLWithoutValidation_DO_NOT_USE",["TrustedTypesWithNoDefaultPolicies"],function(a,b,c,d,e,f,g){"use strict";b=function(a){return a};var h="trusted-script-url-no-validation",i,j={createScriptURL:function(a){return a},createScript:b,createHTML:b};function k(){if(i)return;i=c("TrustedTypesWithNoDefaultPolicies").createPolicy(h,j)}function l(){i||k();return i}function a(a){return l().createScriptURL(a)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CastingChromecastAPI",["Promise","createTrustedScriptURLWithoutValidation_DO_NOT_USE","gkx","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=3*60*1e3,i=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],j=null;d=function(a){var c=a.appID,d=a.receiverListener,e=a.sessionListener;return m().then(function(a){var f=new a.ApiConfig(new a.SessionRequest(c),e,d,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);return new(b("Promise"))(function(b,c){a.initialize(f,b,c)})})};e=function(a){return m().then(function(b){b.addReceiverActionListener(function(c,d){switch(d){case b.ReceiverAction.CAST:a.onCast(c);break;case b.ReceiverAction.STOP:a.onStop();break}})})};f=function(a){return m().then(function(c){var d=new c.SessionRequest(a,[c.Capability.VIDEO_OUT,c.Capability.AUDIO_OUT],h);return new(b("Promise"))(function(a,b){c.requestSession(a,b,d)})})};var k=function(a){return m().then(function(b){return a===b.ReceiverAvailability.AVAILABLE})},l=function(){return m().then(function(a){return a.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},m=function(){if(j)return j;if(!a.chrome){j=b("Promise").reject({code:"not_supported",description:null,details:null});return j}if(a.chrome.cast&&a.chrome.cast.isAvailable){j=b("Promise").resolve(a.chrome.cast);return j}j=b("Promise").resolve().then(function(){return n()}).then(function(d){return new(b("Promise"))(function(b,e){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=d;a.__onGCastApiAvailable=function(c,d){d?e(d):b(a.chrome.cast)};var f=document.createElement("script");f.onerror=e;if(d==null)if(c("gkx")("3449"))f.src=c("createTrustedScriptURLWithoutValidation_DO_NOT_USE")(q());else{e({code:"extension_not_available",description:null,details:null});return}else f.src=c("createTrustedScriptURLWithoutValidation_DO_NOT_USE")(p(d));var g=document.head||document.documentElement;if(g==null){e({code:"extension_no_casting_script",description:null,details:null});return}g.appendChild(f)})});return j};function n(){var a,c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<i.length)){e.next=11;break}c=i[a];e.next=5;return b("regeneratorRuntime").awrap(o(c));case 5:d=e.sent;if(!d){e.next=8;break}return e.abrupt("return",c);case 8:a++;e.next=1;break;case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},null,this)}function o(a){return new(b("Promise"))(function(b,c){c=p(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()})}function p(a){return"chrome-extension://"+a+"/cast_sender.js"}function q(){return"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"}e={addReceiverListener:e,getDefaultAppID:l,getIsAvailable:k,getSession:f,initialize:d};l=e;g["default"]=l},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CastingStateHooks",["CastingContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CastingContext").CastingStateContext);return(a==null?void 0:a.receiverIsConnected)||!1}function i(){var a=s();return a==null?null:a.currentVideoID}function b(){var a=i();return a!=null}function c(){var a=s();return a==null?0:a.currentPosition||0}function e(){var a=s();return a==null?0:a.currentDuration||0}function f(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="play"||a==="seeking"}function j(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="paused"}function k(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="ended"}function l(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?!1:a.receiverIsMuted===!0}function m(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?0:a.receiverVolume||0}function n(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?null:a.receiverFriendlyName}function o(){var a=t();return a==null?!1:!0}function p(){var a=u();return a==null?!1:a.currentPlaybackState==="paused"}function q(){var a=u();return a==null?!1:a.currentPlaybackState==="play"}function r(){var a=u();return a==null?null:a.currentAssetID}function s(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="video_channel"?null:b}function t(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo"?null:b}function u(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo_album"?null:b}g.useIsCastingConnected=a;g.useCastingVideoID=i;g.useIsCastingAnyVideo=b;g.useCastingCurrentTime=c;g.useCastingDuration=e;g.useCastingIsPlaying=f;g.useCastingIsPaused=j;g.useCastingIsEnded=k;g.useCastingIsMuted=l;g.useCastingVolume=m;g.useCastingReceiverFriendlyName=n;g.useIsCastingPhotoExperience=o;g.useCastingIsAlbumPaused=p;g.useCastingIsAlbumPlaying=q;g.useCastingAlbumAssetID=r},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","react","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isVisible;a=a.onClick;var d=j.jsx(c("CometImage.react"),{src:i("352839")});a=a!=null?j.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__pymzrO9zrya__JHASH__"),onPress:a,overlayDisabled:!0,children:d}):d;return j.jsx("i",{className:c("stylex")({"border-top-start-radius-1":"qmqpeqxj","border-top-end-radius-1":"e7u6y3za","border-bottom-end-radius-1":"qwcclf47","border-bottom-start-radius-1":"nmlomj2f","cursor-1":"fsf7x5fv","height-1":"rkahpbcw","margin-top-1":"ko6h0rs5","margin-end-1":"l7ghb35v","margin-bottom-1":"kjdc1dyq","margin-start-1":"iuw2rauq","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"py3ibqi0","top-1":"qy9lpsl4","width-1":"sm1paabj"},b?null:{"opacity-1":"jkp44r48","visibility-1":"qpyp3sab"}),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isVisible;a=a.onClick;var d=i.jsx(c("CometImage.react"),{src:"/images/video/play_48dp.png"});a=a!=null?i.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__pymzrO9zrya__JHASH__"),onPress:a,overlayDisabled:!0,children:d}):d;return i.jsx("i",{className:c("stylex")({"border-top-start-radius-1":"qmqpeqxj","border-top-end-radius-1":"e7u6y3za","border-bottom-end-radius-1":"qwcclf47","border-bottom-start-radius-1":"nmlomj2f","cursor-1":"fsf7x5fv","height-1":"ov5gjlzi","margin-top-1":"knicibrn","margin-end-1":"l7ghb35v","margin-bottom-1":"kjdc1dyq","margin-start-1":"kww9abq6","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"py3ibqi0","top-1":"qy9lpsl4","width-1":"l188yfni"},b?null:{"opacity-1":"jkp44r48","visibility-1":"qpyp3sab"}),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerControlsHiddenContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","TetraIcon.react","VideoPlayerControlsHiddenContext","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={"default":{backgroundColor:"nu7423ey",borderTop:"f5m7p0br",borderEnd:"iwso50tu",borderBottom:"ggolc4ur",borderStart:"js4msrqk",cursor:"fsf7x5fv",display:"aglvbi8b",height:"dmdr2h6l",marginTop:"obdt02g8",marginEnd:"lxowtz8q",marginBottom:"eyufkmuh",marginStart:"bhi259hv",opacity:"e5xvjusq",outline:"icdlwmnq",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m",":hover":{opacity:"beiy8v6c"}},disabled:{cursor:"s4swhuz0",opacity:"mi59tyey",":hover":{opacity:"s6rtsmru"}},dropShadow:{filter:"acone8yw"},tooltipWrapperInner:{alignItems:"gldv74r8",display:"alzwoclg",width:"ncxvlvn8"},tooltipWrapperOuter:{alignItems:"gldv74r8",display:"alzwoclg",width:"ncxvlvn8"}};function k(a){var b=a.children,d=a.tooltipOffsetY;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","tooltipOffsetY"]);d=Math.min(0,(d=d)!=null?d:0);return h.jsx("span",{className:c("stylex")(j.tooltipWrapperOuter),style:{marginTop:d},children:h.jsx(c("BaseTooltip.react"),babelHelpers["extends"]({},a,{children:h.jsx("span",{className:c("stylex")(j.tooltipWrapperInner),style:{paddingTop:-d},children:b})}))})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.color,d=b===void 0?"white":b,e=a.disabled,f=a.icon,g=a.label;b=a.tooltip;b=b===void 0?null:b;var l=a.tooltipAlign;l=l===void 0?"start":l;var m=a.tooltipImpl,n=a.tooltipOffsetY,o=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"]),p=i(c("VideoPlayerControlsHiddenContext"));return h.jsx(k,{align:l,position:"above",tooltip:b,tooltipImpl:(a=m)!=null?a:c("CometTooltipImpl.react"),tooltipOffsetY:n,children:h.jsx(c("BaseFocusRing.react"),{children:function(a){return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},o,{disabled:e,display:"inline",label:g,overlayDisabled:!0,testid:void 0,xstyle:[j["default"],e===!0&&j.disabled,a,p===!0&&j.dropShadow],children:h.jsx(c("TetraIcon.react"),{color:d,icon:f})}))}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","useStable"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.useContext,j=d.useEffect,k=d.useState,l=h.createContext(null);function a(a){a=a.children;var b=c("useStable")(function(){var a=null,b=null,c=null;return{getBottomRowAddOn:function(){return b},initialize:function(d){c=function(a){b=a,d(a)};if(a==null)return;c(a);a=null},setBottomRowAddOn:function(b){if(c==null){a=b;return}c(b)}}});return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=i(l);a=k(a);var c=a[0],d=a[1];j(function(){if(b==null)return;b.initialize(d)},[b]);return c}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=i(l);j(function(){if(b==null)return;b.setBottomRowAddOn(a)},[a,b])}g.VideoPlayerControlsBottomRowAddOnContext=l;g.VideoPlayerControlsBottomRowAddOnContextProvider=a;g.useVideoPlayerControlsBottomRowAddOn=b;g.useSetVideoPlayerControlsBottomRowAddOn=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]);c=b("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});f.MutedButtonVisibility=a;f.VideoMenuType=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerUserInteractionCounter",["react","unrecoverableViolation","usePrevious"],function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef,k=e.useState;function a(a,b,d){var e=j(a);i(function(){if(a!==e.current)throw c("unrecoverableViolation")("User interaction name should not change between renders ('"+e.current+"' -> '"+a+"').","comet_video_player")},[a]);var f=j(d);i(function(){f.current=d},[d]);var g=c("usePrevious")(b),h=j(!1);i(function(){var a=e.current,c=f.current;c&&((g===null||b!==g)&&(b?(h.current=!0,c({name:a,type:"started"})):g!==null&&(h.current=!1,c({name:a,type:"ended"}))))},[b,g]);i(function(){var a=e.current,b=f.current;return function(){b&&h.current&&b({name:a,type:"ended"})}},[])}function b(){var a=j(new Set()),b=k(0),c=b[0],d=b[1];b=h(function(b){var c=a.current;b.type==="started"||b.type==="happening"?(c.add(b.name),d(c.size)):b.type==="ended"&&(c["delete"](b.name),d(c.size))},[]);return{ongoingInteractionsCount:c,onUserInteraction:b}}g.useVideoPlayerUserInteraction=a;g.useVideoPlayerUserInteractionCounter=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useSelectedLatencySetting",["useRelayClientStateWithLocalStorage"],function(a,b,c,d,e,f,g){"use strict";var h="_video_LiveVideoLatencyMenuContextProvider_selected_latency_setting";function i(a){if(a==null)return null;switch(a){case"low":case"normal":return a;default:return null}}function a(a,b){b=d("useRelayClientStateWithLocalStorage").useRelayClientStateWithLocalStorage(a,h,"selected_latency_setting",(a=i(b))!=null?a:"normal");a=b[0];b=b[1];return[a,b]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var i=b.stateHook;function a(){var a=i(!1),b=a[0],c=a[1],e=d("VideoPlayerHooks").usePlaying();h(function(){e&&c(!0)},[e,c]);return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","useVideoPlayerHasStartedPlayingAtLeastOnce"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){a=a===void 0?{}:a;var b=a.buttonSize;b=b===void 0?"large":b;var e=a.forceVisible,f=a.overrideInteraction,g=a.shouldUnmute;a=c("useVideoPlayerHasStartedPlayingAtLeastOnce")();var j=d("VideoPlayerHooks").usePaused(),k=d("VideoPlayerHooks").useLastMuteReason(),l=d("VideoPlayerHooks").useController(),m=i(function(){l.play("user_initiated"),g===!0&&k!=="user_initiated"&&l.setMuted(!1,"product_initiated")},[l,k,g]);f=f!=null?f.handler:m;m=e===!0||e===!1?e:!a&&j;e=b==="small"?h.jsx(c("VideoPlayerSmallPlayButton.react"),{isVisible:m,onClick:f}):h.jsx(c("VideoPlayerPlayButton.react"),{isVisible:m,onClick:f});return{bigPlayButtonElement:e,bigPlayButtonIsVisible:m}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometVideoPictureInPictureManagerContext",["gkx","qex","react"],function(a,b,c,d,e,f,g){"use strict";f=d("react").createContext;d=f({openPipPlayer:function(){},setController:function(){},setPipPortableVideoID:function(){}});f=f({hasNextChainedVideo:!1,isPipEnabled:!1,setHasNextChainedVideo:function(){},setSkippedFromPipPlayer:function(){},skippedFromPipPlayer:!1});function a(){var a=c("gkx")("3610")||!!c("qex")._("595");return a}function b(){var a=!!c("qex")._("830");return a}function e(){var a=!!c("qex")._("586");return a}g.CometVideoPictureInPictureManagerAPIContext=d;g.CometVideoPictureInPictureManagerContext=f;g.isInPictureInPictureExp=a;g.isInPictureInPictureExpControlGroup=b;g.isSkipAndChainingDisabledInPictureInPicture=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MediaPlaybackCompoundEventStateMachineLogger",["emptyFunction","gkx","qex"],function(a,b,c,d,e,f,g){"use strict";var h=.5;b=c("emptyFunction");d=c("emptyFunction");e=c("emptyFunction");function i(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,hasLoggedStartedPlaying:!1,hasPendingRequestedPlaying:!1,isLoggingScrubbingSequence:!1,lastLoggedCaptionState:null,lastLoggedFullscreenState:!1,lastLoggedSoundOnState:null,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1}}function a(a){var b={},d=a.initialLoggingMetaData;d;var e=[],f=i();function g(a){var b,c=a.eventType,g=a.snaplOverrides,h=a.state;a=a.tags;var i=null,j=null,k=(a==null?void 0:a.fullscreen)!=null?a==null?void 0:a.fullscreen:f.lastLoggedFullscreenState,l=(a==null?void 0:a.captions_displayed)!=null?a==null?void 0:a.captions_displayed:f.lastLoggedCaptionState,m=(a==null?void 0:a.player_sound_on)!=null?a==null?void 0:a.player_sound_on:f.lastLoggedSoundOnState;b=(b=d.coreVideoPlayerMetaData.videoFBID)!=null?b:"-1";var n=d.coreVideoPlayerMetaData.adClientToken==null?"organic":"paid";b={current_watching_module:"",media_id:b,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_suborigin:d.coreVideoPlayerMetaData.subOrigin,tracking_type:n};n="";(g==null?void 0:g.video_time_position)!=null?n=Math.round(g.video_time_position*1e3).toString():h.uncontrolledState.videoElementPlayheadPosition!=null&&(n=Math.round(h.uncontrolledState.videoElementPlayheadPosition*1e3).toString());g={client_time_ms:Date.now().toString(),event_name:c,media_time_ms:n,tag_metadata:{captions_displayed:a==null?void 0:a.captions_displayed,fullscreen:a==null?void 0:a.fullscreen,player_sound_on:a==null?void 0:a.player_sound_on}};h={client_high_res_packaging_time_ms:i,event:g,operational_metadata:j,required_metadata:b};e.push(h);f.lastLoggedSoundOnState=m;f.lastLoggedFullscreenState=k;f.lastLoggedCaptionState=l}function j(a){d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}function k(a,c,d){if(a.controlledState.playbackState!==c.controlledState.playbackState&&c.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){g({eventType:"completed",state:c});f.canLogPausedOrFinishedPlaying=!1;return b}else return b}function l(a,c){g({eventType:"requested_playing",snaplOverrides:c,state:a});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return b}function m(a){if(!f.canLogPausedOrFinishedPlaying)return b;else if(f.hasPendingRequestedPlaying){n(a);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}else{g({eventType:"paused",state:a});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}}function n(a){g({eventType:"cancelled",state:a});return b}function o(a,c,d){if(d.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){a=d.payload.playPromiseRejectionReason;if(a!=null&&a.name==="NotAllowedError"){n(c);return b}else return b}else return b}function p(a,c,d){if((d.type==="controller_play_requested"||d.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==c.controlledState.playbackState){l(c);return b}else return b}function q(a,c,d){var e=c.controlledState.playbackState,g=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){m(c);f.isLoggingScrubbingSequence=!0;return b}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!f.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!f.hasPendingRequestedPlaying){m(c);f.shouldLogRequestedPlayingForScrub=!0;return b}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){l(c,{video_time_position:d.payload.seekTargetPosition});return b}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;a=a.controlledState.implementationSeekSourcePosition;a!=null&&d!=null&&Math.abs(a-d)>h&&(f.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&l(c),f.isLoggingScrubbingSequence=!1,f.shouldLogRequestedPlayingForScrub=!1,g!=="paused"&&g!=="ended"&&(f.canLogPlayingEvent=!0));return b}else return b}function r(a,c,d){if(a.controlledState.playbackState==="stalling"&&c.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){g({eventType:f.hasLoggedStartedPlaying?"unpaused":"started_playing",state:c});f.hasLoggedStartedPlaying=!0;f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;return b}else return b}function s(a,c,d){if((d.type==="controller_pause_requested"||d.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==c.controlledState.playbackState){m(c);return b}else return b}function t(a,d,e){a=d.controlledState.playbackState;if(a!=="paused"&&a!=="ended"){c("gkx")("1469813")&&e.type==="implementation_video_node_unmounted"?m(d):(e.type==="implementation_unmounted"||e.type==="implementation_engine_destroy_requested")&&m(d);return b}else return b}function u(a,c,d){if(d.type!=="notify_fullscreen_changed")return b;a=f.lastLoggedFullscreenState;d=c.uncontrolledState.isFullscreen;if(a!==!0&&d===!0){x(c,!0);return b}else if(a===!0&&d===!1){x(c,!1);return b}else return b}function v(a,c,d){if(d.type!=="controller_muted_requested"&&d.type!=="controller_volume_requested")return b;a=c.controlledState.muted;d=c.controlledState.volume;a=!(a||d===0);d=f.lastLoggedSoundOnState;if(d!==!0&&a===!0){g({eventType:"tags_changed",state:c,tags:{player_sound_on:!0}});return b}else if(d!==!1&&a===!1){g({eventType:"tags_changed",state:c,tags:{player_sound_on:!1}});return b}else return b}function w(a,c,d){if(d.type!=="controller_set_captions_visible_requested")return b;a=f.lastLoggedCaptionState;d=c.controlledState.captionsVisible;if(a!==!0&&d===!0){g({eventType:"tags_changed",state:c,tags:{captions_displayed:!0}});return b}else if(a!==!1&&d===!1){g({eventType:"tags_changed",state:c,tags:{captions_displayed:!1}});return b}else return b}function x(a,b){g({eventType:"tags_changed",state:a,tags:{fullscreen:b}})}return{consumeLoggerEvents:function(){if(e.length>0)if(c("qex")._("1217")){var a=e.some(function(a){return a.event.event_name==="paused"||a.event.event_name==="completed"||a.event.event_name==="cancelled"});if(a){a=e.splice(0);return a}}else{a=e.splice(0);return a}return[]},handleStateMachine:function(a,b,c){j(c);var d=b.controlledState.playbackState,e=[u,o,p,q,r,k,s,v,t,w];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1)}}}g.createMediaPlaybackCompoundEventStateMachineLogger=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var b={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};if(a.source_VPL_LOGGING_HACK==="animated_image_share"&&c("gkx")("1710047"))return;b=(b=a.logData)==null?void 0:b.ad_client_token;b!=null?c("VideoPlayerWwwLogger").logCometImmediately(a):c("VideoPlayerWwwLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationErrorNormalization",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getType();switch(b){case"OZ_NETWORK":b=(b=(b=a.getExtra())==null?void 0:b.code)!=null?b:"0";b=parseInt(b,10);return b<100||b>599?"NetworkError":"HTTPError";case"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":a=(b=a.getExtra())==null?void 0:b.mimeType;if(a!=null&&a.indexOf("video")>-1)return"VideoDecodeError";else if(a!=null&&a.indexOf("audio")>-1)return"AudioDecodeError";else return"GenericDecodeError"}return null}function b(a){switch(a){case"MEDIA_ERR_NETWORK":return"NetworkError";case"MEDIA_ERR_ABORTED":case"MEDIA_ERR_DECODE":case"MEDIA_ERR_SRC_NOT_SUPPORTED":case"MEDIA_ERR_UNKNOWN":return"GenericDecodeError";case"OZ_REPRESENTATION_PARSER":case"OZ_XML_PARSER":return"ManifestParseError";case"BUFFERING_TIMEOUT":case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError"}return null}f.getVideoPlayerNormalizedErrorTypeFromOzError=a;f.getErrorTypeFromErrorName=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationErrors",["NetworkStatus","VideoPlayerImplementationErrorNormalization","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","gkx","oz-player/utils/OzError"],function(a,b,c,d,e,f,g){"use strict";var h={BUFFERING_TIMEOUT_INPLAY:"30000",BUFFERING_TIMEOUT_INPLAY_NO_NETWORK:"30001",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY:"30010",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK:"30011",BUFFERING_TIMEOUT_LIVEREWIND_START:"30012",BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK:"30013",BUFFERING_TIMEOUT_START:"30002",BUFFERING_TIMEOUT_START_NO_NETWORK:"30003"};function a(a){var b=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=c("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:b,errorName:c("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function b(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function e(a,b,d,e,f){var g,i=function(){if(f)if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK;else return 0;else if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START_NO_NETWORK;else return 0}();g={message:String((g=b==null?void 0:b.message)!=null?g:""),name:String((g=b==null?void 0:b.name)!=null?g:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};b={createdTimestamp:Date.now(),errorCode:String(i),errorDescription:g.name+" "+g.message,errorLocation:d,errorName:a,stack:g.stack,url:null};return b}function i(a,b,d,e){var f;e===void 0&&(e=null);f={message:String((f=b==null?void 0:b.message)!=null?f:""),name:String((f=b==null?void 0:b.name)!=null?f:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:f.name+" "+f.message,errorLocation:d,errorName:a,stack:f.stack,url:e!=null&&c("gkx")("1526990")?e:null};return b}function f(a,b){if(a instanceof c("oz-player/utils/OzError")){var e=a,f=e.getExtra();e={createdTimestamp:Date.now(),errorCode:f.code,errorDescription:e.getDescription(),errorLocation:b,errorName:e.getType(),errorType:d("VideoPlayerImplementationErrorNormalization").getVideoPlayerNormalizedErrorTypeFromOzError(e),stack:e.stack,url:f.url};return e}else return i("OZ_JAVASCRIPT_NATIVE",a,b)}function j(a,b){a=a.message;var c="The video node set its error property to a MediaError",d=a.split(": ");d.length>1&&(a=d.shift(),c=d.join(": "));return{createdTimestamp:Date.now(),errorDescription:c,errorLocation:b,errorName:a,errorType:"GenericDecodeError"}}g.createVideoPlayerErrorFromHTMLVideoElementError=a;g.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=b;g.createVideoPlayerBufferingErrorFromGenericError=e;g.createVideoPlayerErrorFromGenericError=i;g.createVideoPlayerErrorFromOzImplementationError=f;g.createVideoPlayerErrorFromVideoNodeError=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationReactVideoElement.react",["gkx","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.implementationExposedState,e=a.seoWebCrawlerVideoTracks,f=a.src,g=a.videoElementCallbacks,i=a.videoElementPreloadDisabled;a=a.videoElementRefCallback;var j=d.hasPlayEverBeenRequested;d=d.isExternalMedia;j=d&&!j?null:f;f=d&&c("gkx")("2449")?babelHelpers["extends"]({crossOrigin:"anonymous"},g):babelHelpers["extends"]({},g);return h.jsx("video",babelHelpers["extends"]({"aria-label":(d=b)!=null?d:void 0,className:"mfclru0v pytsy3co b6ax4al1",controls:!1,muted:!0,playsInline:!0,preload:i===!0?"none":void 0},f,{ref:a,src:j,children:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowArrayEqual","shallowEqual","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b){var c=b.videoElementPlayheadPosition;return c==null?[]:a.emsgBoxes.filter(function(a){var b=a.emsgStartTimeInSec;a=a.emsgDurationInSec||0;return b!=null&&c>=b&&c<b+a}).sort(function(a,b){return(a.emsgStartTimeInSec||0)-(b.emsgStartTimeInSec||0)})}function l(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel});case"controller_override_player_format":return babelHelpers["extends"]({},a,{overriddenPlayerFormat:a.playerFormat,playerFormat:e.payload.playerFormat});case"controller_set_player_format":return babelHelpers["extends"]({},a,{playerFormat:e.payload.playerFormat});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,l=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=a.activeEmsgBoxes;l=k(a,b);f=c("shallowArrayEqual")(g,l)?g:l;if(a.waitingForDomTimeUpdateAfterSeeked){h=a.bufferingDetected;g=a.seeking;l=!1;var m=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:f,playbackState:i({bufferingDetected:h,prevPlaybackState:m,seeking:g,waitingForDomPlaying:l}),waitingForDomPlaying:l,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:f});case"dom_event_seeking":h=a.playbackState;m=h;switch(h){case"paused":case"ended":break;case"stalling":case"playing":m="stalling";break;default:h,c("recoverableViolation")("unexpected playbackState: "+h,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:m,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":g=a.bufferingDetected;l=a.waitingForDomPlaying;f=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:g,prevPlaybackState:h,seeking:f,waitingForDomPlaying:l}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":m=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:c("gkx")("2011")?a.error:m,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":l=(h=e.payload.streamingFormat)!=null?h:a.streamingFormat;return babelHelpers["extends"]({},a,{availableQualities:e.payload.availableQualities,selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:l,targetVideoQuality:e.payload.targetVideoQuality,videoProjection:e.payload.videoProjection});case"implementation_engine_representation_blocked":return babelHelpers["extends"]({},a,{availableQualities:e.payload.availableQualities});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:e.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=b.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_picture_in_picture_state_requested":return babelHelpers["extends"]({},a,{isDesktopPictureInPicture:e.payload.isInPictureInPictureMode});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(m=b.videoElementPlayheadPosition)!=null?m:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":g=a.playbackState;h=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":h="stalling";break;default:g;c("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}l=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:l,playbackState:h});case"buffering_end_requested":f=a.seeking;b=a.waitingForDomPlaying;m=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:m,playbackState:i({bufferingDetected:m,prevPlaybackState:g,seeking:f,waitingForDomPlaying:b})});case"controller_set_captions_visible_requested":l=e.payload.captionsVisible;return a.captionsVisible===l?a:babelHelpers["extends"]({},a,{activeCaptions:l?a.activeCaptions:null,captionsLocale:l?a.captionsLocale:null,captionsVisible:l});case"controller_set_active_captions_requested":h=e.payload.activeCaptions;g=(m=h==null?void 0:h.rows)!=null?m:[];f=e.payload.captionsLocale;b=a.activeCaptions;var n=(l=b==null?void 0:b.rows)!=null?l:[];return n.length===g.length&&g.every(function(a,b){return n[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:h,captionsLocale:f});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":m=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===m?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:m});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_gone_before_start":return babelHelpers["extends"]({},a,{playbackState:"ended",streamEnded:!0,waitingForDomPlaying:!1});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":b=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:b});case"controller_set_is_live_rewind_active_requested":l=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:l});case"loop_count_change_requested":g=e.payload.loopCount;return g===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:g,loopCurrent:0});case"player_dimensions_changed":h=e.payload.dimensions;f=h.height;m=h.width;return m===a.dimensions.width&&f===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:f,width:m}});case"emsg_box_received":b=e.payload.emsgBox;return babelHelpers["extends"]({},a,{emsgBoxes:[].concat(a.emsgBoxes,[b])});case"register_emsg_observer":l=new Set(a.emsgObserverTokens);l.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:l});case"unregister_emsg_observer":g=new Set(a.emsgObserverTokens);g["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:g});default:return a}}function m(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=l(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var n,o;function p(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,l=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(l)try{o=b()}catch(a){l=!1,g=a}var p=h;o=m(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var q,r;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return p({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:c,onLoadedMetadata:c,onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=p;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;case"host_call_picture_in_picture":a.requestPictureInPicture();break;case"host_call_exit_picture_in_picture":a.exitPictureInPicture();break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;case"host_call_picture_in_picture":d(a.type);break;case"host_call_exit_picture_in_picture":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerMutedStateChange",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","performanceAbsoluteNow","qex","recoverableViolation","removeFromArray"],function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=.5,j=(b=c("qex")._("1675"))!=null?b:0,k=c("gkx")("3954")?1e3:Number.POSITIVE_INFINITY,l=null,m=function(a){var b;l=(b=l)!=null?b:document.createElement("video");return!("canPlayType"in l)?"":l.canPlayType(a)};e=c("emptyFunction");f=c("emptyFunction");b=c("emptyFunction");e=c("emptyFunction");var n=(f=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?f:!1;function o(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function p(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],l=o(),q=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function r(a){l.debugSubscribers.push(a);return function(){c("removeFromArray")(l.debugSubscribers,a)}}function s(a){l.debugSubscribers.forEach(function(b){return b(a)})}function t(a){var b=l.stallStartTimestamp;if(b>0){l.stallCount+=1;l.stallCountTotal+=1;l.hasPendingRequestedPlaying&&(l.startStallCountTotal+=1);a=a-b;l.stallDurationTotal+=a;l.stallDuration+=a;l.stallCount200ms+=a>200?1:0;l.hasPendingRequestedPlaying&&(l.startStallDurationTotal+=a)}}function u(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=l.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":l.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":l.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function v(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?l.interruptStartTimestamp=c:a&&!b&&l.interruptStartTimestamp>0&&(l.interruptEndTimestamp=c,l.interruptCount+=1,l.interruptDuration+=l.interruptEndTimestamp-l.interruptStartTimestamp)}function w(a,b,d){var e=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var f=b.controlledState.playbackState;a!=="stalling"&&f==="stalling"&&(s("stall_start"),l.stallStartTimestamp=e);if(a==="stalling"&&f!=="stalling"){e=0;c("gkx")("3881")&&(d.type==="dom_event_playing"||d.type==="buffering_end_requested")&&d.payload.domEventPerfTimestamp!=null&&(e=Math.max(b.uncontrolledState.perfTimestamp-d.payload.domEventPerfTimestamp,0));t(b.uncontrolledState.clockTimestamp-e);l.stallStartTimestamp=0;s("stall_end")}}function x(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":l.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":l.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function y(a,b,c){if(l.interruptCount>0&&l.interruptDuration>0){a={interrupt_count:l.interruptCount,interrupt_time:l.interruptDuration};l.interruptCount=0;l.interruptDuration=0;l.interruptStartTimestamp=0;l.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function z(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:l.stallCount,stall_count_200_ms:l.stallCount200ms,stall_time:l.stallDuration};l.stallCount=0;l.stallCount200ms=0;l.stallDuration=0;l.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(l.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":t(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(t(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function A(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function B(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function C(){return{state:l.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function D(a){if(c("gkx")("2714")&&(a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function E(f){var h,i=f.eventType,j=f.logDataOverrides,k=f.prevState,m=f.state;f=u(m,i);f=f.video_last_start_time_position;var o=z(k,m,i),r=o.stall_count,s=o.stall_count_200_ms;o=o.stall_time;var t=y(k,m,i),v=t.interrupt_count;t=t.interrupt_time;var w=A(a.videoLiveTraceRef,i),C=[],E=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;E&&C.push(E);E=i==="entered_fs"?!0:i==="exited_fs"?!1:l.lastLoggedFullscreenState;h=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(h=m.controlledState.isDesktopPictureInPicture)!=null?h:!1,isFullscreen:E},e.coreVideoPlayerMetaData.playerFormat);var F=m.uncontrolledState.viewabilityPercentage,G=Boolean(m.uncontrolledState.isFBIsLiveTemplated),H=Boolean(m.uncontrolledState.isFBWasLive),I=m.uncontrolledState.videoElementPlaybackRate;I=I==null||I===0?l.lastLoggedPlaybackSpeed:I;var J=a.initialLoggingMetaData.productAttribution;if(h==="watch_scroll"&&J&&J.v2){var K,L={0:babelHelpers["extends"]({},J["0"]),v2:[babelHelpers["extends"]({},J.v2[0])]};K=(K=e.productAttribution)==null?void 0:(K=K.v2)==null?void 0:K[0];if(K){var M=L.v2[0];M["class"]=K["class"];M.scope_id=K.scope_id;M.ts=K.ts}J=L}M=null;K=null;c("gkx")("3013")&&(M=J!=null?d("CometProductAttribution").minifyProductAttributionV2(J):null,K=J!=null?D(J):null);L=m.controlledState.playbackState==="paused"&&k.controlledState.playbackState==="stalling";L=m.controlledState.playbackState==="stalling"||c("gkx")("2914")&&L;K={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:J!=null&&Object.prototype.hasOwnProperty.call(J,"0")?JSON.stringify({0:J["0"]}):null,attribution_id_v2:M,attribution_id_v2_root:K,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:m.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(C),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:m.controlledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:p(m,i),client_latency_setting:m.controlledState.latencyLevel,current_playback_speed:n?I:null,current_viewability_percentage:F,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return m.uncontrolledState.estimatedBandwidth}),dropped_frame_count:m.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,fb_manifest_identifier:m.uncontrolledState.manifestIdentifier,frame_events:w,interrupt_count:v,interrupt_time:t,is_abr_enabled:m.isAbrEnabled,is_fbms:m.uncontrolledState.isFBMS,is_live_video_rewound:m.controlledState.isLiveRewindActive,is_pip:m.controlledState.isDesktopPictureInPicture,is_predictive_playback:m.uncontrolledState.isPredictiveDash,is_sound_on:!m.controlledState.muted,is_stalling:L,is_templated_manifest:G||H,last_viewability_percentage:l.lastLoggedViewabilityPercentage,mpd_validation_errors:m.uncontrolledState.mpdValidationErrors,network_connected:m.uncontrolledState.networkConnected,playback_caption_format:m.controlledState.captionFormat,playback_caption_locale:m.controlledState.captionsLocale,playback_duration:m.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:h,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:B(m),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:m.playerVersion,representation_id:m.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:r,stall_count_200_ms:s,stall_time:o,streaming_format:m.controlledState.streamingFormat,total_frame_count:m.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("1434599")&&i==="heart_beat"?!0:null,video_bandwidth:m.uncontrolledState.estimatedBandwidth,video_buffer_end_position:m.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:m.controlledState.lastPlayReason,video_player_height:(J=e.dimensions)==null?void 0:J.height,video_player_width:(M=e.dimensions)==null?void 0:M.width,video_time_position:m.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};C=c("gkx")("1286")&&i==="error_recovery_attempt"?null:q.has(i)?++l.sequenceNumber:null;v={event_seq_num:++l.vplEventSequenceNumber,seq_num:C,time_ms:Date.now(),vpts:((w=c("qex")._("33"))!=null?w:!1)?c("performanceAbsoluteNow")():null};var N={};b.forEach(function(a,b){N[b]=a});t=e.coreVideoPlayerMetaData.additionalLogData;L=babelHelpers["extends"]({},t,N);G=babelHelpers["extends"]({},L,K,j,v);h=(H=l.initialSuborigin)!=null?H:e.coreVideoPlayerMetaData.subOrigin;s=(r=G.source_VPL_LOGGING_HACK)!=null?r:h;f=(o=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?o:e.coreVideoPlayerMetaData.routeTracePolicy;J={eventType:i,logData:G,routeTracePolicy:f,source_VPL_LOGGING_HACK:s};g.push(J);x(k,m,i);l.initialSuborigin==null&&h!=null&&(l.initialSuborigin=h);l.lastLoggedFullscreenState=E;l.lastLoggedPlaybackSpeed=I;i==="viewability_changed"&&(l.lastLoggedViewabilityPercentage=F)}var F={};function G(a,b,c){E({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,C()),prevState:a,state:b});l.hasPendingRequestedPlaying=!0;l.canLogPausedOrFinishedPlaying=!0;return F}function H(a,b,c){if(!l.canLogPausedOrFinishedPlaying)return F;else if(l.hasPendingRequestedPlaying){I(a,b,c);l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return F}else{E({eventType:"paused",logDataOverrides:c,prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return F}}function I(a,b,c){var d=b.uncontrolledState.liveTraceContext;c=babelHelpers["extends"]({},c,C(),{live_trace_source_id:d?d.sourceId:void 0,live_trace_stream_id:d?d.streamId:void 0,live_trace_stream_type:d?d.streamType:void 0});E({eventType:"cancelled_requested_playing",logDataOverrides:c,prevState:a,state:b});return F}function J(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&l.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){I(a,b,{debug_reason:"not_allowed"});return F}else return F}else return F}function K(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!l.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;G(a,b,c);return F}else return F}function L(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&l.canLogPlayingEvent){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;E({eventType:l.hasLoggedStartedPlaying?"unpaused":"started_playing",logDataOverrides:c,prevState:a,state:b});l.hasLoggedStartedPlaying=!0;l.canLogPlayingEvent=!1;l.hasPendingRequestedPlaying=!1;return F}else return F}function M(a,b,d){var e=b.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){H(a,b);l.isLoggingScrubbingSequence=!0;return F}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!l.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!l.hasPendingRequestedPlaying){H(a,b);l.shouldLogRequestedPlayingForScrub=!0;return F}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){G(a,b,{video_time_position:d.payload.seekTargetPosition});return F}else if(a.controlledState.seeking&&!b.controlledState.seeking){d=b.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!c("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>i)&&(l.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&G(a,b),E({eventType:"scrubbed",prevState:a,state:b}),l.isLoggingScrubbingSequence=!1,l.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(l.canLogPlayingEvent=!0));return F}else return F}function N(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&l.canLogPausedOrFinishedPlaying){E({eventType:"finished_playing",prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;return F}else return F}function O(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!l.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){H(a,b);return F}else return F}function P(a,b,d){var e=b.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){c("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?H(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&H(a,b,{debug_reason:"unloaded"});return F}else return F}function Q(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;E({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return F}function R(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":E({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return F;case"unmuted":E({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return F;case null:if(h<f){E({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return F}else if(h>f){E({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return F}else return F;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return F}}function S(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=l.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){E({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});l.lastTrackedRepresentation=c;s("quality_change");return F}else if(d==null&&d!==c){l.lastTrackedRepresentation=c;return F}else return F}function T(a,b){var d=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:c("mapObject")(c("VideoMimeTypes"),m),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:l.lastLoggedError,stack:d==null?void 0:d.stack,stallCount:l.stallCount,stallTime:l.stallDuration,state:B(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:b,state:a}}}function U(a,b,e){var f=b.controlledState.error;if(f!=null&&f!==l.lastLoggedError&&f.errorCode!=="410"){var g=f.errorDescription,h=f.errorName,i=f.errorType,j=f.url,k=f.errorCode==null||f.errorCode===""?h:f.errorCode;e=T(b,e);E({eventType:"error",logDataOverrides:babelHelpers["extends"]({},c("gkx")("1565232")?C():null,{error:h,error_code:k,error_description:g,error_domain:h,error_type:(k=i)!=null?k:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(h),error_user_info:JSON.stringify(e),resource_url:j}),prevState:a,state:b});l.lastLoggedError=f}return F}function V(a,b){var c=l.errorRecoveryAttemptState.currentRecoverableError;if(c!=null){var d=c.errorCode,e=c.errorDescription,f=c.errorName,g=c.errorType;c=c.url;l.errorRecoveryAttemptState.eventsLogged++;l.errorRecoveryAttemptState.repeatCount=0;E({eventType:"error_recovery_attempt",logDataOverrides:{error:f,error_code:d,error_description:e,error_domain:f,error_type:g,resource_url:c},prevState:a,state:b})}return F}function W(a,b,d){if(d.type==="error_recovery_attempt"&&l.errorRecoveryAttemptState.eventsLogged<k){var e=l.errorRecoveryAttemptState.currentRecoverableError;d=d.payload.recoverableError;if(c("gkx")("1541")&&d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return F;l.errorRecoveryAttemptState.currentRecoverableError=d;e==null||e.errorName!==d.errorName||e.errorCode!==d.errorCode?V(a,b):(l.errorRecoveryAttemptState.repeatCount++,l.errorRecoveryAttemptState.repeatCount>j&&V(a,b))}return F}function X(a,b,c){if(!n)return F;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&l.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==l.lastLoggedPlaybackSpeed&&E({eventType:"playback_speed_changed",prevState:a,state:b});return F}function Y(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?l.nextHeartbeatTime=null:c!=="stalling"&&l.nextHeartbeatTime==null&&(l.nextHeartbeatTime=Date.now()+h);var d=l.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&E({eventType:"heart_beat",prevState:a,state:b}),l.nextHeartbeatTime=e+h)}return F}function Z(a,b,c){if(c.type==="implementation_mounted"){E({eventType:"player_loaded",prevState:a,state:b});return F}else return F}function $(a,b,c){E({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function aa(a,b,c){var d=e.coreVideoPlayerMetaData.playerFormat;(f.coreVideoPlayerMetaData.playerFormat!==d||c.type==="controller_override_player_format")&&E({eventType:"player_format_changed",prevState:a,state:b});return F}function ba(a,b,c){if(c.type==="dom_event_timeupdate"){c=l.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(E({eventType:"played_for_three_seconds",prevState:a,state:b}),l.nextPlayedThreeSecondsPlayheadPosition=null)}}return F}function ca(a,b,c){if(c.type!=="notify_fullscreen_changed")return F;c=l.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return F}else if(c===!0&&d===!1){$(a,b,d);return F}else return F}function da(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("1401747"))return F;d=b.controlledState.playbackState;var f=l.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){E({eventType:"viewability_changed",prevState:a,state:b});return F}else return F}function ea(a,b,c){if(c.type==="controller_set_captions_visible_requested"){E({eventType:"caption_change",prevState:a,state:b});return F}else return F}function fa(a){f=e;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;e=a}}return{addDebugSubscriber:function(a){return r(a)},consumeLoggerEvents:function(){var a=g.splice(0);return a},getLoggerState:function(){return l},handleStateMachine:function(a,b,c){fa(c);var d=b.controlledState.playbackState;w(a,b,c);v(a,b);var e=[aa,ca,da,J,K,M,L,N,O,Q,R,P,Z,ea,S,U,W,Y,X,ba];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(l.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(l.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(l.shouldIgnoreDomPlay=!1,l.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;E({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,c){b.set(a,c)}}}g.HEARTBEAT_INTERVAL=h;g.createVideoPlayerImplementationStateMachineLogger=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("convertToViewabilityPercentage",[],function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["NetworkStatus","convertToViewabilityPercentage","gkx","performance"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;var g=Date.now(),h=typeof c("performance").now==="function"?c("performance").now():0;if(e==null){var i;i={audioRepresentationID:void 0,clockTimestamp:g,currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:void 0,liveTraceContext:f?(i=f.getLiveTraceContext())!=null?i:void 0:void 0,manifestIdentifier:void 0,mpdValidationErrors:void 0,networkConnected:void 0,perfTimestamp:h,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return i}i=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();g={audioRepresentationID:b?b.getAudioRepresentationIDAtTime(i):void 0,clockTimestamp:g,currentPlayingVideoQuality:b?b.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:b?b.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:b?b.isFBIsLiveTemplated():void 0,isFBMS:b?b.isFBMS():void 0,isFBWasLive:b?b.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:b?b.isPredictiveDash():void 0,liveTraceContext:f?(g=f.getLiveTraceContext())!=null?g:void 0:void 0,manifestIdentifier:b?b.getManifestIdentifier():void 0,mpdValidationErrors:b?b.getMpdValidationErrors():void 0,networkConnected:c("NetworkStatus").isOnline(),perfTimestamp:h,videoElementDebugCurrentSrc:c("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:c("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:i,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:b?b.getVideoRepresentationIDAtTime(i):void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return g}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerImplementationName,i=a.playerVersion;a=a.streamingFormat;var j=!0,k=1,l=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],availableQualities:[],bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,emsgBoxes:[],emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isDesktopPictureInPicture:!1,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,muted:j,overriddenPlayerFormat:"unknown",playbackState:"paused",playerFormat:"unknown",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedVideoQuality:"notselected",streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",videoProjection:null,volume:k,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerImplementationName:h,playerVersion:i,uncontrolledState:l}}g.createVideoPlayerImplementationStateMachineInitialState=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerODS",["ODS","Random"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){d("Random").coinflip(c)&&d("ODS").bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationEngineAPI",["CometEventListener","CometVideoPictureInPictureManagerContext","CurrentUser","ErrorMetadata","FBLogger","MediaPlaybackCompoundEventStateMachineLogger","NetworkStatus","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoLiveTrace","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerODS","clearTimeout","cr:4081","cr:506","cr:683059","deepEquals","err","gkx","killswitch","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");f=d("react");var i=f.useEffect,j=f.useRef,k=f.useState,l=(f=c("qex")._("1653"))!=null?f:0,m=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.exitPictureInPictureImpl,f=a.fullscreenControllerRef,g=a.getCurrentExposedState,h=a.getCurrentIsDesktopPictureInPicture,i=a.getCurrentIsFullscreen,j=a.getCurrentLiveRewindPlayheadPosition,k=a.getCurrentPlayheadPosition,l=a.internal_getCurrentStateMachineState,n=a.loggerAPI,o=a.overridePlayerFormatImpl,p=a.pauseImpl,q=a.playImpl,r=a.registerEmsgObserverImpl,s=a.requestPictureInPictureImpl,t=a.scrubBeginImpl,u=a.scrubEndImpl,v=a.seekImpl,w=a.selectVideoQualityImpl,x=a.setCaptionsDisplayStyleImpl,y=a.setCaptionsUrlImpl,z=a.setCaptionsVisibleImpl,A=a.setIsLiveRewindActiveImpl,B=a.setLatencyLevelImpl,C=a.setMutedImpl,D=a.setPictureInPictureStateImpl,E=a.setPlaybackRateImpl,F=a.setVolumeImpl,G=a.subscribers,H=a.unregisterEmsgObserverImpl,I=a.videoElementAPIRef,J=new Set(),K=!1,L=null,M=[],N=[],O=[],P=[],Q=new m({pauseRequestCallbacks:N,playRequestCallbacks:M,scrubBeginRequestCallbacks:O,scrubEndRequestCallbacks:P}),R={freeze:function(){if(!g().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;J.size===0&&(b=!0,L={exposedState:g(),isFullscreen:i(),liveRewindPlayheadPosition:j(),playheadPosition:k(),stateMachineState:l()});J.add(a);b&&(K=!0,G.forEach(function(a){a()}))}finally{K=!1}return a},isFrozen:function(){return L!=null},unfreeze:function(a){if(!J.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");J["delete"](a);J.size===0&&(L=null,G.forEach(function(a){a()}))}},S=babelHelpers["extends"]({},b,R,n,{debugAPI:d,exitPictureInPicture:function(){if(R.isFrozen())return;e()},getCurrentState:function(){return L!=null?L.exposedState:g()},getIsDesktopPictureInPicture:function(){return L!=null?L.isFullscreen:h()},getIsFullscreen:function(){return L!=null?L.isFullscreen:i()},getLiveRewindPlayheadPosition:function(){return L!=null?L.liveRewindPlayheadPosition:j()},getPlayheadPosition:function(){return L!=null?L.playheadPosition:k()},internal_getStateMachineState:function(){return L!=null?L.stateMachineState:l()},internal_getVideoElement:function(){var a=I.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},observeOn:function(){return Q},overridePlayerFormat:function(a){if(R.isFrozen())return;o(a)},pause:function(a){if(R.isFrozen())return;N.forEach(function(b){return b(a)});p(a)},play:function(a){if(R.isFrozen())return;M.forEach(function(b){return b(a)});q(a)},registerEmsgObserver:function(){var a={};r(a);return a},requestPictureInPicture:function(){if(R.isFrozen())return;s()},requestSetIsFullscreen:function(a){if(R.isFrozen())return;var b=f.current;if(b){var c=S.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=S.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(R.isFrozen())return;O.forEach(function(a){return a()});t()},scrubEnd:function(a){if(R.isFrozen())return;P.forEach(function(b){return b(a)});u(a)},seek:function(a){if(R.isFrozen())return;v(a)},selectVideoQuality:function(a){if(R.isFrozen())return;w(a)},setCaptionsDisplayStyle:function(a){if(R.isFrozen())return;x(a)},setCaptionsUrl:function(a){if(R.isFrozen())return;y(a)},setCaptionsVisible:function(a){if(R.isFrozen())return;z(a)},setIsLiveRewindActive:function(a){if(R.isFrozen())return;A(a)},setLatencyLevel:function(a){if(R.isFrozen())return;B(a)},setMuted:function(a,b){if(R.isFrozen())return;C(a,b)},setPictureInPictureState:function(a){if(R.isFrozen())return;D(a)},setPlaybackRate:function(a){if(R.isFrozen())return;E(a)},setVolume:function(a){if(R.isFrozen())return;F(a)},subscribe:function(a){var b=function(){if(R.isFrozen()&&!K)return;a()},d=f.current,e=d?d.subscribe(b):null;G.push(b);return{remove:function(){e&&e.remove(),c("removeFromArray")(G,b)}}},unregisterEmsgObserver:function(a){H(a)},videoElementAPIRef:I});return S}function o(a){var b=a.concurrentAutoplayManagementAPI,d=a.createExposedState,e=a.debugAPI,f=a.fullscreenControllerRef,g=a.logger,h=a.machine,i=a.subscribers,j=a.videoElementAPIRef;a={setAdditionalLogData:function(a,b){g.setAdditionalLogData(a,b)}};return n({concurrentAutoplayManagementAPI:b,debugAPI:e,exitPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_exit_requested"})},fullscreenControllerRef:f,getCurrentExposedState:function(){return d(h.getCurrentState())},getCurrentIsDesktopPictureInPicture:function(){var a;return(a=h.getCurrentState().controlledState.isDesktopPictureInPicture)!=null?a:!1},getCurrentIsFullscreen:function(){var a=f.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=h.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=c("gkx")("3464")?(a=j.current)==null?void 0:a.getPlayheadPosition():void 0)!=null?a:h.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},internal_getCurrentStateMachineState:function(){return h.getCurrentState()},loggerAPI:a,overridePlayerFormatImpl:function(a){h.dispatch({payload:{playerFormat:a},type:"controller_override_player_format"})},pauseImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"register_emsg_observer"})},requestPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_requested"})},scrubBeginImpl:function(){h.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){h.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsDisplayStyleImpl:function(a){h.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){h.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){h.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){h.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){h.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){h.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPictureInPictureStateImpl:function(a){h.dispatch({payload:{isInPictureInPictureMode:a},type:"controller_set_picture_in_picture_state_requested"})},setPlaybackRateImpl:function(a){h.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){h.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function p(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function q(a){var e=a.alwaysShowCaptions,f=a.areCaptionsAutogenerated,g=a.captionDisplayStyle,h=a.captionsControllerRef,i=a.debugLogId,j=a.dimensions,k=a.engineExtrasAPI,m=a.engineMetadata,n=a.fullscreenControllerRef,o=a.handleFatalError,q=a.handleStateMachine,s=a.videoElementAPIRef,t=a.videoLiveTraceRef,u=a.videoPlayerPassiveViewabilityInfoRef;function v(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:k,hostCall:a,machine:y,videoElementAPI:s.current})}var w=null,x=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){q(a,b,c);return!0},function(a,b,e){if(c("gkx")("1633455")&&(a.controlledState.streamInterrupted===!1&&b.controlledState.streamInterrupted===!0||a.controlledState.streamInterrupted===!0&&b.controlledState.streamInterrupted===!1)){a=b.controlledState;b=a.bufferingDetected;var f=a.lastBufferingType,g=a.streamInterrupted;a=a.targetPlaybackRate;g?(b&&y.dispatch({payload:{domEventPerfTimestamp:null},type:"buffering_end_requested"}),v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:e.type},type:"host_call_set_playback_rate"})):(v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:e.type},type:"host_call_set_playback_rate"}),b&&y.dispatch({payload:{bufferingType:f||"in_play"},type:"buffering_begin_requested"}))}return!0},function(a,b,e){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1){w!==null&&(c("clearTimeout")(w),w=null);if(b.controlledState.bufferingDetected&&(!c("gkx")("1633455")||!b.controlledState.streamInterrupted)){e=function a(){w=null;if(c("gkx")("1849507")&&!c("NetworkStatus").isOnline())w=c("setTimeout")(a,g);else{var e=d("VideoPlayerImplementationErrors").createVideoPlayerBufferingErrorFromGenericError("BUFFERING_TIMEOUT",c("err")("The video has been in a buffering state for over "+g+" ms."),"buffering_timeout",f,b.controlledState.isLiveRewindActive);x&&(x.log(),x=null);y.dispatch({payload:{fatalError:e},type:"implementation_fatal_error"});e=k.getPerfLoggerProvider();e==null?void 0:e.getOperationLogger("buffering_timeout").setType(f).setInitiator("engine_api").setLength(g).setResult("failed").log()}};var f=(a=b.controlledState.lastBufferingType)!=null?a:"in_play";a=(a=c("qex")._("1654"))!=null?a:l;var g=f==="in_play"?a:l;g>0&&(w=c("setTimeout")(e,g));a=k.getPerfLoggerProvider();x=a?a.getOperationLogger("buffering").setState("buffering").setType(f).start():null}else!b.controlledState.bufferingDetected&&x!=null&&(x.log(),x=null)}return!0},function(a,b,d){if(d.type!=="implementation_engine_destroy_requested")return!0;w!==null&&c("clearTimeout")(w);w=null;return!1},function(a,b,c){if(c.type!=="implementation_engine_initialized")return!0;a=p(s);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:k,machine:y,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(c.type!=="dom_event_ended")return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&y.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(c.type!=="controller_pause_requested")return!0;a=b.controlledState.playbackState;if(a!=="paused")return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(c.type!=="controller_play_requested")return!0;a=b.controlledState.playbackState;if(a!=="stalling")return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(c.type!=="controller_seek_requested")return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&v({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(c.type!=="controller_muted_requested")return!0;a=b.controlledState.muted;if(a!==c.payload.muted)return!1;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(c.type!=="controller_scrub_begin_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_scrub_end_requested")return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),v({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_begin_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_set_playback_rate")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_end_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_volume_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(c.type!=="controller_quality_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=h.current;var e=b.controlledState.captionsVisible,f=s.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var g=b.controlledState.seekableRanges;g=g!=null?(g=g.end(g.length()-1))!=null?g:0:0;f>=g&&y.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!k.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){g=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&y.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});r(b,g)&&y.dispatch({payload:{activeCaptions:g,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=t.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(c.type!=="cea608_bytes_received")return!0;a=h.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(c.type!=="controller_set_captions_url_requested")return!0;a=h.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(c.type!=="controller_set_is_live_rewind_active_requested")return!0;k.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&y.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_picture_in_picture"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_exit_requested")return!0;v({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_exit_picture_in_picture"});return!1}];var y=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=s.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:k,fullscreenControllerRef:n,videoElementAPI:a,videoLiveTraceRef:t,videoPlayerPassiveViewabilityInfoRef:u})},debugLogId:i,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:e,areCaptionsAutogenerated:f,captionDisplayStyle:g,dimensions:j,isAbrEnabled:m.isAbrEnabled,playerImplementationName:m.playerImplementationName,playerVersion:m.playerVersion,streamingFormat:m.streamingFormat}),onFatalError:o,stateTransitionHandlers:a});return y}function r(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function t(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function u(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.availableQualities,g=c.captionDisplayStyle,h=c.captionsLoaded,i=c.captionsVisible,j=c.error,k=c.hasPlayEverBeenRequested,l=c.inbandCaptionsAutogenerated,m=c.isDesktopPictureInPicture,n=c.isLiveRewindActive,o=c.lastMuteReason,p=c.lastPauseReason,q=c.lastPlayedTimeMs,r=c.lastPlayReason,s=c.latencyLevel,t=c.loopCount,u=c.loopCurrent,v=c.muted,w=c.overriddenPlayerFormat,x=c.playbackState,y=c.seekableRanges,z=c.seeking,A=c.seekTargetPosition,B=c.selectedVideoQuality,C=c.streamInterrupted,D=c.targetAudioQuality,E=c.targetPlaybackRate,F=c.targetVideoQuality,G=c.videoProjection,H=c.volume;c=c.watchTimeMs;var I=a.uncontrolledState,J=I.currentPlayingVideoQuality,K=I.videoElementDuration,L=I.videoElementLastBufferEndPosition;I=I.videoRepresentationID;var M=x==="ended",N=x==="paused"||M,O=x==="playing",P=x==="inPlayStalling";x=x==="stalling"||P;d={activeCaptions:d,activeEmsgBoxes:e,availableVideoQualities:f,bufferEnd:(d=L)!=null?d:0,captionDisplayStyle:g,captionsLoaded:h,captionsVisible:i,currentVideoQuality:(e=J)!=null?e:"",duration:(f=K)!=null?f:0,ended:M,error:j,hasPlayEverBeenRequested:k,inbandCaptionsAutogenerated:l,inPlayStalling:P,isAbrEnabled:b.isAbrEnabled,isDesktopPictureInPicture:(L=m)!=null?L:!1,isExternalMedia:b.isExternalMedia,isLiveRewindActive:n,lastMuteReason:o,lastPauseReason:p,lastPlayedTimeMs:q,lastPlayReason:r,latencyLevel:s,loopCount:t,loopCurrent:u,muted:v,overriddenPlayerFormat:w,paused:N,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:O,seekableRanges:y,seeking:z,seekTargetPosition:A,selectedVideoQuality:B,stalling:x,streamInterrupted:C,targetAudioQuality:D,targetPlaybackRate:E,targetVideoQuality:F,videoProjection:G,videoRepresentationID:I,volume:H,watchTimeMs:c};return d}function a(a){var e=a.createDebugAPI,f=a.createVideoPlayerError,g=a.debugLog,h=a.debugLogId,i=a.destroyEngineParts,j=a.engineExtrasAPI,k=a.engineMetadata,l=a.handleFatalError,m=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,p=a.handleVideoInfoChange,r=a.initialProps,v=a.setExposedStateInReact;g=r.loggingMetaData.instanceKey;a=r.loggingMetaData.coreVideoPlayerMetaData;var w=a.broadcastId,x=a.isLiveStreaming;a=a.isLiveTraceEnabled;var y={current:Boolean(x)&&Boolean(a)&&w!=null?new(c("VideoLiveTrace"))(w,g,c("CurrentUser").getAccountID()):null},z=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:h,initialLoggingMetaData:r.loggingMetaData,videoLiveTraceRef:y}),A=b("cr:4081")?d("MediaPlaybackCompoundEventStateMachineLogger").createMediaPlaybackCompoundEventStateMachineLogger({debugLogId:h,initialLoggingMetaData:r.loggingMetaData}):null,B=b("cr:4081")&&A?new(b("cr:4081"))(A):null,C=new(c("VideoPlayerBanzaiLogFlusher"))(z),D={current:(x=r.videoPlayerPassiveViewabilityInfo)!=null?x:null},E={current:(a=r.fullscreenController)!=null?a:null},F={current:null};w=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var G=[],H=function(){G.forEach(function(a){a()}),r.disableLogging?(C.discardLogsWithoutFlushing(),b("cr:4081")&&(B==null?void 0:B.discardLogsWithoutFlushing())):(C.flushLogs(),B==null?void 0:B.flushLogs())},I={current:null},J=null,K={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:r.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:r.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(g=r.captionsUrl)!=null?g:null}},L={current:null},M={current:null},N=new(c("SubscriptionsHandler"))(),O=new(c("SubscriptionsHandler"))(),P="before_mounted";function Q(){return P==="mounted"}var R={current:null},S=function(a){a=u({engineMetadata:k,state:a});return a},T={current:null},U={current:null},aa=function(a){if(Q()){if(a===T.current)return;var b=S(a);if(U.current!=null&&c("deepEquals")(U.current,b))return;T.current=a;U.current=b;v(b)}};x=function(a,b,c){z.handleStateMachine(a,b,c),A==null?void 0:A.handleStateMachine(a,b,c),aa(b),H()};var V=function(a,b){};a=function(a){V(a,"state_machine_fatal_error")};var W=q({alwaysShowCaptions:Boolean(r.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(r.areCaptionsAutogenerated),captionDisplayStyle:r.captionDisplayStyle,captionsControllerRef:F,debugLogId:h,dimensions:r.dimensions,engineExtrasAPI:j,engineMetadata:k,fullscreenControllerRef:E,handleFatalError:a,handleStateMachine:x,videoElementAPIRef:R,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:D}),X=!1,Y=function(a){var b=I.current!=null,d=R.current!=null;N.release();W.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{c("gkx")("1494163")?i(["destroyEngine("+a+")"]):X||(X=!0,i(["destroyEngine("+a+")"]))}catch(e){if(c("gkx")("1494163"))try{c("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:k.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:b}))}catch(a){}}var e=F.current;e!=null&&(W.getCurrentState().controlledState.captionsLoaded&&W.dispatch({type:"captions_unloaded"}),F.current=null,e.destroy());s(null,E,L,W);t(null,D,M,W);W.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"})};V=function(a,b){a=f(a,b);W.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});Y("implementation_fatal_error");l(a)};function ba(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function Z(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function $(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var ca=function(a){var b=ba(a),c=Z(a),e=$(a),f=F.current;e!==$(K.current)&&W.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==Z(K.current)&&(f.updateInbandCaptionsExpected(c),!c&&W.getCurrentState().controlledState.captionsLoaded&&W.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(F.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){W.getCurrentState().controlledState.captionsLoaded||W.dispatch({type:"captions_loaded"})}}));K.current=a},da=function(a){j!=null&&a&&a.width>0&&a.height>0&&(j.setDimensions(a),W.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},ea=function(a){a!==W.getCurrentState().controlledState.loopCount&&W.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},fa=function(a){"srcObject"in a&&(a.srcObject=null),c("gkx")("8054")&&a.removeAttribute("src"),O.release(),O.engage()},ga=function(a,e){if(I.current===a)return;if(!Q()&&c("gkx")("1405244"))return;if(!Q()){var f=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(P);f&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",f,1)}a!=null&&I.current!=null&&I.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");J!=null&&J();f=I.current;f&&fa(f);I.current=a;b("cr:506")!=null&&a!=null&&(J=b("cr:506")(a,h));a!=null&&O.addSubscriptions(c("CometEventListener").listen(a,"enterpictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&W.dispatch({payload:{isInPictureInPictureMode:!0},type:"controller_set_picture_in_picture_state_requested"})}),c("CometEventListener").listen(a,"leavepictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&W.dispatch({payload:{isInPictureInPictureMode:!1},type:"controller_set_picture_in_picture_state_requested"})}));c("gkx")("1494163")&&(a==null&&(R.current=null));I.current!=null?(W.dispatch({type:"implementation_video_node_mounted"}),m([].concat(e,["handleVideoElement(non-null)"]))):(W.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(e,["handleVideoElement(null)"])))};g=r.loggingMetaData.instanceKey;a=function(a){var b;if(!Q())return;s((b=a.fullscreenController)!=null?b:null,E,L,W);t((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,D,M,W);if(!p(a)){b={inbandCaptionsAutogeneratedFromManifest:K.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:K.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:K.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};ca(b);da(a.dimensions);ea((b=a.loopCount)!=null?b:0)}W.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};x=function(){if(P!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(P);a&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}Q()||(P="mounted",N.addSubscriptions(d("RunComet").onUnload(function(){Y("page_unload")})),W.dispatch({type:"implementation_mounted"}),m(["handleReactMount"]))};g=function(){if(!Q()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(P);a&&d("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}Q()&&(P="unmounted",W.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Y("implementation_unmounted:react_effect_cleanup"))};w=o({concurrentAutoplayManagementAPI:w,createExposedState:S,debugAPI:e({getVideoElementAPI:function(){return R.current},logger:z}),fullscreenControllerRef:E,logger:z,machine:W,subscribers:G,videoElementAPIRef:R});e=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(W,ga);var ha=S(W.getInitialState());x={destroy:Y,handleReactMount:x,handleReactPropsChanged:a,handleReactUnmount:g,implementationController:w,initialExposedState:ha,logFlusher:C,machine:W,notifySubscribers:H,videoElementCallbacks:e,videoElementRefCallback:function(a){ga(a,["videoElementRefCallback"])}};return{engine:x,getCaptionsInfo:function(){return K.current},getVideoElement:function(){return I.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:ca,handleFatalImplementationError:V,logger:z,machine:W,videoElementAPIRef:R}}function v(a,b){var d,e=c("err")(a.errorName+": "+a.errorDescription);e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,b){var d=k(null),e=d[0],f=d[1],g=j(!1),l=j(null);d=k(null);var m=d[0],n=d[1];d=a.wrapVideoPixels_EXPERIMENTAL;i(function(){m||(l.current=null)},[m]);var o=j(a),p=j(b),q=c("useStable")(function(){return p.current({debugLogId:String(o.current.loggingMetaData.instanceKey),handleFatalError:function(a){if(g.current&&c("gkx")("1722590"))return;c("gkx")("1444664")?l.current||(l.current=a,n(a)):n(a)},initialProps:o.current,setExposedStateInReact:f})});e=(b=e)!=null?b:q.initialExposedState;b=(b=e.error)!=null?b:m;if(b!=null){if(c("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw c("unrecoverableViolation")(b.errorName+": "+b.errorDescription,"comet_video_player",{error:b.originalError instanceof Error?b.originalError:void 0});var r=a.VideoPlayerShakaPerformanceLoggerClass;r&&(c("gkx")("2007883")||c("qex")._("1655"))&&r.flushQueuedLogs();throw v(b,o.current.videoFBID)}i(function(){q.handleReactMount();return function(){g.current=!0,q.handleReactUnmount()}},[q]);var s=j(null);i(function(){a!==s.current&&q.handleReactPropsChanged(a),s.current=a});r=c("useSEOLoggedOutWebCrawler")();b=h.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,implementationExposedState:e,seoWebCrawlerVideoTracks:r&&a.seoWebCrawlerVideoTracks!=null?a.seoWebCrawlerVideoTracks:null,src:r?a.seoWebCrawlerLookasideUrl:null,videoElementCallbacks:r?null:q.videoElementCallbacks,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:r?null:q.videoElementRefCallback});r=a.renderWithExposedState({implementationController:q.implementationController,implementationExposedState:e});d=h.jsxs(h.Fragment,{children:[d?d(b):b,r]});return{engine:q,exposedState:e,reactVideoComponents:r,reactVideoFrame:b,reactVideoFrameAndComponents:d}}g.internal_createVideoPlayerImplementationControllerImpl=n;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=q;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=u;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=v;g.useVideoPlayerImplementationEngine=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],function(a,b,c,d,e,f,g){"use strict";function h(a){return isNaN(a)?0:a}function i(a){return h(a.duration)}function j(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function k(a){return h(a.currentTime)}function l(a){return a.buffered.length===0?0:a.buffered.start(0)}function a(a,e){var f=e!==!0,g=null,h=function(b){f?b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b):g=b};return{exitPictureInPicture:function(){window.document.exitPictureInPicture()},getCanPlayPromise:function(){return new(b("Promise"))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(b("Promise"))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return i(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return j(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return k(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){f||(f=!0,h(g),g=null);var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},requestPictureInPicture:function(){typeof a.requestPictureInPicture==="function"&&a.requestPictureInPicture()},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=l(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setSrc:h,setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=i;g.getLastBufferEndPositionFromVideoElement=j;g.getPlayheadPositionFromVideoElement=k;g.createVideoPlayerImplementationEngineVideoElementAPI=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],function(a,b,c,d,e,f,g){"use strict";var h=d("createVideoStateHook").createVideoStateHook(),i=h.stateHook,j=h.valueHook,k=[];function a(){return i(k)}function b(){return j(k)}h=d("createVideoStateHook").createVideoStateHook();var l=h.stateHook,m=h.valueHook,n=null;function c(){return l(n)}function e(){return m(n)}h=d("createVideoStateHook").createVideoStateHook();var o=h.setterHook,p=h.valueHook,q=!0;function f(){return o(q)}function r(){return p(q)}h=d("createVideoStateHook").createVideoStateHook();var s=h.stateHook,t=h.valueHook,u="INIT";function v(){return s(u)}function w(){return t(u)}h=d("createVideoStateHook").createVideoStateHook();var x=h.stateHook,y=h.valueHook,z=!0;function A(){return x(z)}function B(){return y(z)}h=d("createVideoStateHook").createVideoStateHook();var C=h.stateHook,D=h.valueHook,E=null;function F(){return C(E)}function G(){return D(E)}h=d("createVideoStateHook").createVideoStateHook();var H=h.stateHook,I=h.valueHook,J=null;function K(){return H(J)}function L(){return I(J)}h=d("createVideoStateHook").createVideoStateHook();var M=h.stateHook,N=h.valueHook,O=null;function P(){return M(O)}function Q(){return N(O)}h=d("createVideoStateHook").createVideoStateHook();var R=h.stateHook,S=h.valueHook,T=null;function U(){return R(T)}function aa(){return S(T)}h=d("createVideoStateHook").createVideoStateHook();var ba=h.stateHook,ca=h.valueHook,V=null;function da(){return ba(V)}function ea(){return ca(V)}h=d("createVideoStateHook").createVideoStateHook();var fa=h.stateHook,ga=h.valueHook,W=0;function ha(){return fa(W)}function ia(){return ga(W)}h=d("createVideoStateHook").createVideoStateHook();var ja=h.stateHook,ka=h.valueHook,X=!1;function la(){return ja(X)}function ma(){return ka(X)}h=d("createVideoStateHook").createVideoStateHook();var na=h.stateHook,oa=h.valueHook,Y=!1;function pa(){return na(Y)}function qa(){return oa(Y)}h=d("createVideoStateHook").createVideoStateHook();var ra=h.stateHook,sa=h.valueHook,Z=null;function ta(){return ra(Z)}function ua(){return sa(Z)}h=d("createVideoStateHook").createVideoStateHook();var va=h.stateHook,wa=h.valueHook,$=null;function xa(){return va($)}function ya(){return wa($)}function za(){var a=w();a=a==="STARTING_INDICATOR"||a==="START"||a==="START_AD"||a==="PLAY_NI_VIDEO";return a}g.useInstreamAdsMidRollsState=a;g.useInstreamAdsMidRollsValue=b;g.useInstreamAdsPostRollState=c;g.useInstreamAdsPostRollValue=e;g.useInstreamAdsPostRollEndedOrSkippedStateSetter=f;g.useInstreamAdsPostRollEndedOrSkippedStateValue=r;g.useInstreamAdsState=v;g.useInstreamAdsStateValue=w;g.useInstreamAdsIsEmptyState=A;g.useInstreamAdsIsEmptyStateValue=B;g.useInstreamAdsCurrentInsertionState=F;g.useInstreamAdsCurrentInsertionStateValue=G;g.useStartIndicatorBeginningTimeState=K;g.useStartIndicatorBeginningTimeStateValue=L;g.useAdBreaksTimeOffsetBeginningState=P;g.useAdBreaksTimeOffsetBeginningStateValue=Q;g.useInstreamAdsExtraFieldsState=U;g.useInstreamAdsExtraFieldsStateValue=aa;g.useInstreamAdsHideAdBehaviorState=da;g.useInstreamAdsHideAdBehaviorStateValue=ea;g.useUnifiedSchedulerLastFetchTimeState=ha;g.useUnifiedSchedulerLastFetchTimeStateValue=ia;g.useWaitingForAdFetchState=la;g.useWaitingForAdFetchStateValue=ma;g.useInstreamAdsHasCTAState=pa;g.useInstreamAdsHasCTAStateValue=qa;g.useInstreamAdsFeedContextCardState=ta;g.useInstreamAdsFeedContextCardStateValue=ua;g.useInstreamAdsFullScreenContextCardState=xa;g.useInstreamAdsFullScreenContextCardStateValue=ya;g.useInstreamAdsIsStart=za},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("BulletinUFICommentInlineSubscribeCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BulletinUFICommentInlineSubscribeCTA_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"VoicesCreator",kind:"LinkedField",name:"bulletin_creator",plural:!1,selections:[{alias:null,args:null,concreteType:"VoicesPublication",kind:"LinkedField",name:"publication",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"publication_absolute_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4617159555055729"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometPostLiveTypingMutation_StartMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4851070981688956"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometPostLiveTypingMutation_StartMutation.graphql",["GroupsCometPostLiveTypingMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBGroupPostStartTypingResponsePayload",kind:"LinkedField",name:"xfb_group_post_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GroupsCometPostLiveTypingMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GroupsCometPostLiveTypingMutation_StartMutation",selections:c},params:{id:b("GroupsCometPostLiveTypingMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"GroupsCometPostLiveTypingMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometPostLiveTypingMutation_StopMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5197672750296347"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometPostLiveTypingMutation_StopMutation.graphql",["GroupsCometPostLiveTypingMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBGroupPostStopTypingResponsePayload",kind:"LinkedField",name:"xfb_group_post_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GroupsCometPostLiveTypingMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GroupsCometPostLiveTypingMutation_StopMutation",selections:c},params:{id:b("GroupsCometPostLiveTypingMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"GroupsCometPostLiveTypingMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIBanActorMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="7169217853151307"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIBanActorMutation.graphql",["CometUFIBanActorMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackPageBanResponsePayload",kind:"LinkedField",name:"feedback_page_ban",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIBanActorMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIBanActorMutation",selections:c},params:{id:b("CometUFIBanActorMutation_facebookRelayOperation"),metadata:{},name:"CometUFIBanActorMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIBanActorMutation_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIBanActorMutation_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5624180780967970"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},k=[j],l=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[d,h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},i],storageKey:null},j],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:e,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[d,g,h],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,m,d],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,d,m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,d],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[g,{kind:"InlineFragment",selections:e,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFIHideCommentMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="8681126521913156"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIHideCommentMutation.graphql",["CometUFIHideCommentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},e=[{kind:"Variable",name:"data",variableName:"input"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_viewer",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometUFIHideCommentMutation",selections:[{alias:null,args:e,concreteType:"CommentHideResponsePayload",kind:"LinkedField",name:"comment_hide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[f,g,h,i,{args:null,kind:"FragmentSpread",name:"CometUFICommentMenu_comment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"CometUFIHideCommentMutation",selections:[{alias:null,args:e,concreteType:"CommentHideResponsePayload",kind:"LinkedField",name:"comment_hide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[f,g,h,i,{alias:"items",args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:null,kind:"LinkedField",name:"comment_menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMarkAsFavorite_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMarkAsAuthorsFavorite",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveTag_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveTag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDeleteAndRemoveMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDeleteAndRemoveMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemSetMemberContentControls_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemSetMemberContentControls",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDivider_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDivider",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemEdit_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemEdit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemReportToAdmins_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToAdmins",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemReply_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReply",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemGiveFeedbackOrReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGiveFeedbackOrReport",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDetailedReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDetailedReport",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemHide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemHide",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemUnhide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemUnhide",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveWithFeedback_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveWithFeedback",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemPublishVidwallaOverlay_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPublishVidwallaOverlay",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemVidwallaSaveGraphic_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemVidwallaSaveGraphic",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStream",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPage",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForFifteenMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForFifteenMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForThirtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForThirtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForSixtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForSixtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPageWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanCommenterFromAllLiveVideoStreams_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromAllLiveStreamsWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGFIDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStreamWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemMuteCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemReportToModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToModerator",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemAddAsModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAddAsModerator",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemPinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemAdminPinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAdminPinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemAdminUnpinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAdminUnpinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBlockCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBlockCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBulletinBlockCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBulletinBlockCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlInviteGuest_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlInviteGuest",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlRemoveGuest_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlRemoveGuest",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlLeaveConversation_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlLeaveConversation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlSpotlightComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlSpotlightComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemResolveInlineAnnotation_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemResolveInlineAnnotation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDebugConflictAlert_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDebugConflictAlert",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDisableReplies_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDisableReplies",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemEnableReplies_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemEnableReplies",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCopyLink_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCopyLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemStoreInMemento_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemStoreInMemento",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"LiveVideoEngageQuestionMenuItemDelete_questionMenuItem",fragmentPropName:"questionMenuItem",kind:"ModuleImport"}],type:"LiveVideoEngageQuestionMenuItemDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemOpenDebugger_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemOpenDebugger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GeminiUFICommentMenuItemEditWPAMACommentType_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemWPEnhancedAMAEditBadge",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUFIHideCommentMutation_facebookRelayOperation"),metadata:{},name:"CometUFIHideCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5201048603279885"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="3411426542314724"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFITypingSubscription_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4459692847466092"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFITypingSubscription.graphql",["CometUFITypingSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2TypingIndicatorImpl_feedback"}],storageKey:null}],e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeedbackTypersConnection",kind:"LinkedField",name:"feedback_typers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFITypingSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:d,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFITypingSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFITypingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_typing_subscribe"},name:"CometUFITypingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIUnhideCommentMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5342540772531443"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIUnhideCommentMutation.graphql",["CometUFIUnhideCommentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},e=[{kind:"Variable",name:"data",variableName:"input"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_viewer",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometUFIUnhideCommentMutation",selections:[{alias:null,args:e,concreteType:"CommentUnhideResponsePayload",kind:"LinkedField",name:"comment_unhide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[f,g,h,i,{args:null,kind:"FragmentSpread",name:"CometUFICommentMenu_comment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"CometUFIUnhideCommentMutation",selections:[{alias:null,args:e,concreteType:"CommentUnhideResponsePayload",kind:"LinkedField",name:"comment_unhide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[f,g,h,i,{alias:"items",args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:null,kind:"LinkedField",name:"comment_menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMarkAsFavorite_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMarkAsAuthorsFavorite",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveTag_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveTag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDeleteAndRemoveMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDeleteAndRemoveMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemSetMemberContentControls_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemSetMemberContentControls",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDivider_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDivider",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemEdit_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemEdit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemReportToAdmins_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToAdmins",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemReply_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReply",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemGiveFeedbackOrReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGiveFeedbackOrReport",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDetailedReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDetailedReport",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemHide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemHide",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemUnhide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemUnhide",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveWithFeedback_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveWithFeedback",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemPublishVidwallaOverlay_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPublishVidwallaOverlay",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemVidwallaSaveGraphic_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemVidwallaSaveGraphic",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStream",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPage",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForFifteenMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForFifteenMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForThirtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForThirtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForSixtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForSixtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPageWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanCommenterFromAllLiveVideoStreams_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromAllLiveStreamsWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGFIDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStreamWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemMuteCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemReportToModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToModerator",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemAddAsModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAddAsModerator",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemPinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemAdminPinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAdminPinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemAdminUnpinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAdminUnpinComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBlockCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBlockCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBulletinBlockCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBulletinBlockCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlInviteGuest_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlInviteGuest",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlRemoveGuest_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlRemoveGuest",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlLeaveConversation_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlLeaveConversation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemFishbowlSpotlightComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemFishbowlSpotlightComment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemResolveInlineAnnotation_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemResolveInlineAnnotation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDebugConflictAlert_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDebugConflictAlert",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDisableReplies_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDisableReplies",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemEnableReplies_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemEnableReplies",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCopyLink_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCopyLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemStoreInMemento_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemStoreInMemento",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"LiveVideoEngageQuestionMenuItemDelete_questionMenuItem",fragmentPropName:"questionMenuItem",kind:"ModuleImport"}],type:"LiveVideoEngageQuestionMenuItemDelete",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemOpenDebugger_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemOpenDebugger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentMenu_comment",fragmentName:"GeminiUFICommentMenuItemEditWPAMACommentType_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemWPEnhancedAMAEditBadge",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUFIUnhideCommentMutation_facebookRelayOperation"),metadata:{},name:"CometUFIUnhideCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5942082659141409"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5253100908092894"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],c=[{kind:"Variable",name:"id",variableName:"stickerId"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h=[g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[g],storageKey:null},{alias:"sticker_image",args:f,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},d],storageKey:null}]},params:{id:b("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFIPinCommentMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5327442760651904"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIPinCommentMutation.graphql",["CometUFIPinCommentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PinnedCommentEventCreateResponsePayload",kind:"LinkedField",name:"pinned_comment_event_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIPinCommentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIPinCommentMutation",selections:c},params:{id:b("CometUFIPinCommentMutation_facebookRelayOperation"),metadata:{},name:"CometUFIPinCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIUnpinCommentMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5697660993582405"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIUnpinCommentMutation.graphql",["CometUFIUnpinCommentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"UnpinnedCommentEventCreateResponsePayload",kind:"LinkedField",name:"unpinned_comment_event_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIUnpinCommentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIUnpinCommentMutation",selections:c},params:{id:b("CometUFIUnpinCommentMutation_facebookRelayOperation"),metadata:{},name:"CometUFIUnpinCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFICreateCommentSubscription_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5495316733921881"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICreateCommentSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometUFICreateCommentSubscription_facebookRelayOperation"],(function(a,aa,ba,ca,b,da){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},ba={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},ca={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},b={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},da={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},ea={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},fa={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ga={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},ha={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ia={defaultValue:!1,kind:"LocalArgument",name:"includeNestedComments"},ja={defaultValue:null,kind:"LocalArgument",name:"input"},ka={defaultValue:null,kind:"LocalArgument",name:"scale"},la={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ma=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},e=[d],na={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{alias:null,args:null,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:e,storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},g={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},h=[c],oa={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:h,storageKey:null}],storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},qa={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},ra={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer","StoryAttachmentDataSnapshotStyleRenderer","StoryAttachmentCommunityAwardStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentCommunityAwardAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityAwardStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer","StoryAttachmentDataSnapshotStyleRenderer","StoryAttachmentCommunityAwardStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},j={kind:"Variable",name:"feed_location",variableName:"feedLocation"},k=[j],sa={alias:null,args:k,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},ta={alias:null,args:k,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n=[m],o={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},r={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},ua={kind:"TypeDiscriminator",abstractKey:"__isActor"},s={kind:"Variable",name:"scale",variableName:"scale"},t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},u=[t],va={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},s,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},wa=[{kind:"Literal",name:"height",value:24},s,{kind:"Literal",name:"width",value:24}],xa={alias:"profile_picture_depth_1",args:wa,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null};o={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,c,l,{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[m,o],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},o,p,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},q,r],type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Entity",abstractKey:"__isEntity"},ua,va,xa],storageKey:null};n={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null};var v={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ya={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null}],storageKey:null};v={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null},v],storageKey:null};var w={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},x=[w];r={kind:"InlineFragment",selections:[q,r],type:"User",abstractKey:null};var za={alias:null,args:x,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:h,storageKey:null},Aa={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback",fragmentName:"CometUFIReactionsMenuDynamicBeta_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},Ba={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback__cannot_use_group_custom_reactions_beta",fragmentName:"CometUFIReactionsMenuClassic_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},Fa={alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled_with_comments",storageKey:null},Ga={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},Ha={alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:h,storageKey:"supported_reaction_infos(use_default_actor:false)"},Ia={alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:e,storageKey:null},Ja={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},y=[c,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}];y={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:y,storageKey:null},c],storageKey:null};w={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},w],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var Ka={alias:null,args:x,kind:"ScalarField",name:"can_viewer_react",storageKey:null},La={alias:null,args:x,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},Na={alias:"can_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},Oa={alias:"cannot_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__cannot_use_group_custom_reactions",fragmentName:"CometUFIClassicCommentTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},Pa={alias:"sub_replies_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"is_hide_transparency_enabled_for_actor",storageKey:null},Ra=[i],Sa={alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},Ta={alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},Ua={alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:e,storageKey:'top_level_comments(orderby:"toplevel")'},Va={alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},Xa={alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:h,storageKey:null},c],storageKey:null},Ya={alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_admin_hide_eligible",storageKey:null},$a={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_quick_hide_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback",fragmentName:"CometUFIHideCommentLink_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},z={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},A={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},B={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},C={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},D={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},E={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},F={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},G={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},H={kind:"Literal",name:"is_initial_fetch",value:!0},bb=[z,A,B,C,D,E,F,G,H,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"}],cb={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},db={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:h,storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},fb={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},gb={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},J=[i,c],mb={alias:null,args:x,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:J,storageKey:null},nb={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:h,storageKey:null};z=[z,A,B,C,D,E,F,G,H,{kind:"Literal",name:"is_top_level",value:!1}];A={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};B={alias:null,args:null,concreteType:"QAUFIActionLinksCommentModuleRenderer",kind:"LinkedField",name:"qa_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__qa_action_links_comment_renderer",fragmentName:"GeminiUFIQAActionLinks_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null};C={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};D={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null};F={alias:null,args:null,kind:"ScalarField",name:"is_ama_question",storageKey:null};G={alias:null,args:null,kind:"ScalarField",name:"is_fishbowl_guest_comment",storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"viewer_fishbowl_role",storageKey:null};p={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[c,G,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[w,c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,l,{kind:"InlineFragment",selections:[p],type:"User",abstractKey:null},c],storageKey:null}],storageKey:null};e={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:e,storageKey:null};var ob={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},{alias:null,args:x,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:h,storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[l,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},c],storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[i,l,c],storageKey:null}],storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"ban_action",storageKey:null},K=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],L={args:null,fragment:aa("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},M={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};L={alias:null,args:K,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[L,M],type:"TextWithEntities",abstractKey:null},L],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var qb={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},rb={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},tb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[c,{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},ub={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_upvote_downvote",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_upvote_downvote",fragmentName:"CometUFIVoteCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},c],storageKey:null},vb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_award_ufi",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_see_award_ufi",fragmentName:"CometUFICommentAwardActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},c],storageKey:null},wb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_privacy_status",storageKey:null}],storageKey:null},xb={alias:null,args:null,kind:"ScalarField",name:"comment_privacy_value",storageKey:null},yb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_declined_by_group_admin_assistant",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_declined_by_group_admin_assistant",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},c],storageKey:null},zb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_learn_more_about_pending_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},c],storageKey:null};K={alias:"body_renderer",args:K,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Ab={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Eb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},Fb={alias:null,args:k,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},Gb={alias:null,args:null,kind:"ScalarField",name:"is_actor_viewable",storageKey:null},Hb={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},Ib={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},Jb={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},Kb={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Lb={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},Mb={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},Nb={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},Ob={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},Pb={alias:null,args:null,kind:"ScalarField",name:"can_subscribe_to_bulletin_creator",storageKey:null},Qb={alias:null,args:null,concreteType:"VoicesCreator",kind:"LinkedField",name:"bulletin_creator",plural:!1,selections:[{alias:null,args:null,concreteType:"VoicesPublication",kind:"LinkedField",name:"publication",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"publication_absolute_url",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"publication_name",storageKey:null}],storageKey:null},c],storageKey:null},Rb={alias:null,args:k,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null};j={alias:null,args:[j,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorUserSignalsRenderer","CometUFICommentActorAMAQuestionAnswerBadge","CometUFICommentInlineFollowCTARenderer","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge","GeminiUFICommentQAAnswerBadge","GeminiUFICommentQASocialAnswerBadge","GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge","CometUFICommentWorkplaceFileMarkerBadge","CometUFICommentWorkKnowledgeEditorBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorEnhancedAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkplaceFileMarkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkplaceFileMarkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null};var N={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},O={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},P={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},$={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null},Sb={alias:null,args:k,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null};k={alias:null,args:k,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};N={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$],storageKey:null};O={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},c],storageKey:null};P=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];Q={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"};R={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[i,c,{kind:"InlineFragment",selections:P,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:P,type:"User",abstractKey:null}],storageKey:null},l],type:"VideoOwner",abstractKey:"__isVideoOwner"},c],storageKey:null}],type:"Video",abstractKey:null},Q,{kind:"InlineFragment",selections:h,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:h,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:h,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[R,c],storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};U={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};V={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},c],storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null};X={args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"};Y={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[X,{alias:null,args:[s],concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null}],storageKey:null};Z={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:J,storageKey:null};$={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,l,{kind:"InlineFragment",selections:[q],type:"User",abstractKey:null},c],storageKey:null},c],storageKey:null};P={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:J,storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null};t={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null};J={alias:null,args:[{kind:"Literal",name:"supported",value:["AwardElevatedCommentData","StarsElevatedCommentData","SupporterElevatedCommentData","SimpleElevatedCommentData","ClipElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"AwardElevatedCommentContent_awardElevatedCommentData",fragmentPropName:"awardElevatedCommentData",kind:"ModuleImport"}],type:"AwardElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["AwardElevatedCommentData","StarsElevatedCommentData","SupporterElevatedCommentData","SimpleElevatedCommentData","ClipElevatedCommentData"])'};M={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[M,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[i,Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};var Tb={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null};h={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:h,storageKey:null};var Ub={alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},Vb={alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},Wb={alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},Xb={alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},Yb={alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null},Zb={kind:"ClientExtension",selections:[Ub,Vb,Wb,Xb,Yb,{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},$b={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},ac={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},bc=["feedback_source","focus_comment_id","comment_order"],cc={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},dc={alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_comment_api",storageKey:null};return{fragment:{argumentDefinitions:[a,ba,ca,b,da,ea,fa,ga,ha,ia,ja,ka,la],kind:"Fragment",metadata:null,name:"CometUFICreateCommentSubscription",selections:[{alias:null,args:ma,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create_subscribe",plural:!1,selections:[na,{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},c,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentInGroup_feedback"},{args:[{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentsCount_feedback"}],storageKey:null}],storageKey:null},g,oa,pa],storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ea,ba,ca,b,da,fa,ga,ha,ia,ja,ka,la,a],kind:"Operation",name:"CometUFICreateCommentSubscription",selections:[{alias:null,args:ma,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create_subscribe",plural:!1,selections:[na,{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[qa,ra,c,sa,ta,o,n,ya,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,v,{alias:null,args:x,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[i,c,ua,l,va,xa,r],storageKey:null},za,Aa,Ba,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[c,Ca,Da,Ea,Fa],storageKey:null},Ga,Ha,Ia,Ja,y,w,Ka,La,Ma,Na,Oa,Pa,Qa,{alias:"threading_config_type",args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:Ra,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback",fragmentName:"CometUFIFullThreadedTopLevelCommentContainer_config",fragmentPropName:"config",kind:"ModuleImport"}],type:"FullThreadingFeedbackConfig",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"]}],concreteType:null,kind:"LinkedField",name:"replies_list_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIDefaultRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"DefaultRepliesListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIFullThreadedRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FullThreadedRepliesListRenderer",abstractKey:null}],storageKey:'replies_list_renderer(supported:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"])'},Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,{alias:null,args:bb,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[cb,db,eb,fb,gb,hb,ib,jb,d,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,kb,o,n,I,lb,qa,ra,sa,ta,ya,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,v,mb,za,Aa,Ba,nb,Ga,Ha,Ia,Ja,y,w,Ka,La,Ma,Na,Oa,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[Sa,Ta,Ua,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:Ra,storageKey:null},{alias:null,args:x,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[ua,l,va,xa,r],storageKey:null},Va,Wa,Xa,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[Ca,Da,Ea,Fa],storageKey:null},Ya,Za,$a,ab,{alias:null,args:z,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[i,l,{alias:"profilePictureForReplyExpander",args:wa,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},r,c],storageKey:null},I,c],storageKey:null},cb,db,eb,fb,gb,hb,ib,jb,d,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,kb,o,n,I,lb,qa,ra,sa,ta,ya,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,v,mb,za,Aa,Ba,nb,Ga,Ha,Ia,Ja,y,w,Ka,La,Ma,Na,Oa,Pa,Qa],storageKey:null},A,B,C,D,E,F,G,H,p,e,ob,pb,L,qb,rb,m,sb,tb,ub,vb,wb,xb,yb,zb,K,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,j,Sb,k,N,O,S,T,U,V,W,Y,Z,$,P,s,t,q,J,M,Q,Tb,h,g,i,Zb],storageKey:null},f],storageKey:null},$b,ac],storageKey:null},{alias:null,args:z,filters:bc,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:cc},dc]}],storageKey:null},A,B,C,D,E,F,G,H,p,e,ob,pb,L,qb,rb,m,sb,tb,ub,vb,wb,xb,yb,zb,K,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,j,Sb,k,N,O,S,T,U,V,W,Y,Z,$,P,s,t,q,J,M,Q,h,g,i,Zb,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Pa,Qa],storageKey:null},Tb]}],storageKey:null},f],storageKey:null},$b,ac],storageKey:null},{alias:null,args:bb,filters:bc,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:cc},dc],storageKey:null},A,B,C,lb,D,E,I,F,G,H,p,e,ob,pb,L,qb,rb,m,sb,tb,ub,vb,wb,xb,yb,zb,kb,K,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,j,Sb,k,N,O,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[R,c,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,Ta,{alias:"i18n_comment_count",args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null}],storageKey:null}],storageKey:null},T,U,V,W,{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[X],storageKey:null},Z,$,P,s,t,q,J,Tb,M,Q,g,oa,pa,{kind:"ClientExtension",selections:[Ub,Vb,Wb,Xb,Yb]}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:aa("CometUFICreateCommentSubscription_facebookRelayOperation"),metadata:{subscriptionName:"comment_create_subscribe"},name:"CometUFICreateCommentSubscription",operationKind:"subscription",text:null}}}();b.exports=a}),null);
__d("BulletinBrandedWebsiteEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("255");c=b("FalcoLoggerInternal").create("bulletin_branded_website_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinScrollDepthUtil",[],function(a,b,c,d,e,f){"use strict";function a(a){var b,c=document,d=c.body;c=c.documentElement;b=Math.max((b=d==null?void 0:d.scrollHeight)!=null?b:0,(b=d==null?void 0:d.offsetHeight)!=null?b:0,(d=c==null?void 0:c.clientHeight)!=null?d:0,(b=c==null?void 0:c.scrollHeight)!=null?b:0,(d=c==null?void 0:c.offsetHeight)!=null?d:0);a=a+((d=c==null?void 0:c.clientHeight)!=null?d:0);return a/b}f.getScrollDepth=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinBrandedWebsiteLogger",["BulletinBrandedWebsiteEventFalcoEvent","BulletinScrollDepthUtil","gkx","mergeDeep"],function(a,b,c,d,e,f,g){"use strict";var h=["article","podcast_episode","comments_list","comment","block_text","embed_twitter_webview","embed_youtube_webview","misinfo_label","audio_embed","list_element","section_divider","embed_facebook_webview","video","image","poll"];a=function(){function a(a,b){this.loggingContext=a,this.loggerParams=b}var b=a.prototype;b.logModuleClick=function(a){this.logEvent("module_click",a)};b.logContentClick=function(a){this.logEvent("content_click",babelHelpers["extends"]({clickType:"outbound"},a))};b.logPageOpen=function(a){this.logEvent("page_open",a)};b.logPageClose=function(a){this.logEvent("page_close",a)};b.logError=function(a,b){this.logEvent("error",babelHelpers["extends"]({},b,{eventAttributes:{error:a}}))};b.logVPV=function(a){var b=a==null?void 0:a.contentType;this.logEvent(this.$1(b)?"content_vpv":"module_vpv",a)};b.logImpression=function(a){var b=a==null?void 0:a.contentType;this.logEvent(this.$1(b)?"content_impression":"module_impression",a)};b.logEvent=function(a,b){var d=this.loggerParams,e=this.loggingContext,f=this.$2(babelHelpers["extends"]({event:a},c("mergeDeep")(c("mergeDeep")(e,d),b)));if(c("gkx")("5384"))var g;c("BulletinBrandedWebsiteEventFalcoEvent").log(function(){return f})};b.$2=function(a){var b=a.clickType,c=a.contentId,e=a.contentType,f=a.event,g=a.eventAttributes;g=g===void 0?{}:g;var h=a.extraData,i=a.moduleAttributes,j=a.moduleType,k=a.pageAttributes,l=a.pageEntryMechanism,m=a.pageReferrer,n=a.pageSubtype,o=a.pageType,p=a.publicationContentSlug,q=a.sessionEntryPoint,r=a.sessionAttributes;a=a.sessionReferrer;return{bulletin_extra_data:h,bulletin_page_attributes:k,bulletin_page_entry_mechanism:l,bulletin_page_referrer:m,bulletin_page_type:o,click_type:b,content_id:c!==""?c:null,content_type:e,event:f,event_attributes:babelHelpers["extends"]({},g,{scrollDepth:String(d("BulletinScrollDepthUtil").getScrollDepth(window.scrollY))}),module_attributes:i,module_type:j,page_subtype:n,publication_content_slug:p!==""?p:null,session_attributes:r,session_entry_point:q,session_referrer:a}};b.$1=function(a){return a==null?!1:h.includes(a)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinBrandedWebsiteLoggingContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({pageType:"unknown"});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinLoggingUtils",["ConstUriUtils","Random","WebSession"],function(a,b,c,d,e,f,g){"use strict";function a(a){a=a!=null?a*1e3:3e5;a=Date.now()+a;d("WebSession").extend(a)}function b(){return Math.floor(d("Random").random()*1e16).toString()}function c(){var a;return(a=d("ConstUriUtils").getUri((a=document.referrer)!=null?a:""))==null?void 0:a.domain}function e(){var a;return(a=d("ConstUriUtils").getUri(document.location.href))==null?void 0:a.domain}function f(){var a=d("WebSession").getSessionId();return a===""?null:a}function h(a,b){return a==null?null:(a=d("ConstUriUtils").getUri(a))==null?void 0:(a=a.addQueryParam("source",b))==null?void 0:a.toString()}g.extendSession=a;g.getComposerSessionId=b;g.getReferrer=c;g.getCurrentDomain=e;g.getSessionId=f;g.addSourceQueryParam=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBulletinBrandedWebsiteLoggingContext",["BulletinBrandedWebsiteLoggingContext","react","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("BulletinBrandedWebsiteLoggingContext"));if(a==null){c("recoverableViolation")("Attempted to read BulletinBrandedWebsiteLoggingContext, but got null","voices");return{pageType:"unknown"}}return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinCoreActionsLoggerPageEntryMechanismType",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({CHAIN_ARTICLE_CLICK:"chain_article_click",COMPOSER_MANAGE_ARTICLES_CLICK:"composer_manage_articles_click",CONTENT_CLICK:"content_click",CONTENT_COMMENTS_CLICK:"content_comments_click",CREATOR_CLICK:"creator_click",FEATURED_ARTICLE_CLICK:"featured_article_click",FEATURED_CREATOR_CLICK:"featured_creator_click",FEATURED_PUBLICATION_CLICK:"featured_publication_click",HEADER_LOGO_CLICK:"header_logo_click",HERO_CLICK:"hero_click",OPTIONS_MENU_CLICK:"options_menu_click",UNKNOWN:"",USER_MENU_CLICK:"user_menu_click"});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinCoreActionsLoggerSessionEntryPointType",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({EMAIL:"email",EMAIL_JOIN_DISCUSSION_BUTTON:"email_join_discussion_button",EMAIL_REACTION_COMMENT_BUTTON:"email_reaction_comment_button",EMAIL_REACTION_LIKE_BUTTON:"email_reaction_like_button",EMAIL_REACTION_SHARE_BUTTON:"email_reaction_share_button",AYI_ON_FACEBOOK:"ayi_on_facebook",COMMENT_EMAIL_NOTIF:"comment_email_notif",COMMENT_REACT_EMAIL_NOTIF:"comment_react_email_notif",CONTENT_JEWEL:"content_jewel",COPY_CTA:"copy_cta",FB_ADM:"fb_adm",FB_EMBED:"fb_embed",FB_POST_PROMO:"fb_post_promo",FEED_BUMPER:"feed_bumper",HOME:"home",IG_NOTIF:"ig_notif",IN_APP_SUB_PUB_DESCRIPTION:"in_app_sub_pub_description",IN_APP_SUB_VIEW_PUB:"in_app_sub_view_pub",INTERNAL_SUBSCRIPTION_MANAGER:"internal_subscription_manager",LOGIN_CONFIRMATION:"login_confirmation",NEWS_TAB:"news_tab",NEWS_TAB_BULLETIN_UNIT:"news_tab_bulletin_unit",NEWS_TAB_SUBSCRIPTION:"news_tab_subscription",NEWS_TAB_UNDEFINED_UNIT:"news_tab_undefined_unit",NEWS_TAB_UNIFIED_FEED_BACKBONE:"news_tab_unified_feed_backbone_unit",PUBLICATION_JEWEL:"publication_jewel",PWA:"pwa",QP:"qp",QP_JEWEL_NOTIF:"qp_jewel_notif",SHARE:"share",SHARE_CTA:"share_cta",STORY:"story",TYPEAHEAD_SEARCH:"typeahead_search",UNIT_TEST:"unit_test",UNKNOWN:""});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinLocalStorageKeys",[],function(a,b,c,d,e,f){"use strict";a="bulletin_article_reader_onload_dialog_seen";b="bulletin_session_attributes";c="has_seen_email_login_toast";f.ARTICLE_READER_ON_LOAD_POPUP_LOCAL_STORE_KEY=a;f.SESSION_ATTRIBUTES_LOCAL_STORAGE_KEY=b;f.HAS_SEEN_EMAIL_LOGIN_TOAST=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinPodcastEpisodeContext",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=e({podcastEpisodeID:null});function a(a){var b=a.children,c=a.podcastEpisodeID;a=j(function(){return{podcastEpisodeID:c}},[c]);return h.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.BulletinPodcastEpisodeContextProvider=a;g.useBulletinPodcastEpisodeContext=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinSignupArticleContext",["emptyFunction","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useMemo,k=e.useState,l=d({articleID:null,isBottomSubscribeUIVisible:null,setIsBottomSubscribeUIVisible:c("emptyFunction")});function a(a){var b=a.articleID;a=a.children;var c=k(null),d=c[0],e=c[1];c=j(function(){return{articleID:b,isBottomSubscribeUIVisible:d,setIsBottomSubscribeUIVisible:e}},[b,d]);return h.jsx(l.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.BulletinSignupArticleContextProvider=a;g.useBulletinSignupArticleContext=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBulletinLoggerParams",["BulletinCoreActionsLoggerPageEntryMechanismType","BulletinCoreActionsLoggerSessionEntryPointType","BulletinLocalStorageKeys","BulletinLoggingUtils","BulletinPodcastEpisodeContext","BulletinSignupArticleContext","CometRouteParams","react","useCurrentRoute","useLocalStorage","useRoutePassthroughProps","useRouteReferrer"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/,j="==UUID_SANITIZED==";function a(){var a=c("useCurrentRoute")(),b=c("useRouteReferrer")(),e=d("CometRouteParams").useRouteParams(),f=d("BulletinLoggingUtils").getSessionId(),g=c("useLocalStorage")(d("BulletinLocalStorageKeys").SESSION_ATTRIBUTES_LOCAL_STORAGE_KEY,{expid:"",ndid:"",sessionEntryPoint:"",sessionReferrer:"",sourceid:"",sourceViewCount:""}),i=g[0],j=g[1];g=k(e,f===i.sessionId?i:null);var l=g.expid,m=g.ndid,n=g.sessionEntryPoint,o=g.sessionReferrer,p=g.sourceid,q=g.sourceViewCount;h(function(){j({expid:l,ndid:m,sessionEntryPoint:n,sessionId:f,sessionReferrer:o,sourceid:p,sourceViewCount:q})},[j,l,p,f,q,m,n,o]);g=c("BulletinCoreActionsLoggerPageEntryMechanismType").cast(String((i=c("useRoutePassthroughProps")())==null?void 0:i.pageEntryMechanism));i="subscription_referrer"in e?e.subscription_referrer:o;var r=d("BulletinSignupArticleContext").useBulletinSignupArticleContext();r=r.articleID;var s=d("BulletinPodcastEpisodeContext").useBulletinPodcastEpisodeContext();s=s.podcastEpisodeID;r="referral_content_id"in e?e.referral_content_id:(r=r)!=null?r:s;return{pageAttributes:{current_page_trace:(s=a==null?void 0:a.tracePolicy)!=null?s:"",page_url:(s=a==null?void 0:a.url)!=null?s:""},pageEntryMechanism:g,pageReferrer:b==null?void 0:b.tracePolicy,publicationContentSlug:String((a=e.slug)!=null?a:""),sessionAttributes:{expid:l,ndid:m,referral_content_id:String((s=r)!=null?s:""),source_view_count:q,sourceid:p,subscription_referrer:String((g=i)!=null?g:"")},sessionEntryPoint:c("BulletinCoreActionsLoggerSessionEntryPointType").cast(n),sessionReferrer:o}}function k(a,b){var c,e,f,g,h;c=(c=a.expid)!=null?c:b==null?void 0:b.expid;e=(e=a.source)!=null?e:b==null?void 0:b.sessionEntryPoint;f=(f=d("BulletinLoggingUtils").getReferrer())!=null?f:b==null?void 0:b.sessionReferrer;g=(g=a.source_view_count)!=null?g:b==null?void 0:b.sourceViewCount;h=(h=m(a))!=null?h:b==null?void 0:b.ndid;a=(a=a.sourceid)!=null?a:b==null?void 0:b.sourceid;return{expid:l(String((b=c)!=null?b:"")),ndid:String((c=h)!=null?c:""),sessionEntryPoint:String((b=e)!=null?b:""),sessionReferrer:String((h=f)!=null?h:""),sourceid:l(String((c=a)!=null?c:"")),sourceViewCount:String((e=g)!=null?e:"")}}function l(a){return a.match(i)?a.replace(i,j):a}function m(a){a=a.source_attributes;return a==null||typeof a!=="object"||a.ndid==null?null:String(a.ndid)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBulletinBrandedWebsiteLogger",["BulletinBrandedWebsiteLogger","react","useBulletinBrandedWebsiteLoggingContext","useBulletinLoggerParams"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=c("useBulletinLoggerParams")(),d=c("useBulletinBrandedWebsiteLoggingContext")();return h(function(){return new(c("BulletinBrandedWebsiteLogger"))(d,babelHelpers["extends"]({},b,a))},[d,b,a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBulletinBrandedWebsiteVPVDLogger",["react","useBulletinBrandedWebsiteLogger","useVPVDImpression"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=c("useBulletinBrandedWebsiteLogger")(),d=h(function(c){c=c.visibleDuration;c=babelHelpers["extends"]({eventAttributes:{duration:c.toString()}},a);b.logVPV(c)},[a,b]),e=h(function(){b.logImpression(a)},[a,b]);return[c("useVPVDImpression")({onVPVDEnd:d}),c("useVPVDImpression")({onVPVDEnd:function(){},onVPVDStart:e})]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBulletinLogger",["useBulletinBrandedWebsiteLogger","useBulletinBrandedWebsiteVPVDLogger"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useBulletinBrandedWebsiteVPVDLogger")(a),d=b[0];d=d[0];b=b[1];b=b[0];return[c("useBulletinBrandedWebsiteLogger")(a),d,b]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XBulletinSignupDialogControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/subscribe/",Object.freeze({disable_on_page_load_sub_dialog:!1}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BulletinUFICommentInlineSubscribeCTA.react",["fbt","BulletinUFICommentInlineSubscribeCTA_comment.graphql","CometMiddot.react","CometPressable.react","CometRelay","TetraText.react","XBulletinSignupDialogControllerRouteBuilder","react","useBulletinLogger"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){a=a.comment$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("BulletinUFICommentInlineSubscribeCTA_comment.graphql"),a);var e=c("useBulletinLogger")({extraData:{comment_ids:JSON.stringify([a==null?void 0:a.id])},moduleType:"creator_comment"}),f=e[0];e=a==null?void 0:(e=a.bulletin_creator)==null?void 0:(e=e.publication)==null?void 0:e.publication_absolute_url;if(e==null||(a==null?void 0:a.is_author_original_poster))return null;a=e.replace(/\/$/,"")+c("XBulletinSignupDialogControllerRouteBuilder").buildURL({});return j.jsxs("span",{children:[j.jsx(c("CometMiddot.react"),{className:"rtxb060y"}),j.jsx(c("CometPressable.react"),{linkProps:{url:a},onPress:function(){f.logModuleClick({clickType:"subscribe"})},children:j.jsx(c("TetraText.react"),{color:"highlight",type:"bodyLink4",children:h._("__JHASH__vLzR2Hz4BEG__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","ix","CometEntryPointDialogTrigger.react","ManageConstituentBadgeDialog.entrypoint","TetraIcon.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress;return j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:{},preloadParams:{commentID:a.commentID,feedbackID:a.feedbackID},children:function(a){return j.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__WuBNNAgdH6G__JHASH__"),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:function(){a(),b()}})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometPostLiveTypingMutation",["CometRelay","GroupsCometPostLiveTypingMutation_StartMutation.graphql","GroupsCometPostLiveTypingMutation_StopMutation.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("GroupsCometPostLiveTypingMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("GroupsCometPostLiveTypingMutation_StopMutation.graphql");function l(a,b,c,e){var f;if(a){a={input:{group_id:c.groupID}};f=d("CometRelay").commitMutation(b,{mutation:j,onCompleted:e,variables:a})}else{a={input:{group_id:c.groupID}};f=d("CometRelay").commitMutation(b,{mutation:k,onCompleted:e,variables:a})}return{dispose:function(){f&&f.dispose(),f=null}}}a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[!0].concat(b))};c=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[!1].concat(b))};g.start=a;g.stop=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=!1;a=d("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),e=!0);return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIBanActorMutation",["CometRelay","CometUFIBanActorMutation.graphql","CometUFIBanActorMutation_comment.graphql","forEachUFI2DisplayCommentsConnection"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFIBanActorMutation.graphql");i!==void 0?i:i=b("CometUFIBanActorMutation_comment.graphql");a=function(a,b){var e=b.feedbackId,f=b.pageId,g=b.targetUserId,h=b.undoBan;b=function(a){if(e==null)return;var b=a.get(e);if(!b)return;c("forEachUFI2DisplayCommentsConnection")(a,b,function(a){a=a.getLinkedRecords("edges");if(!a)return;a.forEach(function(a){if(!a)return;a=a.getLinkedRecord("node");if(!a)return;var b=a.getLinkedRecord("author");if(!b)return;if(b.getValue("id")===g){b=a.getValue("is_hidden_by_content_owner");a.setValue(h&&b!==!0?"none":"spam","spam_display_mode");a.setValue(!h,"is_author_banned_by_content_owner")}})})};return d("CometRelay").commitMutation(a,{mutation:j,optimisticResponse:{feedback_page_ban:{__typename:"FeedbackPageBanResponsePayload"}},optimisticUpdater:b,updater:b,variables:{input:{ban_action:h?"UNDO_BAN":"BAN",page_id:f,target_user_id:g}}})};g.commit=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICommentActorConstituentBadge.react",["fbt","ix","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometTooltip.react","CometUFICommentActorConstituentBadge_comment.graphql","ManageConstituentBadgeDialogTrigger.react","TetraIcon.react","fbicon","react","recoverableViolation","useVisibilityObserver"],function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=d("react").useRef;function a(a){var e;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentActorConstituentBadge_comment.graphql"),a.comment);var g=a.legacy_token,m=a.parent_feedback,n=l(!1),o=c("useVisibilityObserver")({onVisible:function(){if(n.current)return;n.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){return{action:"view",extra_data:{comment_id:g},post_id:s,product:"constituent_badge",subtype:"comment"}})}}),p=d("Actor").useActor();p=p[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null)return c("recoverableViolation")("missing politician","civic_integrity");var q=a.author.short_name,r=m==null?void 0:(e=m.owning_profile)==null?void 0:e.name,s=m==null?void 0:m.share_fbid,t=p===a.author.id,u=m==null?void 0:(e=m.political_figure_data)==null?void 0:(e=e.political_office)==null?void 0:e.generic_title,v=m==null?void 0:(e=m.political_figure_data)==null?void 0:e.name;e=a.can_see_constituent_badge_upsell;function w(){var a=!0;if(q==null)return null;(u==null||v==null)&&(a=!1);if(t)if(a)return h._("__JHASH__ZNqnDhYYFpj__JHASH__",[h._param("representative_name",v),h._param("office_title",u)]);else return h._("__JHASH__uiMMQSqmolX__JHASH__",[h._param("page_name",r)]);if(a)return h._("__JHASH__khTmteQjAVE__JHASH__",[h._param("representative_name",v),h._param("comment_author_name",q),h._param("politician_office_title",u)]);else return h._("__JHASH__iHMGEL24DTI__JHASH__",[h._param("page_name",r),h._param("comment_author_name",q)])}function x(){return h._("__JHASH__vXzsLlLAUQJ__JHASH__",[h._param("comment_author_name",q),h._param("representative_name",v)])}x.displayName=x.name+" [from "+f.id+"]";function y(a){return k.jsx(c("TetraIcon.react"),{alt:x(),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:a})}y.displayName=y.name+" [from "+f.id+"]";e=e===!0?k.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:m==null?void 0:m.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){return{action:"click",click_location:"constituent_badge",extra_data:{comment_id:g},post_id:s,product:"constituent_badge",subtype:"comment"}})}}):y();return k.jsx(d("Actor").ActorProvider,{initialActorID:p,children:k.jsx("span",{className:"pqu3zzp7 om3e55n1 iec8yc8l",ref:o,children:k.jsx(c("CometTooltip.react"),{tooltip:w(),children:k.jsx("span",{className:"nnzkd6d7 bmgto6uh i5oewl5a f9xcifuu",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=babelHelpers["extends"]({},a);return h.jsxs("span",{className:"ibmpe6vl fxk3tzhb i85zmo3j",children:[h.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICommentErrorFooterEditButton.react",["errorCode","fbt","CometLink.react","CometUFICommentActionLinksListItem.react","clearTimeout","react","setTimeout","useCometCallout"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState;function n(a){return a===1446011||a===1462002}function a(a){var b=a.onEdit;a=a.optimisticErrorCode;a=m(n(a));var d=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a={arrowStyle:"inset",disableOutsideClick:!0,label:i._("__JHASH__2HLDP_tkVMz__JHASH__"),onShow:function(){g(!0)},position:"above",type:"accent"};a=c("useCometCallout")(a,d);l(function(){if(f){var a=c("setTimeout")(function(){e(!1)},6e3);return function(){return c("clearTimeout")(a)}}},[e,f]);d=k(function(a){e(!1),b&&b(a)},[b]);var h=k(function(){e(!1)},[e]);return j.jsx(c("CometUFICommentActionLinksListItem.react"),{children:j.jsx(c("CometLink.react"),{color:"highlight",onClick:d,onHoverEnd:h,ref:a,children:i._("__JHASH__10obC3Jnpvd__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("displayAwardsCountUpdater",["FBLogger"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.commentParentId,d=a.feedbackId,e=a.modifier,f=a.store;a=a.topLevelFeedbackId;if(b!=null&&b!=="")return;var g=d;a!=null&&a!==""&&(g=a);function h(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(d||"UNKNOWN")+", awards_count_modifier;"+e).warn(a)}b=f.get(g);if(b==null){h("could not find feedback record");return}a=b.getLinkedRecord("community_awards_post_level");if(a==null)h("could not find community award post on story record");else{f=a.getValue("award_total_count");typeof f==="number"&&a.setValue(f+e,"award_total_count")}}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};a=h;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getBodyRendererFromCommentMessage",["JSResource","RelayRuntime","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=c("JSResource")("CometUFICommentBodyTextWithEntities.react").__setRef("getBodyRendererFromCommentMessage"),i=c("JSResource")("CometUFICommentBodyTextWithEntities_textWithEntities$normalization.graphql").__setRef("getBodyRendererFromCommentMessage");function a(a,b){if(a==null)return a;a=j(a,b);return c("RelayRuntime").createPayloadFor3DField("CometUFICommentTextBodyRenderer_comment",i,h,babelHelpers["extends"]({__typename:"TextWithEntities"},a))}function j(a,b){var d=a.ranges==null?[]:a.ranges.filter(Boolean);return{aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:d.map(function(a){var d=b[a.entity.id];if(d==null)return null;var e,f;if(d.__UFI__===!0)e=d.type,f=d.uri;else{c("recoverableViolation")("CometUFIComposerEntity expected, got DraftEntityInstance instead.","ufi2");var g=d.getData();e=g.type;f=d.uri}return e==null?null:{entity:{__isActor:!1,__isEntity:!0,__isNode:!0,__isWebLinkable:!0,__typename:e,id:a.entity.id,mobileUrl:f,profile_url:f,url:f,web_link:null},entity_is_weak_reference:!1,length:a.length,offset:a.offset}}).filter(Boolean),text:a.text}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getCometUFICommentRenderableBodyFromCommentMessage",["recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return a;var d=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:d.map(function(a){var d=b[a.entity.id];if(d){var e,f;if(d.__UFI__===!0)e=d.type,f=d.uri,d=d.isWeak;else{throw c("recoverableViolation")("CometUFIComposerEntity expected, got DraftEntityInstance instead.","ufi2");var g;d.getData();e=g.type;f=d.uri;isWeak=d.isWeak}return{entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),mobileUrl:f,profile_url:f,url:f,web_link:null}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:"ORIGINAL"}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("cometUFIOptimisticCommentResponse",["getBodyRendererFromCommentMessage","getCometUFICommentRenderableBodyFromCommentMessage"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.createdTime,d=a.entitiesByID,e=a.id,f=a.optimisticAction,g=a.shouldDisableReactionsOnOptimisticComment,h=a.textWithEntities;a=a.timestampInVideo;return{attached_story:null,attachments:[],author:null,author_badge_renderers:[],author_user_signals_renderer:null,ban_action:null,bizweb_comment_info:null,body:{ranges:[],text:h==null?void 0:h.text},body_renderer:c("getBodyRendererFromCommentMessage")(h,d),bulletin_creator:null,business_comment_attributes:[],can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_subscribe_to_bulletin_creator:!1,can_viewer_disable_preview:null,can_viewer_see_subsribe_button:null,client_id:null,comment_menu_tooltip:null,comment_parent:null,comment_privacy_value:null,comment_upper_badge_renderer:null,community_comment_signal_renderer:null,created_time:b,discoverable_identity_badges_web:[],edit_history:null,elevated_comment_data:null,feedback:{associated_video:null,can_see_top_custom_reactions_on_comment:null,can_viewer_comment:null,can_viewer_react:g!==!0,cannot_see_top_custom_reactions_on_comment:null,comment_composer_placeholder:null,id:null,if_viewer_can_render_group_custom_reactions:null,if_viewer_can_use_group_custom_reactions_beta:null,if_viewer_cannot_use_group_custom_reactions_beta:null,page_private_reply:null,reactors:null,should_show_top_reactions:null,supported_reaction_infos:[],top_reactions:null,unified_reactors:null,viewer_actor:null,viewer_feedback_reaction_info:null},group_comment_info:null,has_constituent_badge:null,id:e,identity_badges_web:[],if_declined_by_group_admin_assistant:null,if_viewer_can_learn_more_about_pending_comment:null,if_viewer_can_see_award_ufi:null,if_viewer_can_see_member_page_tooltip:null,if_viewer_can_share:null,if_viewer_can_upvote_downvote:null,inline_survey_config:null,is_actor_viewable:null,is_ama_question:null,is_author_banned_by_content_owner:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_declined_by_group_admin_assistant:null,is_disabled:!1,is_fishbowl_guest_comment:!1,is_gaming_video_comment:null,is_hidden_by_content_owner:null,is_live_video_comment:null,is_markdown_enabled:null,is_viewer_comment_poster:null,legacy_fbid:null,legacy_token:null,optimistic_action:f,optimistic_error:null,optimistic_error_code:null,page_admin_actor_info:null,parent_feedback:null,preferred_body:c("getCometUFICommentRenderableBodyFromCommentMessage")(h,d),private_reply_context:null,qa_action_links_comment_renderer:null,question_and_answer_type:null,should_show_comment_menu:!1,spam_display_mode:"none",timestamp_in_video:a,translatability_for_viewer:null,translation_available_for_viewer:null,url:null,viewer_fishbowl_role:null,work_ama_answer_status:null,work_answered_event_comment_renderer:null,work_knowledge_inline_annotation_comment_badge_renderer:null,written_while_video_was_live:null}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=b;f!=null&&f!==""&&(g=f);var h=d;a!=null&&a!==0&&(h=a);function j(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(b||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}a=e.get(b);if(a==null){j("could not find feedback record");return}c("forEachUFI2DisplayCommentsConnection")(e,a,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});var k=a.getValue("comment_count");typeof k==="number"&&a.setValue(k+d,"comment_count");k=e.get(g);if(k==null){j("could not find top level feedback record");return}e=k.getLinkedRecord("top_level_comments");if(e==null){j("could not find top level comments");return}j=e.getValue("total_count");j=Math.max(0,Number(j)+h);e.setValue(j,"total_count");var l=k.getValue("comment_count_reduced");Number(l).toString()===l&&k.setValue(j.toString(),"comment_count_reduced");e.setValue(j===0,"is_empty");l=k.getValue("comment_count");typeof l==="number"&&a.getDataID()!==k.getDataID()&&k.setValue(l+h,"comment_count");f==null&&i(e,h)}function i(a,b){var c=a.getValue("count");if(c==null)return;c=Math.max(0,Number(c)+b);a.setValue(c,"count");b=a.getValue("display_count");Number(b).toString()===b&&a.setValue(c.toString(),"display_count")}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};a=h;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","CometUFICommentActionLinksListItem.react","CometUFICommentErrorFooterEditButton.react","CometUFICommentErrorFooter_comment.graphql","CometUFICreateCommentMutation","FBLogger","ifRequired","react","recoverableViolation"],function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");function l(a){return a===1446013||a===1446011||a===1462002?!1:!0}function a(a){var e=a.comment;a=a.onEdit;e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentErrorFooter_comment.graphql"),e);var f=e.id;if(f==null){c("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}var g=i._("__JHASH__10b0S1Izmoe__JHASH__"),h=null;switch(e.optimistic_action){case"ADD":h=d("CometUFICreateCommentMutation").getRetryFn(f);break;case"EDIT":g=i._("__JHASH__U3YP-2WFk_-__JHASH__");c("ifRequired")("CometUFIEditCommentMutation",function(a){h=a.getRetryFn(f)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;case"DELETE":g=i._("__JHASH___6naWuekn6M__JHASH__");break;default:g=i._("__JHASH__Q_5tGN8-YJC__JHASH__"),c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",e.optimistic_action)}h||c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").warn("No mutation retry handler for action `%s`.",e.optimistic_action);var m=h!=null,n=e.optimistic_action==="ADD"&&m;return k.jsxs("div",{className:"jl2a5g8c alzwoclg rtxb060y","data-testid":void 0,children:[k.jsx(c("CometUFICommentActionLinksListItem.react"),{children:m&&l(e.optimistic_error_code)?i._("__JHASH__E9tKMLQpu2i__JHASH__",[i._param("errorMessage",g),i._param("retryLink",k.jsx(c("CometLink.react"),{color:"highlight",onClick:function(){h==null?void 0:h()},children:i._("__JHASH__dxM0X-fliVM__JHASH__")}))]):g}),n&&k.jsx(c("CometUFICommentErrorFooterEditButton.react"),{onEdit:a,optimisticErrorCode:e.optimistic_error_code})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICommentInlineFollowCTA.react",["fbt","CometFeedUnitQueryVariablesContext","CometMiddot.react","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","TetraText.react","react","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useState,n=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),o="following_clicked",p="unfollowing_clicked",q="follow_cta_impression";function a(a){var e;a=a.comment$key;var f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),a),g=(f==null?void 0:(a=f.author)==null?void 0:a.subscribe_status)==="IS_SUBSCRIBED",r=c("useNullthrowsViolation")(f==null?void 0:(a=f.author)==null?void 0:a.id),s=d("CometRelay").useRelayEnvironment();a=m(!1);var t=a[0],u=a[1],v=(a=(a=l(c("CometFeedUnitQueryVariablesContext")))==null?void 0:a.feedLocation)!=null?a:"",w=k(function(a){n.onReady(function(b){b.log(function(){var b;return{comment_author_id:r,comment_id:(b=f.id)!=null?b:"",comment_surface:v,event:a}})})},[r,f.id,v]),x=c("useMinifiedProductAttribution")();a=k(function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:x,onError:function(){u(!1)},onSuccess:function(){u(!1)},subscribeLocation:v==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:r};u(!0);g?(d("CometUserUnfollowMutation").commit(s,a),w(p)):(d("CometUserFollowMutation").commit(s,a),w(o))},[r,s,v,g,w,x]);var y=k(function(){w(q)},[w]);y=c("useVisibilityObserver")({onVisible:y});if((f==null?void 0:(e=f.author)==null?void 0:e.subscribe_status)!=="CAN_SUBSCRIBE"&&(f==null?void 0:(e=f.author)==null?void 0:e.subscribe_status)!=="IS_SUBSCRIBED")return null;e=g?j.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink4",children:h._("__JHASH__gfzhCSGFVAQ__JHASH__")}):j.jsx(c("TetraText.react"),{color:"highlight",type:"bodyLink4",children:h._("__JHASH__bvajtjV6cwQ__JHASH__")});return j.jsxs("span",{ref:y,children:[j.jsx(c("CometMiddot.react"),{className:"rtxb060y"}),j.jsx(c("CometPressable.react"),{disabled:t,onPress:a,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_feedback.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_liker.graphql");j!==void 0?j:j=b("CometUFIFeedbackReactSubscription_viewer.graphql");var l=k!==void 0?k:k=b("CometUFIFeedbackReactSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b!=null){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:b,useDefaultActor:c}})}g.subscribe=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIHideCommentMutation",["CometRelay","CometUFIHideCommentMutation.graphql","FBLogger"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFIHideCommentMutation.graphql");function a(a,b){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:b.onCompleted,onError:b.onError,optimisticUpdater:function(a){a=a.get(b.commentId);if(a==null){c("FBLogger")("ufi2").mustfix("When trying to hide a comment, the comment could not be found.");return}a.setValue(!1,"is_hidden_by_content_owner");a.setValue(!0,"is_hidden_by_viewer");a.setValue("spam","spam_display_mode");var d={feed_location:b.feedLocation},e=a.getLinkedRecords("comment_menu_items",d);e&&(e.some(function(a){return(a==null?void 0:a.getValue("__typename"))==="CommentMenuItemHide"})&&a.setLinkedRecords(e.filter(function(a){return(a==null?void 0:a.getValue("__typename"))!=="CommentMenuItemHide"}),"comment_menu_items",d))},variables:{feedLocation:b.feedLocation,input:{comment_id:b.commentId,feedback_source:b.feedbackSource,hide_location:b.hideLocation,site:"comet"},useDefaultActor:!1}})}g.commit=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,b,c,e){c={input:{feedback_id:c.feedbackID,session_id:d("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:c};a?f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:j},e)):f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:k},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);e=a.bind(null,!1);g.start=c;g.stop=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("destroyOnUnload",["Run"],function(a,b,c,d,e,f,g){function a(a){return d("Run").onLeave(a)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("708253")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation","GroupsCometPostLiveTypingMutation"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this)||this;f.$CometUFILiveTypingBroadcastPublisher1=b;f.$CometUFILiveTypingBroadcastPublisher2=c;f.$CometUFILiveTypingBroadcastPublisher3=e;f.$CometUFILiveTypingBroadcastPublisher4=null;f.$CometUFILiveTypingBroadcastPublisher5=null;f.$CometUFILiveTypingBroadcastPublisher6=d;return f}var c=b.prototype;c.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher4&&this.$CometUFILiveTypingBroadcastPublisher4.dispose(),this.$CometUFILiveTypingBroadcastPublisher5&&this.$CometUFILiveTypingBroadcastPublisher5.dispose()};c.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};c.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};c.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher4)return;this.$CometUFILiveTypingBroadcastPublisher5&&(this.$CometUFILiveTypingBroadcastPublisher5.dispose(),this.$CometUFILiveTypingBroadcastPublisher5=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher4=null};this.$CometUFILiveTypingBroadcastPublisher2!=null?this.$CometUFILiveTypingBroadcastPublisher4=d("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher6,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher2},b):this.$CometUFILiveTypingBroadcastPublisher3!=null&&(this.$CometUFILiveTypingBroadcastPublisher4=d("GroupsCometPostLiveTypingMutation").start(this.$CometUFILiveTypingBroadcastPublisher6,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,groupID:this.$CometUFILiveTypingBroadcastPublisher3},b))};c.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher5)return;this.$CometUFILiveTypingBroadcastPublisher4&&(this.$CometUFILiveTypingBroadcastPublisher4.dispose(),this.$CometUFILiveTypingBroadcastPublisher4=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher5=null};this.$CometUFILiveTypingBroadcastPublisher2!=null?this.$CometUFILiveTypingBroadcastPublisher5=d("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher6,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher2},b):this.$CometUFILiveTypingBroadcastPublisher3!=null&&(this.$CometUFILiveTypingBroadcastPublisher5=d("GroupsCometPostLiveTypingMutation").stop(this.$CometUFILiveTypingBroadcastPublisher6,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,groupID:this.$CometUFILiveTypingBroadcastPublisher3},b))};return b}(c("AbstractCommentLiveTypingPublisher"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFITypingSubscription",["CometRelay","CometUFITypingSubscription.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFITypingSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{onNext:c&&c.onNext,subscription:i,variables:{input:{feedback_id:b}}})}g.subscribe=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIUnhideCommentMutation",["CometRelay","CometUFIUnhideCommentMutation.graphql","FBLogger"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFIUnhideCommentMutation.graphql");function a(a,b){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:b.onCompleted,optimisticUpdater:function(a){a=a.get(b.commentId);if(a==null){c("FBLogger")("ufi2").mustfix("When trying to unhide a comment, the comment could not be found.");return}a.setValue(!1,"is_hidden_by_content_owner");a.setValue(!1,"is_hidden_by_viewer");a.setValue("none","spam_display_mode")},variables:{feedLocation:b.feedLocation,input:{comment_id:b.commentId,feedback_source:b.feedbackSource,site:"comet"},useDefaultActor:!1}})}g.commit=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIViewOptionsSelectorMenu.react",["CometMenu.react","CometMenuItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onChange;a=a.viewOptions;a=a.filter(Boolean);return h.jsx(c("CometMenu.react"),{withArrow:!0,children:a.map(function(a){return h.jsx(c("CometMenuItem.react"),{onClick:function(){a.value!=null&&b(a.value)},primaryText:a.title||"",secondaryText:a.description},a.value)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:c},parameters:b("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.voteCount;var b=h._("__JHASH__iwbH0uMbUnu__JHASH__",[h._plural(a,"number")]);return i.jsx(c("CometUFISummaryBarLabel.react"),{count:a,icon:"ballot-box",label:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","useCometAlertDialog","useCometEntryPointDialog"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k={link:{appearance:"qgrdou9d",backgroundColor:"nu7423ey",borderTopStyle:"s9ok87oh",borderEndStyle:"s9ljgwtm",borderBottomStyle:"lxqftegz",borderStartStyle:"bf1zulr9",borderTopWidth:"frfouenu",borderEndWidth:"bonavkto",borderBottomWidth:"djs4p424",borderStartWidth:"r7bn319e",boxSizing:"bdao358l",color:"jxuftiz4",marginTop:"m8h3af8h",marginEnd:"l7ghb35v",marginBottom:"kjdc1dyq",marginStart:"kmwttqpk",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m",position:"om3e55n1",textAlign:"cr00lzj9",zIndex:"g4tp4svg",":hover":{textDecoration:"cxfqmxzd"}}};function a(a){var b=a.hideVoterDialog,e=a.questionID;a=a.voteCount;var f=d("Actor").useActor();f=f[0];var g=c("useCometAlertDialog")(),l=j(null);f=c("useCometEntryPointDialog")(c("CometUFIVoteCountDialog.entrypoint"),{actorID:f,questionID:e});var m=f[0];return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__BOvwuovk-V1__JHASH__"),display:"inline",onPress:function(){b?g({body:h._("__JHASH__3t5o4SfUF-i__JHASH__"),close:h._("__JHASH__e631mADSZnC__JHASH__"),title:h._("__JHASH__6AbhyB6AeXK__JHASH__")}):m({})},overlayDisabled:!0,ref:l,xstyle:k.link,children:i.jsx(c("CometUFIVotesText.react"),{voteCount:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICreatorInfo.react",["fbt","ix","CometTooltip.react","CometUFIProfileLink.react","TetraIcon.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b,e=g();switch(a.labelType){case"commented":b=h._("__JHASH__AaEs3f3aN0u__JHASH__",[h._param("creator",e)]);break;case"edited_comment":b=h._("__JHASH__juUhwpcNtpX__JHASH__",[h._param("creator",e)]);break;case"sent_message":b=h._("__JHASH__SmouuRH4mjP__JHASH__",[h._param("creator",e)]);break;case"page_admin_note":b=h._("__JHASH___6D3nOaz8_Q__JHASH__",[h._param("creator",e)]);break;default:return j.jsx("span",{})}e=j.jsxs(j.Fragment,{children:[b,j.jsx("span",{className:"jobqx2lf om3e55n1 iec8yc8l",children:j.jsx(c("CometTooltip.react"),{tooltip:p(),children:j.jsx(c("TetraIcon.react"),{color:"tertiary",icon:d("fbicon")._(i("479175"),12)})})})]});function g(){switch(a.creatorType){case"application":case"gray_account":case"indirect_admin":return j.jsx(c("CometTooltip.react"),{tooltip:k(),children:j.jsx("b",{children:a.creatorName})});case"business_admin":return j.jsx(c("CometUFIProfileLink.react"),{kind:"link",uid:a.creatorID,children:a.creatorName});case"direct_admin":return l();case"former_admin":return j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"jobqx2lf om3e55n1 b7mnygb8",children:j.jsx(c("TetraIcon.react"),{color:"tertiary",icon:d("fbicon")._(i("648667"),12)})}),l()]});default:return j.jsx("span",{children:a.creatorName})}}g.displayName=g.name+" [from "+f.id+"]";function k(){switch(a.creatorType){case"application":return m();case"gray_account":return o();case"indirect_admin":return n()}return null}function l(){return a.profileURI==null||a.profileURI===""?j.jsx("span",{children:a.creatorName}):j.jsx(c("CometUFIProfileLink.react"),{href:a.profileURI,kind:"link",uid:a.creatorID,children:a.creatorName})}l.displayName=l.name+" [from "+f.id+"]";function m(){switch(a.labelType){case"commented":return h._("__JHASH__X6LwGuexHBZ__JHASH__",[h._param("application",a.creatorName)]);case"edited_comment":return h._("__JHASH__tp9cxuXKpdX__JHASH__",[h._param("application",a.creatorName)]);case"sent_message":return h._("__JHASH__swMkaJEoEQe__JHASH__",[h._param("application",a.creatorName)]);case"page_admin_note":return h._("__JHASH__PcuzUVWv9sO__JHASH__",[h._param("application",a.creatorName)])}return null}function n(){switch(a.labelType){case"commented":return h._("__JHASH__yadK3YRZXJv__JHASH__",[h._param("page",a.creatorName)]);case"edited_comment":return h._("__JHASH__rsXFTk8z17s__JHASH__",[h._param("page",a.creatorName)]);case"sent_message":return h._("__JHASH__lSMIuoRKqi0__JHASH__",[h._param("page",a.creatorName)]);case"page_admin_note":return h._("__JHASH__ASevSj5Zd77__JHASH__",[h._param("page",a.creatorName)])}return null}function o(){switch(a.labelType){case"commented":return h._("__JHASH__TeSvQjZHe6F__JHASH__");case"edited_comment":return h._("__JHASH__RBEUaqiawTf__JHASH__");case"sent_message":return h._("__JHASH__Kh3a7ymPlBl__JHASH__");case"page_admin_note":return h._("__JHASH__FwTyQv5V1fE__JHASH__")}return null}function p(){switch(a.labelType){case"commented":return h._("__JHASH__vGVOM1CT02Q__JHASH__");case"edited_comment":return h._("__JHASH__QytamhIWcpK__JHASH__");case"sent_message":return h._("__JHASH__IC-rLIywM_T__JHASH__");case"page_admin_note":return h._("__JHASH__xKUabY_iLhc__JHASH__")}return null}return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],function(a,b,c,d,e,f,g){"use strict";function h(a){if(!a.isSimpleText())return;var b=d("Lexical").$getSelection(),e=a.getTextContent();d("Lexical").$isRangeSelection(b)&&b.isCollapsed()&&b.anchor.type==="text"&&b.anchor.key===a.getKey()&&(e=e.slice(0,b.anchor.offset));b=a;while((a=e.match(d("EmoticonsList").noncapturingRegexp))&&a!==null&&b!==void 0){var f=a[1];a=a[0][0]===" "?a.index+1:a.index;var g=f.length,h=a+g,i=d("EmoticonsList").emotes[f];if(i!==void 0){var j=d("EmoticonsList").emoji[i],k=b.getNextSibling();k=h===e.length?d("Lexical").$isLineBreakNode(k):e[h]===" ";if(j!==void 0&&k){k=void 0;if(a===0){g=b.splitText(g);k=g[0];b=g[1]}else{g=b.splitText(a,h);k=g[1];b=g[2]}a=j.length===5&&j.slice(0,2)==="1f";g=a?String.fromCodePoint(parseInt("0x"+j,0)):i;i=a?g:f;a=new(c("FBEmojiResource"))(j);f=a.getImageURL(d("CometLexicalEmojiNode").UFI_EMOJI_SIZE);f!=null&&(j=d("CometLexicalEmojiNode").$createEmojiNode(g,i,f,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE),k.replace(j))}}e=e.slice(h)}}function a(a){return a.registerNodeTransform(d("Lexical").TextNode,h)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function k(a){a=a.stickerId;var e=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),{scale:c("SiteData").pr,stickerId:a});e=e.sticker;if(!e){c("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",a).mustfix("Failed to fetch a sticker.");return null}return j.jsx(c("UFI2CommentSticker.react"),{className:"mal",sticker:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.loadingIndicatorElement,d=a.onError;a=a.stickerId;return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){},onError:d,children:j.jsx(c("CometPlaceholder.react"),{fallback:b,children:j.jsx(k,{stickerId:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=a.feedback,e=a.groupID,f=a.pluginProps,g=a.relayEnvironment,j=(a=b.viewer_actor)==null?void 0:a.id,k=f.addCommitListener,l=b.id,m=i(!1),n=i(null),o=f.editor;h(function(){if(m.current===!0)return;if(j==null||l==null&&e==null){c("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");m.current=!0;return}var a="",b=function(){if(n.current===null){var a=new(c("CometUFILiveTypingBroadcastPublisher"))(j,l,g,e);n.current=a}return n.current},f=o.registerTextContentListener(function(d){if(a!==d){var e=b();a=d;c("JSScheduler").defer(function(){e.handleStartEvent()})}}),h=o.registerCommand(d("Lexical").BLUR_COMMAND,function(){var a=n.current;a!==null&&a.handleStopEvent();return!1},d("Lexical").COMMAND_PRIORITY_LOW),i=k(function(){var a=n.current;a!==null&&a.handleStopEvent();return"continue-commit"});return function(){var a=n.current;a!==null&&(n.current=null,a.destroy());f();h();i()}},[j,k,o,l,g]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIPinCommentMutation",["CometRelay","CometUFIPinCommentMutation.graphql","Promise"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFIPinCommentMutation.graphql");function j(a,b,c){c=b.get(c);if(c==null)return;b=b.get(a);if(b==null)return;a=c.getOrCreateLinkedRecord("latest_pinned_comment_event","BroadcastPinnedCommentEvent");a.setLinkedRecord(b,"pinned_comment")}function a(a,c){return new(b("Promise"))(function(b,e){d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a,c){if(c!=null){e(c);return}b(a)},onError:e,optimisticUpdater:function(a){return j(c.commentID,a,c.feedbackID)},updater:function(a){return j(c.commentID,a,c.feedbackID)},variables:{input:{comment_id:c.commentID,video_id:c.videoID,video_time_offset:0}}})})}g.commit=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFIUnpinCommentMutation",["CometRelay","CometUFIUnpinCommentMutation.graphql","Promise"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFIUnpinCommentMutation.graphql");function j(a,b){a=a.get(b);if(a==null)return;a.setValue(null,"latest_pinned_comment_event")}function a(a,c){return new(b("Promise"))(function(b,e){var f;d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a,c){if(c!=null){e(c);return}b(a)},onError:e,optimisticUpdater:function(a){return j(a,c.feedbackID)},updater:function(a){return j(a,c.feedbackID)},variables:{input:{video_id:c.videoID,video_time_offset:(f=c==null?void 0:c.video_time_offset)!=null?f:0}}})})}g.commit=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CommunityReputationAwardType",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({DUMMY:0,NEW_IDEA:1,UPLIFTING:2,EDUCATIONAL:3,ENTERTAINING:4,RELEVANT:5,SUPPORTIVE:6,HILARIOUS:7,HELPFUL:8,THOUGHTFUL:9,APPLAUSE:10,INSPIRING:11,CONGRATS:12,ALL_STAR:13,HIGH_FIVE:14,CREATIVE:15,TOP_TIP:16,MVP:17});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XFBCommunityReputationAwardTypeUtils.facebook",["$InternalEnumUtils","CommunityReputationAwardType"],function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("CommunityReputationAwardType"));b=d("$InternalEnumUtils").createFromJSEnum(c("CommunityReputationAwardType"));g.toJSEnum=a;g.fromJSEnum=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometCommunityAwardsLogger",["XFBCommunityReputationAwardTypeUtils.facebook","promiseDone","recoverableViolation","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CommunityAwardsEventFalcoEvent").__setRef("CometCommunityAwardsLogger");function a(a){var b=i(a);c("promiseDone")(h.load().then(function(a){return a.log(function(){return b})}))}function i(a){var b=a.awardTypes,c=a.commentID,d=a.contentType,e=a.entryPoint,f=a.eventType,g=a.extraData,h=a.groupID,i=a.productElement,l=a.storyID;a=a.surface;b=b?Array.from(b).map(function(a){return k(a)}).filter(Boolean):void 0;d=j(c,l,d);return{award_types:b,awarded_content_type:(b=d)!=null?b:void 0,comment_id:c,entry_point:e,event_type:f,extra_data:g,group_id:h,product_element:i,story_id:l,surface:a}}function j(a,b,c){c=c;c==null&&(a!=null?c="comment":b!=null&&(c="post"));return c}function k(a){var b=d("XFBCommunityReputationAwardTypeUtils.facebook").toJSEnum(a);if(b==null){c("recoverableViolation")("CometCommunityAwardsLogger cannot convert award type "+a+"to JSEnum","community_awards");return null}return b}g.log=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("nodeIsInConnection",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.getLinkedRecords("edges");if(a==null){c&&c("Connection contains no edges field.");return!1}var d=!1;b=b.getDataID();if(b==null){c&&c("Search node has no ID.");return!1}for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h&&h.getLinkedRecord("node");if(i==null){c&&c("Edge at index "+a.indexOf(h)+" has no node.");continue}if(i.getDataID()===b){d=!0;break}}return d}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUFICreateCommentSubscription",["CometRelay","CometUFICreateCommentSubscription.graphql","FBLogger","WebPixelRatio","forEachCometUFIReplies","forEachCommentRenderingInstanceComments","forEachUFI2DisplayCommentsConnection","nodeIsInConnection","relay-runtime"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFICreateCommentSubscription.graphql");function a(a){var b=a.commentsKey,e=a.environment,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,j=a.isComet,k=a.onCompleted,l=a.onNext,m=a.replyCommentOrdering,n=a.topLevelFeedbackTargetID;a=a.useDefaultActor;function o(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",n||"UNKNOWN").warn(a)}return d("CometRelay").requestSubscription(e,{onCompleted:k,onNext:l,subscription:i,updater:function(a){var b=a.getRootField("comment_create_subscribe");if(b==null){o("could not find comment create subscription payload");return}var e=b.getLinkedRecord("feedback");if(e==null){o("could not find feedback target in payload");return}var f=e.getDataID();if(f==null){o("could not get feedback target id");return}f=a.get(f);if(f==null){o("could not find feedback record");return}var g=b.getLinkedRecord("feedback_comment_edge");if(g==null){o("could not find comment edge");return}var h=g.getLinkedRecord("node");if(h==null){o("could not find comment node");return}var i=[f];b=h.getValue("depth");if(m==="SUB_REPLIES"||m==="RANKED_SUB_REPLIES"||m==="CHRONO_SUB_REPLIES"){if(typeof b==="number"&&b>1){f=h.getLinkedRecord("reply_parent_comment");b=f!=null?f.getLinkedRecord("feedback"):null;if(b!=null){i.unshift(b);f=b.getValue("comment_count");b.setValue(typeof f==="number"?f+1:1,"comment_count")}}if(m!=null){b=h.getLinkedRecord("feedback");if(b!=null){f=function(a){a.setValue(m,"comment_order"),a.setValue(m,"reply_comment_order")};c("forEachUFI2DisplayCommentsConnection")(a,b,f);c("forEachCommentRenderingInstanceComments")(a,b,f);c("forEachCometUFIReplies")(a,b,f)}}}i.forEach(function(b,f){var j=function(b){if(c("nodeIsInConnection")(b,h,o))return;var j=b.getValue("before_count")||0;if(typeof j!=="number"){o("expected `before_count` to be a number");return}j=d("relay-runtime").ConnectionHandler.createEdge(a,b,h,g.getType());if(j==null){o("could not build comment edge");return}d("relay-runtime").ConnectionHandler.insertEdgeBefore(b,j);j=b.getValue("count")||0;if(typeof j!=="number"){o("expected `count` to be a number");return}if(i.length>1&&f===0)b.setValue(j+1,"count");else{j=e.getLinkedRecord("display_comments");if(j==null){o("could not get display_comments from payload");return}j=j.getValue("count");if(typeof j!=="number"){o("could not get display_comments count from payload");return}b.setValue(j,"count")}};c("forEachUFI2DisplayCommentsConnection")(a,b,j);c("forEachCommentRenderingInstanceComments")(a,b,j);c("forEachCometUFIReplies")(a,b,j)})},variables:{UFI2CommentsProvider_commentsKey:b,feedbackSource:f,feedLocation:g,focusCommentID:h,input:{top_level_feedback_id:n},isComet:j,scale:d("WebPixelRatio").get(),useDefaultActor:a}})}g.subscribe=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CommunityAwardsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1005");c=b("FalcoLoggerInternal").create("community_awards_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1985969");c=b("FalcoLoggerInternal").create("inline_follow_cta_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("CubicBezier",[],function(a,b,c,d,e,f){var g=.005;a=function(){function a(a,b){this.cx=3*a[0],this.bx=3*(b[0]-a[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a[1],this.by=3*(b[1]-a[1])-this.cy,this.ay=1-this.cy-this.by}var b=a.prototype;b.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a};b.solve=function(a){a=this.solveCurveX(a);return((this.ay*a+this.by)*a+this.cy)*a};b.solveCurveX=function(a){var b,c,d,e;for(d=a,c=0;c<8;c++){e=this.sampleCurveX(d)-a;if(Math.abs(e)<g)return d;b=(3*this.ax*d+2*this.bx)*d+this.cx;if(Math.abs(b)<1e-6)break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;while(b<c){e=this.sampleCurveX(d);if(Math.abs(e-a)<g)return d;a>e?b=d:c=d;d=(c-b)/2+b}return d};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BinarySearch",["unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";e={GREATEST_LOWER_BOUND:"GREATEST_LOWER_BOUND",GREATEST_STRICT_LOWER_BOUND:"GREATEST_STRICT_LOWER_BOUND",LEAST_STRICT_UPPER_BOUND:"LEAST_STRICT_UPPER_BOUND",LEAST_UPPER_BOUND:"LEAST_UPPER_BOUND",NEAREST:"NEAREST"};var h=function(a,b){if(typeof a!=="number"||typeof b!=="number")throw c("unrecoverableViolation")("The default comparator can only be used with sequences of numbers.","comet_infra");return a-b},i=e.GREATEST_LOWER_BOUND,j=e.GREATEST_STRICT_LOWER_BOUND,k=e.LEAST_STRICT_UPPER_BOUND,l=e.LEAST_UPPER_BOUND,m=e.NEAREST;function n(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d){c=a(f);return e(c,b)===0?c:void 0}else return void 0}function o(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d)return e(a(f),b)===0?f:-1;else return-1}function p(a,b,d,e,f,g){switch(g){case l:return q(a,b,d,e,f);case i:return r(a,b,d,e,f);case k:return s(a,b,d,e,f);case j:return t(a,b,d,e,f);case m:return u(a,b,d,e,f);default:throw c("unrecoverableViolation")("Invalid mode "+g,"comet_infra")}}function q(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>=0?d=f:c=f}return c<d&&e(a(c),b)>=0?c:d}function r(a,b,c,d,e){return s(a,b,c,d,e)-1}function s(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>0?d=f:c=f}return c<d&&e(a(c),b)>0?c:d}function t(a,b,c,d,e){return q(a,b,c,d,e)-1}function u(a,b,c,d,e){var f=r(a,b,c,d,e),g=Math.abs(e(a(f),b));e=Math.abs(e(a(f+1),b));return g<e?Math.max(f,c):Math.min(f+1,d-1)}function a(a,b,c){return n(function(b){return a[b]},b,0,a.length,c)}function b(a,b,c){return o(function(b){return a[b]},b,0,a.length,c)}function d(a,b,c,d){return p(function(b){return a[b]},b,0,a.length,c,d)}g.GREATEST_LOWER_BOUND=i;g.GREATEST_STRICT_LOWER_BOUND=j;g.LEAST_STRICT_UPPER_BOUND=k;g.LEAST_UPPER_BOUND=l;g.NEAREST=m;g.find=n;g.findIndex=o;g.findBound=p;g.leastUpperBound=q;g.greatestLowerBound=r;g.leastStrictUpperBound=s;g.greatestStrictLowerBound=t;g.nearest=u;g.findInArray=a;g.findIndexInArray=b;g.findBoundInArray=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelAction",[],function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";a=function(){function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==void 0&&(this.$1[j]=c),d!==void 0&&(this.$1[h]=JSON.stringify(d))}var b=a.prototype;b.getData=function(){return this.$1};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelRegistry",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_ALT_TEXT_COMPOSER_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0})}),null);
__d("Funnel",["BinarySearch","FunnelAction","FunnelRegistry","sprintf","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h="name",i="instance_id",j="start_time",k="tags",l="actions",m="sampling_rate",n="timeout_sec",o="beacon_id",p="beacon_session_id",q="funnel_level_beacon_id",r="funnel_level_beacon_session_id",s="is_web";a={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};var t=600;e=function(){function a(a,b,d,e,f){if(c("FunnelRegistry")[a]!==!0)throw c("unrecoverableViolation")("Funnel name not registered.","comet_infra");this.$1=a;this.$2=b;this.$3=[];this.$4={};this.$5=d;this.$6=f;this.timeout_sec=t;this.shouldTrackFocus=!1;this.$7=e;this.$9=-1;this.$10=-1;this.$11=-1;this.$12=-1;this.$8=null;this.devModeLogger("Started funnel")}var b=a.prototype;b.addTag=function(a){if(typeof a!=="string")throw c("unrecoverableViolation")("Funnel tag should be a String.","comet_infra");this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};b.appendAction=function(a,b,e,f){var g=this;f===void 0&&(f=Date.now());f=new(c("FunnelAction"))(a,f-this.$6,b,e);e=d("BinarySearch").leastStrictUpperBound(function(a){return g.$3[a].getData()},f.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(e,0,f);b?this.devModeLogger("Appended action %s with tag %s",a,b):this.devModeLogger("Appended action %s",a);this.$8=a;return this};b.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};b.getLogData=function(){var a={};a[h]=this.$1;this.$2!==void 0?a[i]=this.$2:a[i]=Math.floor(Math.random()*65536);a[j]=this.$6;a[m]=this.$5;a[n]=this.timeout_sec;a[k]=[];for(var b in this.$4)this.$4[b]===!0&&a[k].push(b);if(this.$3.length>0){a[l]=[];for(var b=0;b<this.$3.length;b++)a[l].push(this.$3[b].getData())}this.$10!==-1&&this.$9!==-1&&(a[p]=this.$10,a[o]=this.$9);this.$12!==-1&&this.$11!==-1&&(a[r]=this.$12,a[q]=this.$11);a[s]=1;return a};b.devModeLogger=function(){};b.getTags=function(){return this.$4};b.getFunnelName=function(){return this.$1};b.addReliabilityStats=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$10=a;this.$9=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};b.addReliabilityStatsForCurFunnel=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$12=a;this.$11=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};return a}();g.EndType=a;g.ActionType=b;g.Funnel=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelLoggerSampler",["FunnelLoggerConfig"],function(a,b,c,d,e,f){"use strict";function a(a){a=g(a);return a===0?!1:Math.random()*a<1}function g(a){a=b("FunnelLoggerConfig").freq[a];a===void 0&&(a=b("FunnelLoggerConfig").freq["default"]);return a}e.exports={shouldLog:a,getSamplingRate:g}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelReliabilityWhitelist",[],function(a,b,c,d,e,f){a=["SEARCH_FUNNEL"];f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=!1,i,j="fas_reliability_lib_stats_overall",k="fas_reliability_funnel_stats_overall",l=1800,m="funnel_analytics_data_loss",n="fas_reliability_lib_stats_wl",o="fas_reliability_funnel_stats_wl",p=0,q={};function a(){return c("gkx")("676890")?!0:!1}function r(){h||(h=!0,i=c("WebStorage").getLocalStorage());return i}function s(){var a=r();if(!a)return null;a=a.getItem(k);if(a)return JSON.parse(a);else{a=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:a}}}function t(a){var b=r();if(!b)return null;b=b.getItem(o);if(b)return JSON.parse(b);else{b={};b[a]={startCount:0,endCount:0,cancelCount:0,prevCount:0};return b}}function u(){var a=r();if(!a)return null;a=a.getItem(o);return a?JSON.parse(a):null}function b(a){var b=s();if(!b)return;p+=1;b.startCount?b.startCount=parseInt(b.startCount,10)+1:b.startCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));v(a)}function v(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]+1:1;q[a]=d;d=b[a];d?d.startCount?d.startCount=parseInt(d.startCount,10)+1:d.startCount=1:(d={},d.startCount=1,d.prevCount=0,d.cancelCount=0,d.endCount=0);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function e(a){var b=s();if(!b)return;p-=1;b.cancelCount?b.cancelCount=parseInt(b.cancelCount,10)+1:b.cancelCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));w(a)}function w(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=b[a];d?d.cancelCount?d.cancelCount=parseInt(d.cancelCount,10)+1:d.cancelCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=1,d.endCount=0);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function f(a){var b=s();if(!b)return;p-=1;b.endCount?b.endCount=parseInt(b.endCount,10)+1:b.endCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));x(a)}function x(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=b[a];d?d.endCount?d.endCount=parseInt(d.endCount,10)+1:d.endCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=0,d.endCount=1);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function y(){var a=s();if(!a)return!1;if(a.lastFlushTimestamp){var b=Math.floor(Date.now()/1e3);return b-parseInt(a.lastFlushTimestamp,10)>=l}return!1}function z(a,b){a=r();if(!a)return;var d=Math.floor(Date.now()/1e3);b={startCount:0,endCount:0,cancelCount:0,prevCount:b,lastFlushTimestamp:d};c("WebStorage").setItemGuarded(a,k,JSON.stringify(b))}function A(a,b){var d=r();if(!d||!a||Object.keys(a).length==0)return;var e={};for(var a in a){var f=b[a];f={startCount:0,endCount:0,cancelCount:0,prevCount:f?f:0};e[a]=f}c("WebStorage").setItemGuarded(d,o,JSON.stringify(e))}function B(a,b,c,e){var f=a.prevCount,g=a.startCount,h=a.endCount;a=a.cancelCount;var i=f+g-h-a-b;g={start:g,end:h,cancel:a,prev:f,ongoing:b,loss:i};h={overall:g};if(c){a={};for(var f in c){b=c[f];i=b.prevCount;g=b.startCount;var j=b.endCount;b=b.cancelCount;var k=e[f]?e[f]:0,l=i+g-j-b-k;g={start:g,end:j,cancel:b,prev:i,ongoing:k,loss:l};a[f]=g}h.funnel_level_data_loss=a}d("MarauderLogger").log(m,null,h)}function C(){if(!y())return;var a=s();if(!a)return;z(a,p);var b=u();b&&A(b,q);B(a,p,b,q)}function D(){var a=r();if(!a)return null;var b=a.getItem(j);b=b?JSON.parse(b):{};var d=b.counter,e=b.session;d?(d=parseInt(d,10)+1,e=parseInt(b.session,10)):(d=1,e=Math.floor(Math.random()*65536));c("WebStorage").setItemGuarded(a,j,JSON.stringify({counter:d,session:e}));return[e,d]}function E(a){if(!c("FunnelReliabilityWhitelist").includes(a))return null;var b=r();if(!b)return null;var d=b.getItem(n),e=void 0,f={};d&&(f=JSON.parse(d),e=f[a]);var g=e?e.counter:void 0;e=e?e.session:void 0;g?(g=parseInt(g,10)+1,e=parseInt(e,10)):(g=1,e=Math.floor(Math.random()*65536));var h={};d?(f[a]={counter:g,session:e},h=f):h[a]={counter:g,session:e};c("WebStorage").setItemGuarded(b,n,JSON.stringify(h));return[e,g]}g.passFunnelLevelStatsRolloutGK=a;g.onFunnelStart=b;g.onFunnelCancel=e;g.onFunnelEnd=f;g.maybeFlushFunnelLevelStats=C;g.increaseAndGetLibLevelStats=D;g.maybeIncreaseAndGetLibLevelStatsForCurFunnel=E},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";var g={},h=!1,i=!0;function a(a,b){B(a,b)}function c(a,b,c){B(a,c,b)}function d(a,b){a=D(a,b);return!E(a)?null:g[a]}function f(a,b){}function j(a,b,c){c===void 0?F(a,void 0,b):c&&F(a,b,c)}function k(a,c){c=D(a,c);E(c)&&(g[c].devModeLogger("Cancelled funnel"),H(c),g[c]=void 0,b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelCancel(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function l(a,b){C(a,b)}function m(a,b,c){C(a,c,b)}function n(a,b,c){c===void 0?I(a,void 0,String(b)):I(a,Number(b),c)}function o(a,b,c){c===void 0?J(a,void 0,Boolean(b)):J(a,Number(b),c)}function p(a,b,c){c===void 0?K(a,void 0,String(b),void 0):K(a,Number(b),c,void 0)}function q(a,b,c){c===void 0?L(a,void 0,String(b),void 0):L(a,Number(b),c,void 0)}function r(a,b,c,d){d===void 0?K(a,void 0,String(c),void 0,void 0,b):K(a,Number(c),d,void 0,void 0,b)}function s(a,b,c,d){d===void 0?K(a,void 0,String(b),c):K(a,Number(b),c,d)}function t(a,b,c,d,e){e===void 0?K(a,void 0,String(c),d,void 0,b):K(a,Number(c),d,e,void 0,b)}function u(a,b,c,d){d===void 0?L(a,void 0,String(b),c):L(a,Number(b),c,d)}function v(a,b,c,d){d===void 0?K(a,void 0,String(b),void 0,c):K(a,Number(b),String(c),void 0,d)}function w(a,b,c,d,e){e===void 0?K(a,void 0,String(c),void 0,d,b):K(a,Number(c),String(d),void 0,e,b)}function x(a,b,c,d){d===void 0?L(a,void 0,String(b),void 0,c):L(a,Number(b),String(c),void 0,d)}function y(a,b,c,d,e){e===void 0?K(a,void 0,String(b),c,d):K(a,Number(b),String(c),String(d),e)}function z(a,b,c,d,e,f){f===void 0?K(a,void 0,String(c),d,e,b):K(a,Number(c),String(d),String(e),f,b)}function A(a,b,c,d,e){e===void 0?L(a,void 0,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function B(a,c,d){var e=D(a,c);R();M(e);b("FunnelLoggerSampler").shouldLog(a)&&(g[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),G(e),b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelStart(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function C(a,c,d){a=D(a,c);E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,void 0,d),N(a))}function D(a,c){if(b("FunnelRegistry")[a]!==!0){b("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",a);throw b("unrecoverableViolation")("Funnel name `"+a+"` not registered.","comet_infra")}if(c===void 0||c===null)return a;else return a+c.toString()}function E(a){return g[a]!==void 0}function F(a,b,c){a=D(a,b);E(a)&&(g[a].timeout_sec=c,g[a].devModeLogger("Timeout set to %s sec",c),G(a))}function G(a){H(a),g[a].timeout_handle=b("setTimeout")(function(){g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),N(a)},1e3*g[a].timeout_sec)}function H(a){g[a].timeout_handle&&b("clearTimeout")(g[a].timeout_handle)}function I(a,b,c){a=D(a,b);E(a)&&(g[a].addTag(c),G(a))}function J(a,b,c){a=D(a,b);E(a)&&(g[a].shouldTrackFocus=c,g[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function K(a,b,c,d,e,f){a=D(a,b);E(a)&&(g[a].appendAction(c,d,e,f),G(a))}function L(a,b,c,d,e){a=D(a,b);E(a)&&g[a].appendActionIfNew(c,d,e)}function M(a){E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),N(a))}function N(a){if(E(a)){if(b("gkx")("676888")){var c=b("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(c){var d=c[0];c=c[1];g[a].addReliabilityStats(d,c)}}d=g[a].getFunnelName();c=g[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);g[a].devModeLogger("Logged: %s",JSON.stringify(c));H(a);g[a]=void 0;b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelEnd(d),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function O(){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),N(a))}function P(){if(i){i=!1;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),H(a))}}function Q(){if(!i){i=!0;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),H(a))}}function R(){h||(h=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,O),window.addEventListener("blur",P),window.addEventListener("focus",Q)))}e.exports={addFunnelTag:n,appendAction:p,appendActionAtTime:r,appendActionAtTimeWithPayload:w,appendActionAtTimeWithTag:t,appendActionAtTimeWithTagAndPayload:z,appendActionIfNew:q,appendActionWithPayload:v,appendActionWithPayloadIfNew:x,appendActionWithTag:s,appendActionWithTagAndPayload:y,appendActionWithTagAndPayloadIfNew:A,appendActionWithTagIfNew:u,cancelFunnel:k,endFunnel:l,endFunnelAtTime:m,getFunnelInstance:d,setFunnelTimeout:j,setFunnelTrackFocus:o,startFunnel:a,startFunnel_DEV_MODE:f,startFunnelAtTime:c}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesPerformanceLog",["performanceNow"],function(a,b,c,d,e,f,g){"use strict";var h=60;a=function(){function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var b=a.prototype;b.onNextFrame=function(a){this.$7=a};b.start=function(){if(this.$2<0||this.$3>=0){var a=c("performanceNow")();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};b.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=c("performanceNow")(),this.$5&&this.$5("pause"))};b.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};b.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};b.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};b.finish=function(){if(this.$2>=0){var a=c("performanceNow")(),b=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-b),1);b=this.$1?this.$1/a*1e3:h;this.$6({animation_duration:a,display_refresh_rate:h,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:b,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0,name:"plugin_load_attempt"};a={log:function(a){if(a==null)return;a.forEach(function(a){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{extras:a}))})}};g.KeyframesPluginLogger=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],function(a,b,c,d,e,f,g){"use strict";var h={DynamicProperties:function(a){return c("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],a,"KeyframesPluginsLoader")},LayerName:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],a,"KeyframesPluginsLoader")},LayerTags:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],a,"KeyframesPluginsLoader")},RandomSubdocument:function(a){return c("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesPluginsLoader")},Sound:function(a){return c("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],a,"KeyframesPluginsLoader")},SubdocumentSwap:function(a){return c("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],a,"KeyframesPluginsLoader")},TrimPath:function(a){return c("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesPluginsLoader")}};function i(a,b){return h[a]?h[a](b):null}function j(a){a=a.map(function(a){return new(b("Promise"))(function(b,c){var d=i(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Unknown plugin "+a)})});return b("Promise").all(a)}a=function(){a.fromPluginTable=function(b){d("KeyframesPluginLogger").KeyframesPluginLogger.log(b);return j(b).then(function(c){return new a(b,c)})};a.getSupportedPlugins=function(){return h};function a(a,b){this.instances=[],this.$1={},this.$2={},this.$4=a,this.$3=b}var b=a.prototype;b.getPluginTable=function(){return this.$4};b.getPluginsForLayer=function(a){return this.$1[a]};b.maybeInstantiatePluginsForLayer=function(a){var b=a.id();if(!this.$2[b]){var c=a.pluginsLength();if(c)for(var e=0;e<c;e++){var f=a.plugins(e),g=new(d("flatbuffers").ByteBuffer)(f.contentArray());f=f.index();if(this.$3[f]){var h=this.$3[f],i=h[0];h=h[1];f="getRootAsPlugin"+this.$4[f];h=h[f](g);f=new i(h,a);this.$1[b]||(this.$1[b]=[]);this.$1[b].push(f);this.instances.push(f);f.animationDidLoad()}}this.$2[b]=!0}};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesVersion",[],function(a,b,c,d,e,f){"use strict";var g="2.0.0";function a(){return g}f.getCurrentVersion=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuid"],function(a,b,c,d,e,f,g){"use strict";a=!1;var h="KEYFRAMES_FUNNEL",i="KeyframesFramePerfLoggerConfig",j=2,k=9e18,l={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:c("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function m(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function n(){var a=c("performanceNow")();return function(){return Math.floor(c("performanceNow")()-a)}}function o(){return{value:Date.now()}}b=function(){function a(b,e){var f=this;this.$2=!1;this.$3=0;this.$5=1;this.$11=d("KeyframesVersion").getCurrentVersion();this.$15=function(b){f.$13("play_ended");f.$3++;if(f.$3===f.$5){b=babelHelpers["extends"]({},b,l,{animation_duration:String(b.animation_duration),asset_id:f.$6.assetID||null,asset_name:f.$6.assetID?null:f.$6.assetName,display_refresh_rate:String(b.display_refresh_rate),keyframes_version:f.$11,project_name:f.$6.projectName,session_id:f.$9});a.performanceLoggingMethod(b);f.$5<k&&(f.$5*=j)}};this.$16=function(a){switch(a){case"start":f.$13("play_started");return;case"pause":f.$13("play_ended");return}};this.$10=e||o();this.$6=b;this.$9=c("uuid")();this.$4=m(this.$9)}a.performanceLoggingMethod=function(a){c("BanzaiLogger").log(i,a)};var b=a.prototype;b.startDecode=function(a){var b=this;if(!this.$1){this.$12();this.$13("asset_decode_started",a);var d=n();this.$1=c("once")(function(a,c){b.$13("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:c||[]})})}return this.$1};b.error=function(a){this.$12(),this.$1?this.$14("asset_decode_failed",a):this.$14("asset_request_failed",a)};b.getUUID=function(){return this.$9};b.getInstanceID=function(){return this.$4};b.getPerformanceLogIfEnabled=function(){var a=this;if(!this.$7){var b=this.$12(),d=new(c("KeyframesPerformanceLog"))(this.$15,this.$16);d.onNextFrame(function(){return a.$13("first_frame_rendered",o(),{"time_since:session_started":b()})});this.$7=d}return this.$7};b.$12=function(){this.$8||(d("FunnelLogger").startFunnelAtTime(h,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(c("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=n());return this.$8};b.$13=function(a,b,c){b=b||o(),this.$2||d("FunnelLogger").appendActionAtTimeWithPayload(h,b.value,this.$4,a,babelHelpers["extends"]({},this.$17(),c))};b.$14=function(a,b){b=b||o(),this.$2||(this.$13("session_failed",b,{fail_reason:a}),d("FunnelLogger").endFunnelAtTime(h,b.value,this.$4),this.$2=!0)};b.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}};return a}();g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesSchema",[],function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesVideoUtils",["Promise"],function(a,b,c,d,e,f){"use strict";var g=window.setTimeout,h=4;function a(a){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");b.autoplay=!1;b.src=a;b.currentTime=0;a.startsWith("blob:")||(b.crossOrigin="anonymous");return b}function c(a,c){return new(b("Promise"))(function(b,d){var e=function b(){a.pause(),a.currentTime=c,a.removeEventListener("canplaythrough",b),f()},f=function c(){a.readyState===h?b(a):g(c,10)},i=function b(c){a.removeEventListener("error",b),d(c)};a.currentTime=c;a.addEventListener("error",i);a.readyState===h?b(a):a.addEventListener("canplaythrough",e)})}f.createVideo=a;f.loadVideo=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],function(a,b,c,d,e,f){"use strict";var g=b("KeyframesSchema").Document,h="medium",i=a.URL||a.webkitURL||{};function j(a){a=new(b("flatbuffers").ByteBuffer)(a);return g.bufferHasIdentifier(a)?g.getRootAsDocument(a):null}function k(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){return b(d)};d.onerror=function(b){return c("Decode: error requesting image uri "+a)};d.src=a})}function l(a){a=b("KeyframesVideoUtils").createVideo(a);return b("KeyframesVideoUtils").loadVideo(a,0)}function m(b,c,d){return a.createImageBitmap?b.width<c||b.height<d?o(b,c,d).then(function(b){return a.createImageBitmap(b,0,0,c,d)["catch"](function(a){return b})}):a.createImageBitmap(b,0,0,b.width,b.height,{resizeWidth:c,resizeHeight:d,rezizeQuality:h})["catch"](function(a){return o(b,c,d)}):o(b,c,d)}function n(a,c,d){a.width=c;a.height=d;return b("Promise").resolve(a)}function o(a,c,d){return new(b("Promise"))(function(b){var e=document.createElement("canvas");e.width=c;e.height=d;var f=e.getContext("2d");f.drawImage(a,0,0,c,d);b(e)})}function p(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=b[d].size().width(),g=b[d].size().height();if(f!==e.width||g!==e.height){var h=document.createElement("canvas");h.width=f;h.height=g;var i=h.getContext("2d");i.drawImage(e,0,0,f,g);c.push(h)}else c.push(e)}return c}function q(a,c,d){if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var e=i.createObjectURL(a);c=k(e);b("promiseDone")(c,function(){return b("requestIdleCallback")(function(){return i.revokeObjectURL(e)})});return c}function r(c){if(b("BlobFactory").isSupported()){var d=c.contentArray();if(!d)return b("Promise").reject("Decode: tried to decode a null bitmap");var e=b("BlobFactory").getBlob([d]),f=c.size().width(),g=c.size().height();return a.createImageBitmap?a.createImageBitmap(e,0,0,f,g)["catch"](function(a){return q(e,f,g)}):q(e,f,g)}return b("Promise").reject("Decode: browser does not support bitmap creation")}function s(a){if(b("BlobFactory").isSupported()){var c=a.size();a=a.contentArray();if(!a)return b("Promise").reject("Decode: tried to decode a null video");a=b("BlobFactory").getBlob([a]);if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var d=i.createObjectURL(a);a=l(d).then(function(a){return n(a,c.width(),c.height())});b("promiseDone")(a,function(){b("requestIdleCallback")(function(){return i.revokeObjectURL(d)})});return a}return b("Promise").reject("Decode: browser does not support video creation")}function t(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b.length?b:null}function u(a){var b=[];for(var c=a.bitmapsLength()-1;c>=0;c--)b.unshift(a.bitmaps(c));return b}function v(a){var b=[];for(var c=a.videosLength()-1;c>=0;c--)b.unshift(a.videos(c));return b}function w(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function x(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function y(a){var b=[];for(var c,d=a.subdocumentsLength()-1;d>=0;d--)c=a.subdocuments(d),b.unshift(c);return b}function z(a){a=j(a);return!a?b("Promise").reject("Decode: could not create flatbuffer doc"):A(a)}function A(a){var c=u(a),d=x(c),e=v(a),f=w(e),g=c.filter(function(a){return a.contentLength()||!a.name()}).map(r);e=e.filter(function(a){return a.contentLength()||!a.name()}).map(s);var h=y(a).map(A),i=t(a);i=i?b("KeyframesPluginsLoader").fromPluginTable(i):b("Promise").resolve(null);return b("Promise").all([b("Promise").all(g),b("Promise").all(e),i,b("Promise").all(h)]).then(function(b){var e=b[0],g=b[1],h=b[2];b=b[3];return{bitmaps:p(e,c),bitmapNames:d,videos:g,videoNames:f,doc:a,pluginsLoader:h,subassets:b}})}function B(a){return!Uint8Array?b("Promise").reject("Decode: typed arrays not supported"):b("Promise").resolve(new Uint8Array(a))}function C(a,c){var d={},e=[],f=Object.entries(a);a=function(){var a=f[g],h=a[0];a=a[1];a=c(a,h);e.push(a);b("promiseDone")(a,function(a){return d[h]=a})};for(var g=0;g<f.length;g++)a();return b("Promise").all(e).then(function(){return d})}function D(a,c,d){if(!a.bitmapNames[c]){var e=Object.keys(a.bitmapNames).join(",");return b("Promise").reject("Decode: missing replacement bitmap name "+c+", available names: "+e)}e=a.bitmapNames[c];var f=e.index;c=e.width;e=e.height;return m(d,c,e).then(function(b){a.bitmaps[f]=b})}function E(a,c,d){if(!a.videoNames[c]){var e=Object.keys(a.videoNames).join(",");return b("Promise").reject("Decode: missing replacement video name "+c+", available names: "+e)}e=a.videoNames[c];var f=e.index;c=e.width;e=e.height;return n(d,c,e).then(function(b){a.videos[f]=b})}function F(a){var b=babelHelpers["extends"]({},a);b.bitmaps=a.bitmaps.slice();return b}var G={fromDocumentBytes:function(a){if(a instanceof ArrayBuffer)return B(a).then(z);else if(a instanceof Uint8Array)return z(a);return b("Promise").reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(a,b){return C(b,function(a){return k(a)}).then(function(b){return G.replaceBitmapsWithImageSources(a,b)})},replaceBitmapsWithImageSources:function(a,b){var c=F(a);return C(b,function(a,b){return D(c,b,a)}).then(function(){return c})},replaceVideosWithURIs:function(a,b){return C(b,l).then(function(b){return G.replaceVideosWithVideoSources(a,b)})},replaceVideosWithVideoSources:function(a,b){var c=F(a);return C(b,function(a,b){return E(c,b,a)}).then(function(){return c})}};e.exports=G},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesCanvasPolyfills",[],function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[]}var b=a.prototype;b.getCanvas=function(){if(this.$2.length){var a=this.$2.pop();this.$3.push(a);return a}else{a=document.createElement("canvas");var b=c("nullthrows")(a.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$4(a);this.$3.push(a);return a}};b.clearAllAllocated=function(){var a=this;this.$3.forEach(function(b){b=b.ctx;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,Math.max(a.$1.width.physical,a.$1.width.intrinsic),Math.max(a.$1.height.physical,a.$1.height.intrinsic))})};b.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]};b.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesDimensions",["invariant","WebPixelRatio"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("WebPixelRatio").get(),j=function(){function a(a){this.overridden=!1,this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*i)};b.scale=function(a,b){this.overridden&&h(0,1136),this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new j(a),this.height=new j(b)}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0)};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio)};b.reset=function(){this.height.reset(),this.width.reset()};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=new Set();function j(a){var b=c("performanceNow")();a.callback(Math.min(b-(a.previousTime||b),h));a.previousTime=b;a.framesRemaining-=1;a.framesRemaining<=0&&a.cancel()}function k(a){i.size>0&&(i.forEach(j),c("requestAnimationFramePolyfill")(k))}c("gkx")("708253")||d("Run").onLeave(function(){i.forEach(function(a){return a.cancel()})});window.addEventListener("focus",function(){i.forEach(function(a){return a.previousTime=c("performanceNow")()-16.67})});a=function(){function a(a){this.framesRemaining=Infinity,this.callback=a,this.previousTime=0}var b=a.prototype;b.start=function(a){a===void 0&&(a=Infinity),this.framesRemaining=a,this.$1||(i.size===0&&c("requestAnimationFramePolyfill")(k),i.add(this),this.previousTime=c("performanceNow")(),this.$1=c("TimeSlice").getGuardedContinuation("KeyframesLoop"))};b.cancel=function(){this.$1&&(this.$1(c("emptyFunction")),this.$1=null,i["delete"](this))};b.isRunning=function(){return!!this.$1};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;switch(e.type){case i.MoveTo:a.moveTo(e.point.x,e.point.y);break;case i.CubicTo:e.control1&&e.control2||g(0,2935);a.bezierCurveTo(e.control1.x,e.control1.y,e.control2.x,e.control2.y,e.point.x,e.point.y);break;case i.QuadTo:e.control1||g(0,2936);a.quadraticCurveTo(e.control1.x,e.control1.y,e.point.x,e.point.y);break;case i.LineTo:a.lineTo(e.point.x,e.point.y);break;default:throw new Error("Unrecognized path command "+e.type)}}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesTrackMattes",[],function(a,b,c,d,e,f){"use strict";a={1:"destination-in",2:"destination-out"};f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesPathUtils",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArray;d.ColorArrayAnimation;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArray;d.ScalarArrayAnimation;var l=d.TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesVideoManager",["KeyframesVideoUtils","Promise","regeneratorRuntime"],function(a,b,c,d,e,f){"use strict";var g=.2,h=100,i=[.85,1.15];e.exports=function(){function a(a){this.$1=a,this.$3=1/a.doc.frameRate(),this.$2=l(a.doc.rootLayer(),a),this.$4=this.$5()}var c=a.prototype;c.getVideos=function(){return this.$1.videos};c.getTimeWindows=function(){return this.$2};c.forEach=function(a){this.getVideos().forEach(a)};c.pause=function(){this.forEach(function(a){a.pause()})};c.mute=function(){this.forEach(function(a){a.muted=!0})};c.unMute=function(){this.forEach(function(a){a.muted=!1})};c.renderProgress=function(a){var b=this;this.$2.forEach(function(c,d){var e=c.video,f=k(c,a),h=j(c,a);h=b.$1.doc.duration()*h;var l=Math.abs(h-e.currentTime);c=b.$1.doc.duration()*(c.toProgress-c.fromProgress);if(l>g&&e.currentTime<c&&h<c){l=(c-e.currentTime)/(c-h);l>=i[0]&&l<=i[1]&&b.changeVideoPlaybackRate(d,l)}f&&e.paused?e.play():f==!1&&e.paused==!1&&(e.pause(),e.currentTime=0)})};c.$5=function(){return this.$2.map(function(a){var b=a.video;return n(function(a){b.playbackRate=a},h,!0)})};c.changeVideoPlaybackRate=function(a,b){this.$4[a](b)};c.seekToProgress=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=this.$2.map(function(d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=d.video;f=0;k(d,a)&&(g=j(d,a),f=m(c.$1.doc.duration()*g));e.pause();e.currentTime=f;h.next=7;return b("regeneratorRuntime").awrap(b("KeyframesVideoUtils").loadVideo(e,f));case 7:case"end":return h.stop()}},null,this)});e.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(d));case 3:case"end":return e.stop()}},null,this)};return a}();function j(a,b){return b-a.fromProgress}function k(a,b){return b>=a.fromProgress&&b<=a.toProgress}function l(a,b){var c=[],d=a.videoIndex();if(d!=-1){var e=b.videos[d];d=b.doc.videos(d);e!=null&&c.push({fromProgress:a.fromProgress(),toProgress:a.toProgress(),name:d!=null?d.name():null,video:e})}for(var d=0;d<a.sublayersLength();d++)c=c.concat(l(a.sublayers(d),b));return c}function m(a){return Math.round(a*100)/100}function n(a,b,c){b===void 0&&(b=100);c===void 0&&(c=!1);var d;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=function(){d=null,c||a.apply(void 0,f)},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&a.apply(void 0,f)}}},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyframesRenderer",["invariant","ErrorGuard","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","Promise","gkx","nullthrows","performanceNow","promiseDone","regeneratorRuntime"],function(a,b,c,d,e,f,g,h){"use strict";var i=1,j={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"};a=60;var k=1e3/a,l=1,m="source-over";function n(a,b){return c("gkx")("801076")?c("ErrorGuard").guard(a,{name:b}):a}var o=function(){function a(a,b){b===void 0&&(b=100),this.$3=!1,this.$4=0,this.$1=a,this.$2=b}var b=a.prototype;b.callOrIgnoreThrottled=function(){if(c("performanceNow")()>=this.$4){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];this.$5(b)}else this.$3=!0};b.callIfIgnored=function(){if(this.$3){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)}};b.callImmediately=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)};b.resetThrottling=function(){this.$4=0};b.$5=function(a){this.$3=!1,this.$4=c("performanceNow")()+this.$2,this.$1.apply(null,a)};return a}();function p(a,b){if(a.pluginsLoader){a.pluginsLoader.instances.forEach(b);for(var c=a.subassets.length-1;0<=c;c--)p(a.subassets[c],b)}}function q(a,b,c,d){if(a.pluginsLoader){for(var e=a.pluginsLoader.instances.length-1;0<=e;e--)a.pluginsLoader.instances[e].animationWillRenderLayer(b,c,d);for(var e=a.subassets.length-1;0<=e;e--)q(a.subassets[e],b,c,d)}}function r(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}function s(a,b,c,e){e=d("KeyframesTween").maybeTweenPoint2(a,b.rampStart());var f=d("KeyframesTween").maybeTweenPoint2(a,b.rampEnd()),g=b.colors(),h=b.positions();g&&h?(g=d("KeyframesTween").maybeTweenColorArray(a,g),h=d("KeyframesTween").maybeTweenScalarArray(a,h)):(g=[d("KeyframesTween").maybeTweenColor(a,b.colorStart()),d("KeyframesTween").maybeTweenColor(a,b.colorEnd())],h=[0,1]);if(b.type()===i){var j=b.highlightLength();j=j!==null?d("KeyframesTween").maybeTweenScalar(a,j):0;var k=b.highlightAngle();k=k!==null?d("KeyframesTween").maybeTweenScalar(a,b.highlightAngle()):0;a=e.x;b=e.y;var l=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),m=Math.acos((f.x-a)/l),n=a+l*j*Math.cos(m-k);m=b-l*j*Math.sin(m-k);k=0;j!==0&&(c.clip(),c.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(g[g.length-1]),c.fill(),r(c,a,b,l));j=c.createRadialGradient(n,m,k,a,b,l)}else j=c.createLinearGradient(e.x,e.y,f.x,f.y);for(var n=0,m=g.length;n<m;n++)j.addColorStop(h[n],d("KeyframesCanvasUtils").getCanvasStyle(g[n]));return j}function t(a,b,e,f,g,h,i,j,k){k===void 0&&(k=l);if(i<Math.max(h.fromProgress(),0)||i>Math.min(h.toProgress(),1))return;try{j&&j.maybeInstantiatePluginsForLayer(h)}catch(a){}a=a;var n,o=h.isTrackMatte(),p=h.trackMatteType();if(o||p!==0){var q=a.getTransform();n=b.getCanvas();n.ctx.setTransform(q.a,q.b,q.c,q.d,q.e,q.f);n.isTrackMatte=o;n.trackMatteType=p;n.ctx.globalCompositeOperation=m;a=n.ctx}a.save();q=h.position();if(q){o=d("KeyframesTween").tweenPointOnPath(i,q);p=o.x;q=o.y;a.translate(p,q)}else{o=h.xPosition();o&&a.translate(d("KeyframesTween").maybeTweenScalar(i,o),0);p=h.yPosition();p&&a.translate(0,d("KeyframesTween").maybeTweenScalar(i,p))}q=h.rotation();q&&a.rotate(d("KeyframesTween").maybeTweenScalar(i,q));o=h.scale();if(o){p=d("KeyframesTween").maybeTweenPoint2(i,o);q=p.x;o=p.y;a.scale(q,o)}p=h.anchorPoint();if(p){q=d("KeyframesTween").maybeTweenPoint2(i,p);o=q.x;p=q.y;a.translate(-o,-p)}q=h.opacity();q=q!=null?d("KeyframesTween").maybeTweenScalar(i,q):1;a.globalAlpha=q*k;o=!1;if(j){p=j.getPluginsForLayer(h.id());if(p)for(var r=0;r<p.length;r++)p[r].render(a,i),o=o||p[r].rendersLayer}h.clippingPath()&&(d("KeyframesCanvasUtils").drawPath(a,d("KeyframesTween").maybeTweenPath(i,h.clippingPath())),a.clip());if(!o&&h.path()){d("KeyframesCanvasUtils").drawPath(a,d("KeyframesTween").maybeTweenPath(i,h.path()));r=h.gradient();p=h.fillColor();o=!1;var u=!1;r?(a.fillStyle=s(i,r,a),o=!0):p&&(a.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(d("KeyframesTween").maybeTweenColor(i,p)),o=!0);if(h.strokeWidth()){r=d("KeyframesTween").maybeTweenScalar(i,h.strokeWidth());r>0&&(a.strokeStyle=d("KeyframesCanvasUtils").getCanvasStyle(d("KeyframesTween").maybeTweenColor(i,h.strokeColor())),a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[h.strokeLineJoin()],a.lineCap=d("KeyframesCanvasUtils").getCanvasLineCap(h.strokeLineCap()),a.lineWidth=r,u=!0)}h.vectorCompositeOrder()===0?(o&&a.fill(),u&&a.stroke()):(u&&a.stroke(),o&&a.fill())}p=h.bitmapIndex();r=e[p];r&&r.width!==0&&r.height!==0&&a.drawImage(r,0,0);u=h.videoIndex();o=f[u];o!=null&&a.drawImage(o,0,0,o.width,o.height);p=h.subdocumentIndex();if(g[p]){r=g[p].doc.size();a.save();a.beginPath();a.rect(0,0,r.width(),r.height());a.clip();t(a,b,g[p].bitmaps,g[p].videos,g[p].subassets,g[p].doc.rootLayer(),i-h.progressOffset(),g[p].pluginsLoader,q*k);a.restore()}var v;for(var u=0;u<h.sublayersLength();u++){o=t(a,b,e,f,g,h.sublayers(u),i,j,q*k);if(!v&&o&&o.trackMatteType!==void 0)v=o;else if(v&&o&&o.isTrackMatte!==void 0){r=a.getTransform();a.setTransform(1,0,0,1,0,0);v.ctx.setTransform(1,0,0,1,0,0);p=o;v.ctx.globalCompositeOperation=c("KeyframesTrackMattes")[v.trackMatteType===void 0?1:v.trackMatteType];v.ctx.drawImage(p.canvas,0,0);a.drawImage(v.canvas,0,0);a.setTransform(r.a,r.b,r.c,r.d,r.e,r.f);v=void 0;p=void 0}else v&&!o?(a.drawImage(v.canvas,0,0),v=void 0,p=void 0):o&&o.isTrackMatte!==void 0&&(v=void 0,p=void 0)}a.restore();return n}e=function(){function a(a,e){var f=this;this.$5=0;this.$6=0;this.$8=!1;this.$9=!1;this.$10=!1;this.$11=0;this.$16=!1;this.$17=0;this.$18=1;this.$19=1;this.$21=1;this.$22=0;this.$26=function(a){(f.$12||f.$15)&&f.$34(a),!f.$16?f.redrawIfNeeded():(f.$10&&f.$32(),f.$24.renderProgress(f.$11),f.$33(f.$11),f.$11+=a/f.$5,f.$14&&f.$14.callOrIgnoreThrottled(f.$17),f.$11>=f.$21&&(f.$11%=f.$21,f.$19=Math.max(0,f.$19-1),f.$15&&f.$15.finish(),f.$19===0?f.pause():(f.$24.seekToProgress(0),f.$15&&f.$15.start(),f.$11+=f.$22),f.$13&&f.$13(f.$19),f.$30()))};this.$33=n(function(a){a>=0&&a<=1||h(0,750,a),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&q(this.$1,a,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),t(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,a,this.$1.pluginsLoader),this.$17=a,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()");this.$32=n(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()");this.$23=new(c("KeyframesDimensions"))(a.doc.size().width(),a.doc.size().height());this.$4=new(c("KeyframesCanvasPool"))(this.$23);this.$2=document.createElement("canvas");this.$3=c("nullthrows")(this.$2.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3);this.$7=new(c("KeyframesLoop"))(this.$26);this.$15=e;this.$24=new(c("KeyframesVideoManager"))(a);this.setDecodedAsset(a);this.$27();this.$25=b("Promise").resolve()}var e=a.prototype;e.play=function(){this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start());return this};e.pause=function(){this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17)));this.$24.pause();this.$29(this.$24.seekToProgress(this.$17));q(this.$1,this.$17,this.$16,this.$8);return this};e.isPlaying=function(){return this.$16};e.isFinished=function(){return this.$19===0};e.isMuted=function(){return this.$8};e.mute=function(){this.$8=!0,this.$24.mute()};e.unMute=function(){this.$8=!1,this.$24.unMute()};e.repeatCount=function(a){this.$18=this.$19=Math.max(1,a);return this};e.repeatForever=function(){return this.repeatCount(Infinity)};e.getRepeatsRemaining=function(){return this.$19};e.seekToProgress=function(a){var b=this;a>=0&&a<=1||h(0,749,a);this.$14&&this.$14.resetThrottling();this.$17=this.$11=a;this.$29(this.$24.seekToProgress(a).then(function(){return b.$28()}));a===0&&this.$30();this.$28();return this};e.setStartAndEndAt=function(a,b){if(a>=b)throw new Error("Cannot set the start time before the end time.");else if(b<=a)throw new Error("Cannot set the end time before the start time.");this.$22=a;this.$21=b;return this};e.setStartAt=function(a){if(a>=this.$21)throw new Error("Cannot set the start time before the end time.");this.$22=a;return this};e.setEndAt=function(a){if(a<=this.$22)throw new Error("Cannot set the end time before the start time.");this.$21=a;return this};e.getDuration=function(){return this.$5};e.getFrameRate=function(){return this.$6};e.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]};e.getWidth=function(){return this.$23.width.logical};e.getHeight=function(){return this.$23.height.logical};e.setWidth=function(a){this.$23.setWidth(a);this.$27();return this};e.setHeight=function(a){this.$23.setHeight(a);this.$27();return this};e.getDecodedAsset=function(){return babelHelpers["extends"]({},this.$1)};e.setDecodedAsset=function(a){this.$1=a;this.$5=a.doc.duration()*1e3;this.$6=a.doc.frameRate();this.$20=a.doc.rootLayer();this.$24=new(c("KeyframesVideoManager"))(a);this.$28();this.$31();return this};e.resetDimensions=function(){this.$23.reset();this.$27();return this};e.onError=function(a){this.$12=a;return this};e.onRepeatEnd=function(a){this.$13=a;return this};e.onProgress=function(a,b){this.$14=a&&new o(a,b);return this};e.getProgress=function(){return this.$17};e.getElement=function(){return this.$2};e.hasPerformanceLogging=function(){return!!this.$15};e.redrawIfNeeded=function(){(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17));return this};e.waitForVideoUpdate=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$25);case 2:case"end":return a.stop()}},null,this)};e.$29=function(a){this.$25=a,c("promiseDone")(a)};e.$27=function(){this.$10=!0,this.$28()};e.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)};e.$31=function(){p(this.$1,function(a){return a.animationDidLoad()})};e.$30=function(){var a=this;p(this.$1,function(b){return b.animationWillRepeat(a.$11,a.$19)})};e.$34=function(a){a=Math.round(a/k-1);a>0&&(this.$15&&this.$15.addFrameDrop(a),this.$12&&this.$12(j.ERROR_FRAMEDROP,a))};return a}();f.exports=e},34,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("validateTrackingCode",[],function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&typeof a==="object"&&a.click_tracking_linkshim_cb!=null&&a.encrypted_click_tracking!=null&&a.encrypted_tracking!=null?a:null}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("validateAggregatedStoryTrackingNodeIndex",[],function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&typeof a==="number"?a:0}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometFullScreen",["Promise"],function(a,b,c,d,e,f){"use strict";function a(a){var c=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;return typeof c==="function"?c.call(a):b("Promise").reject()}function c(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof a==="function"?a.call(document):b("Promise").reject()}function d(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen==="function"||typeof document.mozCancelFullScreen==="function"||typeof document.msExitFullscreen==="function"||typeof document.exitFullscreen==="function")}function g(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function e(){return g()!=null}function h(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function i(a){var b=window.document,c=!1,d=!0;h().forEach(function(e){b.addEventListener(e,a,{capture:c,passive:d})});return function(){h().forEach(function(d){b.removeEventListener(d,a,c)})}}f.requestFullScreen=a;f.exitFullScreen=c;f.isSupported=d;f.getFullScreenElement=g;f.isFullScreen=e;f.getFullScreenChangeEventNames=h;f.subscribeToFullScreenChangeEvent=i},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useEventCallbackOn",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c){h(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function j(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var k=b();function l(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=j();return d||(b?!1:!c)}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=i(function(){return l(d)}),f=e[0],g=e[1],j=!!b&&b.scrollTerminatesBackgrounded===!0;e=h(function(){g(l(d))},[g,d]);b=e;var m=h(function(){var a=l(d);a&&j&&f&&g(!1)},[f,d,j]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,k,e);c("useEventCallbackOn")(a.window,"scroll",m);return f}g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.isDesktopPictureInPicture,e=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:c,children:h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:e,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("wrapWithContextProviders",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return h.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:1269159","react","setTimeout","wrapWithContextProviders"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState;function m(a){var b=k(a);j(function(){b.current=a},[a]);var d=l(!1),e=d[0],f=d[1];d=l(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=c("setTimeout")(function(){f(!0)},b.current);a=function(){c("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;j(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function n(){var a=l(!1),b=a[0],c=a[1];a=3e3;a=m(a);var d=a.isIdle,e=a.pingNotIdle;a=i(function(){c(!0),e()},[e]);var f=i(function(){c(!1),e()},[e]),g=i(function(){c(!0),e()},[e]),h=i(function(){e()},[e]),j=i(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:h,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:j}}function o(a){var b=n(),e=b.isHovering,f=b.isIdle,g=b.onMouseDown,i=b.onMouseEnter,j=b.onMouseLeave,k=b.onMouseMove;b=b.onMouseUp;var l=d("VideoPlayerHooks").useIsFullscreen();return h.jsx("div",babelHelpers["extends"]({className:"mfclru0v ekq1a7f9 s8sjc6am pytsy3co"+(l&&f?" jxk1r9t9":"")},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:g,onMouseEnter:i,onMouseLeave:j,onMouseMove:k,onMouseUp:b,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:e,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:f,children:a.children})})}))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var f=a.adClientToken,g=a.audioAvailabilityInfo,i=a.autoplayGatingResult,j=a.broadcastStatus,k=a.canAutoplay,m=a.controller,n=a.dimensions,p=a.initialTracePolicy,q=a.instanceKey,r=a.isDesktopPictureInPicture,s=a.isFullscreen,t=a.isNCSR,u=a.isPremiumMusicVideo,v=a.lastMuteReason,w=a.lastPauseReason,x=a.lastPlayReason,y=a.originalHeight,z=a.originalWidth,A=a.videoFBID,B=a.videoPlayerPassiveViewabilityInfo,C=a.videoState,D=a.volumeSetting,E=C.activeCaptions,F=C.activeEmsgBoxes,G=C.availableVideoQualities,H=C.bufferEnd,I=C.captionDisplayStyle,J=C.captionsLoaded,K=C.captionsVisible,L=C.currentVideoQuality,M=C.duration,N=C.ended,O=C.error,P=C.inbandCaptionsAutogenerated,Q=C.inPlayStalling,R=C.isAbrEnabled,S=C.isExternalMedia,T=C.isLiveRewindActive,U=C.lastPlayedTimeMs,V=C.latencyLevel,W=C.loopCount,X=C.loopCurrent,Y=C.muted,Z=C.paused,aa=C.playerImplementationName,ba=C.playing,ca=C.seekableRanges,da=C.seeking,ea=C.selectedVideoQuality,fa=C.stalling,ga=C.streamInterrupted,ha=C.targetAudioQuality,ia=C.targetPlaybackRate,ja=C.targetVideoQuality,$=C.volume;C=C.watchTimeMs;e=h.jsx(o,{children:e});$=l($);var ka=$[0];$=$[1];b("cr:1269159")(q,{controller:m,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:B});a=d("wrapWithContextProviders").wrapWithContextProviders(e,[d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VideoFBIDContext,A),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StallingContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayingContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InPlayStallingContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BufferEndContext,H),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastMuteReasonContext,v),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayReasonContext,x),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPauseReasonContext,w),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PausedContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CurrentVideoQualityContext,L),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").MutedContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeContext,{setVolume:$,volume:ka}),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SelectedVideoQualityContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekingContext,da),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DurationContext,M),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").EndedContext,N),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ErrorContext,O),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DimensionsContext,n||null),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InstanceKeyContext,q),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ControllerContext,m),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AvailableVideoQualitiesContext,G),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayerImplementationNameContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsAbrEnabledContext,R),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").TargetAudioQualityContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").TargetVideoQualityContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlaybackRateContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CanAutoplayContext,k),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeSettingContext,D),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AutoplayGatingResultContext,i),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BroadcastStatusContext,j),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCountContext,W),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCurrentContext,X),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AdClientTokenContext,f),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveCaptionsContext,E),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsVisibleContext,K),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionDisplayStyleContext,I),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsLoadedContext,J),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,P),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StreamInterruptedContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").WatchTimeContext,C),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayedTimeContext,U),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekableRangesContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LatencyLevelContext,V),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsLiveRewindActiveContext,T),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AudioAvailabilityInfoContext,g),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsNCSRContext,t),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsPremiumMusicVideoContext,u),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InitialTracePolicyContext,p),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveEmsgBoxesContext,F),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsExternalMediaContext,S),function(a){return h.jsx(d("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:y,originalWidth:z,children:a})},function(a){return h.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:r,isFullscreen:s,videoPlayerPassiveViewabilityInfo:B,children:a})}]);return h.jsx("div",{"data-instancekey":q,"data-testid":void 0,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=h.memo(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(){return"id-pv-"+c("cometUniqueID")()}function b(a){if(typeof a==="string"){var b="id-pv-";if(a.indexOf(b)===0&&a.length>b.length)return a;else throw c("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+c("cometUniqueID")()}g.makeVideoID=a;g.ensureVideoID=b;g.makePlaceID=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;e=function(a,b){var e=c("usePrevious")(a);h(function(){a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},[a,e,b])};f=function(a,b){var c=i(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))};var j=c("gkx")("1375802")?f:e;function a(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),g=e!=null&&f!=null,k=(g||c!=null)&&(b||a!=null),l=i(function(){return d("GlobalVideoPortsID").makePlaceID()});l=l[0];var m=i(function(){return d("GlobalVideoPortsID").makeVideoID()}),n=m[0];m=m[1];b=k&&b&&a!=null;a=b&&a!=null?a:n;j(b,m);h(function(){k&&!g&&c&&c()},[g,k,c]);return{canBecomePortableLater:k,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}g.useRegenerateUniqueVideoID_exportedForTest=j;g.useVideoPlayerPortalingPlaceState=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","killswitch","qex","react","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext;e=b.useEffect;var j=b.useRef,k=b.useState,l=c("qex")._("109")||c("qex")._("110")?e:c("useLayoutEffect_SAFE_FOR_SSR"),m=c("qex")._("109")||c("qex")._("111")?e:c("useLayoutEffect_SAFE_FOR_SSR");function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,n=a.globalVideoPortsManager,o=a.globalVideoPortsState_DEPRECATED,p=a.implementations,q=a.isFullscreen,r=a.portablePlaceMetaData,s=a.previousPlaceMetaData,t=a.renderComponents,u=a.renderPlaceholder,v=a.thisPlaceID,w=a.trackingDataEncrypted,x=a.trackingNodes,y=a.viewportMarginsForViewability;a=k(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var z=a[0],A=j(null);l(function(){n.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:p,injectCoreVideoStatesRef:A,isFullscreen:q,portablePlaceContainer:z,portablePlaceID:v,portablePlaceMetaData:r,portableVideoID:f,renderComponents:t,renderPlaceholder:u,trackingDataEncrypted:w,trackingNodes:x,viewportMarginsForViewability:y})},[].concat(c("getOwnObjectValues")(b),[f,g,q,n,z],c("getOwnObjectValues")(r||{}),[t,u,v,w,x,y]));m(function(){return function(){n.removePlace({portablePlaceID:v})}},[n,v]);a=i(c("BaseContextualLayerAnchorRootContext"));var B=j(null);return h.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:q&&!c("killswitch")("WORKPLACE_VIDEO_FULLSCREEN_CONTEXT_LAYER_ROOT")?B:a,children:[h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:z},v),h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:o!=null?(a=(a=n.getCurrentPlaceStateForVideo(o,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:A,previousPlaceMetaData:o!=null?(e=(a=n.getPortableVideoState(o,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:s,renderComponents:t,thisPlaceID:v}),h.jsx("div",{ref:B})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","gkx","react","recoverableViolation","useStable"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState,m={bottom:0,left:0,right:0,top:0},n=h.forwardRef(function(a,b){var c=a.children;a=a.debugRole;return h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:b,children:c})});function a(a){var b=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,o=a.renderComponents,p=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);j(function(){return function(){}},[]);var q=f!=null?d("GlobalVideoPortsID").ensureVideoID(f):null;f!=null&&q==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(f)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");f=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:e,portalingFromVideoID:q});e=f.canBecomePortableLater;q=f.currentVideoID;var r=f.globalVideoPortsManager,s=f.globalVideoPortsState;f=f.thisPlaceID;var t=i(c("BaseViewportMarginsContext")),u=k(null),v=c("useStable")(function(){return d("VideoPlayerFullscreenController").createFullscreenController(u)}),w=l(v.getIsFullscreen()),x=w[0],y=w[1];j(function(){var a=v.subscribe(function(){var a=v.getIsFullscreen();y(a)});y(v.getIsFullscreen());return function(){a.remove()}},[v,y]);w=i(c("CometTrackingNodesContext"));w=w.join("");var z=i(c("CometTrackingCodeContext"));z=(z=z.encrypted_tracking[0])!=null?z:"";t=x?m:t;if(!e)return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:q,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:f,children:h.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:v,implementations:b,isFullscreen:x,renderWithCoreVideoStates:o,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t}))})});if(r&&s){return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentPlaceID:c("gkx")("4184")?(e=(e=r.getCurrentPlaceStateForVideo(s,q))==null?void 0:e.portablePlaceID)!=null?e:null:null,currentVideoID:q,fullscreenController:v,globalVideoPortsManager:r,globalVideoPortsState_DEPRECATED:c("gkx")("4184")?null:s,implementations:b,isFullscreen:x,portablePlaceMetaData:g,previousPlaceMetaData:c("gkx")("4184")?(b=(e=r.getPortableVideoState(s,q))==null?void 0:e.previousPlaceMetaData)!=null?b:null:null,renderComponents:o,renderPlaceholder:p,thisPlaceID:f,trackingDataEncrypted:z,trackingNodes:w,viewportMarginsForViewability:t})})}else return h.jsx(n,{debugRole:null,ref:u,children:h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:q,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:p,thisPlaceID:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerTracePolicyContext",["react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext;c={initialTracePolicy:null,routeTracePolicy:null};var i=b.createContext(c);function a(){return h(i)}g.VideoPlayerTracePolicyContext=i;g.useVideoPlayerTracePolicy=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.children,c=a.initialTracePolicy,e=a.routeTracePolicy;a=j(c);var f=a[0],g=a[1];a=j(e);var k=a[0],l=a[1];i(function(){f!==c&&g(c),k!==e&&l(e)},[c,e,f,k]);return h.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:k},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,j=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var k=i(function(a){return h.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:b}))},[b]);return h.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:h.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:g,renderComponents:k,renderPlaceholder:j}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzError","react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var d=b.prototype;d.componentDidCatch=function(a,b){b=b.componentStack;var d=c("getErrorSafe")(a);d.componentStack=b;b=this.props;var e=b.description,f=b.onError;b=b.project;a=a instanceof c("oz-player/utils/OzError")?a.getType():a!=null&&typeof a.name==="string"?a.name:d.name;d.name=a;a="VideoPlayerErrorBoundary caught an "+a;e!=null&&(a=a+" ("+e+")");e=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var g=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha"];e=e.every(function(a){return d.name!==a})&&g.every(function(a){return!d.message.startsWith(a)});g=c("FBLogger")(b==null?"comet_video_player":b).catching(d);e?g.fatal(a):g.warn(a);f!=null&&f(d)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("makeAudioSymbol",[],function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","makeAudioSymbol","react","useCometUniqueID","usePrevious"],function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useContext,i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(){var a=c("useCometUniqueID")(),b=d("VideoPlayerHooks").useInstanceKey(),e=j(function(){return c("makeAudioSymbol")(a,b)},[a,b]),f=d("CometAudioManagerHooks").useAudioApi(),g=k(f);i(function(){g.current=f},[f]);var m=d("VideoPlayerHooks").useController(),n=200,o=d("VideoPlayerHooks").useLastPlayReason(),p=d("VideoPlayerHooks").useLastMuteReason(),q=d("VideoPlayerHooks").useMuted();n=c("CometThrottle")(d("VideoPlayerHooks").useVolume,n,{trailing:!0});var r=n(),s=c("usePrevious")(r),t=d("VideoPlayerHooks").usePaused(),u=h(d("CometAudioManagerContexts").CometAudioLocalScopeContext),v=h(d("CometAudioManagerContexts").CometAudioGroupContext),w=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),x=d("VideoPlayerHooks").useVolumeSetting(),y=j(function(){return(v==null?void 0:v.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[v==null?void 0:v.groupID]);n=l(!0);var z=n[0];n=n[1];var A=j(function(){return{audioLocalScope:u,controller:m,groupID:y,instanceKey:b,lastMuteReason:p,lastPlayReason:o,muted:q,paused:t,previousVolume:s,symbol:e,videoPlayerPortalingPlaceInfo:w,volume:r}},[u,m,y,b,p,o,q,t,s,e,w,r]);i(function(){x!=null&&m.setVolume(x)},[m,x]);n=v||{allowSound:z,groupID:y,setAllowSound:n};var B=k(n);i(function(){f&&f.register(A,B.current);return function(){f&&f.unregister(e,y)}},[f,A,y,e]);i(function(){f&&f.update(A)},[f,A]);i(function(){!z&&g.current&&m.setMuted(!0,"audio_manager_initiated")},[z,g,m]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return h(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("evaluateVideoAutoplayDefaultAllowRule",[],function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("makeSelectedAutoplayVideoSymbol",[],function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AutoplayRulesEngine",[],function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a){var b=i(a),d=j(function(){return new(c("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];h(function(){b.current!==a&&f(function(){return new(c("AutoplayRulesEngine"))(a)})},[a]);h(function(){b.current=e.getRules()},[e]);return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],function(a,b,c,d,e,f,g){"use strict";var h="oz_www_";a={getBool:function(a,b){return d("VideoPlayerShakaGlobalConfig").getBool(h+a,b)},getNumber:function(a,b){return d("VideoPlayerShakaGlobalConfig").getNumber(h+a,b)},getString:function(a,b){return d("VideoPlayerShakaGlobalConfig").getString(h+a,b)}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState,i=5e3;function a(){var a=function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},b=h(a()),d=b[0],e=b[1];c("useInterval")(function(){return e(a())},i);return d}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","gkx","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=d("VideoPlayerHooks").useAdClientToken(),e=d("VideoPlayerHooks").useAutoplayGatingResult(),f=d("VideoPlayerHooks").useBroadcastStatus(),g=d("VideoPlayerHooks").useEnded(),n=d("VideoPlayerHooks").useIsExternalMedia(),o=d("VideoPlayerHooks").useIsFrozenPassive(),p=d("VideoPlayerHooks").useLastPauseReason(),q=d("VideoPlayerHooks").useLastPlayReason(),r=d("VideoPlayerHooks").useMuted(),s=d("VideoPlayerHooks").usePaused(),t=i(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);var v=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesBackgrounded:u}),w=c("useVideoPlayerBandwidthEstimate")(),x=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();a=m(t.getCurrentState().backgrounded);var z=a[0],A=a[1];u=m(t.getCurrentState().hidden);var B=u[0],C=u[1];j(function(){function a(a,b){C(a),A(b)}var b=t.subscribeToChanges(function(b){c("gkx")("1500552")?h(function(){var b=t.getCurrentState();a(b.hidden,b.backgrounded)}):a(b.hidden,b.backgrounded)}),d=t.getCurrentState().hidden,e=t.getCurrentState().backgrounded;c("gkx")("1500552")?h(function(){var b=t.getCurrentState();a(b.hidden,b.backgrounded)}):a(d,e);return function(){b.remove()}},[t,A,C]);a=m(function(){return o.getCurrentState()});var D=a[0],E=a[1];j(function(){var a=o.subscribeToChanges(function(a){E(a)}),b=o.getCurrentState();E(b);return function(){a.remove()}},[o,E]);var F=k(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:w,broadcastStatus:f,controllerIsFrozen:D,currentSubtreeIsBackgrounded:z,currentSubtreeIsHidden:B,ended:g,hiddenSubtreePassive:t,isBackgrounded:v,isExternalMedia:n,isFrozenPassive:o,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:y,videoPlayerPassiveViewabilityInfo:x}},[b,e,w,f,D,z,B,g,t,v,n,o,p,q,r,s,y,x]);u=m(F);var G=u[0],H=u[1],I=l(G);j(function(){I.current=G},[G]);j(function(){var a=!1;for(var b in F)if(Object.prototype.hasOwnProperty.call(F,b)&&F[b]!==I.current[b]){a=!0;break}a&&H(F)},[F,H]);return G}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(){var a=c("useCometUniqueID")(),b=d("VideoPlayerHooks").useCanAutoplay(),e=d("VideoPlayerHooks").useInstanceKey(),f=k(function(){return c("makeSelectedAutoplayVideoSymbol")(a,e)},[a,e]),g=l(f);j(function(){g.current=f},[f]);var n=i(c("HiddenSubtreePassiveContext")),o=d("VideoPlayerHooks").useController(),p=l(!1),q=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();j(function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[ASSUME CONTROL] "+q),o.registerControllingComponent(q)},[o,q]);var r=d("VideoPlayerHooks").useVideoPlayerPassiveViewabilityInfo(),s=o.getCurrentState();s=s.paused;var t=l(s),u=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),v=l(u);j(function(){v.current=u},[u]);var w=h(function(){var a=o.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=t.current;t.current=a;var e=r==null?void 0:r.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;v.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(p.current=!0)}},[o,r]),x=l(w);j(function(){x.current=w},[w]);j(function(){var a=o.subscribe(function(){w()});return function(){a.remove()}},[o,w]);var y=c("useVideoAutoplayState")({noPauseOnBlurOrFocus:u.noPauseOnBlurOrFocus}),z=c("useAutoplayRulesEngine")(u.autoplayLocalRules),A=b==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");s=m(function(){return A});var B=s[0],C=s[1];s=m(null);var D=s[0],E=s[1];s=m(function(){return z.evaluateAutoplay(y,A)});var F=s[0],G=s[1];s=m(null);var H=s[0],I=s[1],J=l(F),K=d("VideoPlayerAutoplayHooks").useAutoplayApi(),L=l(K);j(function(){L.current=K},[K]);var M=b!=="dangerously_disable_autoplay_management";j(function(){K.register(f,e,u,o,n,M);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}});return function(){K.unregister(f),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}})}},[K,u,o,n,e,M,f]);j(function(){var a=function(){var b=z.evaluateAutoplay(y,A);J.current=b;var e=z.getRules(),h=z.getIndexOfLastWinningRule(),a=h>=0?e[h]:A;e=r&&r.getCurrent();h=o.getCurrentState();h=h.paused;(H===null||H!==b)&&(G(b),I(b));if(b==="PAUSE"&&!h&&o.isControllingComponent(q)){h=!0;x.current();if(p.current){p.current=!1;var i=e==null?void 0:e.positionToViewport;i&&o.scrollIntoView(i.top<0);h=!1}if(h){i="[PAUSE] via short-circuit on "+a.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(g.current,i);o.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}})}}(D===null||D!==a)&&(C(function(){return a}),E(function(){return a}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}}));d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[DECISION: "+b+"] from "+a.name);e&&K.update(f,b,e)},b=n.subscribeToChanges(function(a){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q)}),e=r?r.subscribe(function(){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q),a()}):null;a();return function(){b.remove(),e&&e.remove()}},[K,q,z,o,A,n,D,H,C,G,E,I,f,y,r]);j(function(){var a=o.isControllingComponent(q),b=o.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(F,J.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[PAUSE] the video for "+F),o.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:L.current.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:F}}))},[F,o,q]);j(function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[RELEASE CONTROL] "+q),o.unregisterControllingComponent(q)}},[o,q]);c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:B,autoplayApiRef:L,autoplayDecision:F,autoplayLocalScope:u,symbol:f});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WebSessionExtender",["WebSession","clearInterval","cr:913","setInterval"],function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react","useCometUniqueID"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("VideoPlayerHooks").usePlaying(),b=c("useCometUniqueID")();h(function(){if(a){d("WebSessionExtender").subscribe(b,"video");return function(){d("WebSessionExtender").unsubscribe(b)}}},[a,b]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("VideoPlayerHooks").useStalling(),b=d("VideoPlayerHooks").useStreamInterrupted(),c=d("VideoPlayerHooks").useIsLiveRewindActive();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","gkx","once","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),j=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("once")(function(){return c("gkx")("5900")?null:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{})})});function a(){var a=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),b=a.loadingIndicatorType;a=a.spinnerVisible;a=h.jsx(i,{isVisible:a});var d=null;switch(b){case"spinner":d=a;break;case"live_video_interrupted_overlay":d=k();break;case"none":default:d=a}return{loadingIndicatorElement:d,loadingIndicatorType:b}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1856513");c=b("FalcoLoggerInternal").create("cvc_v3_http_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CVCv3DisabledPlayerOrigins",[],function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CVCv3DisabledPlayerSubOrigins",[],function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a;this.$2=c("guid")();this.$3=((a=b)!=null?a:"null")+"::"+((b=d)!=null?b:"null");this.$4=null;this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","gkx","promiseDone","setTimeout"],function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}var b=!1;b||(b=this.$5?!0:c("gkx")("1124976"));if(!b){this.$1.logDebugInfo("ineligible_to_comet_cvc");return}if(a.playing){if(this.$2==null){b=this.$3.getPlayheadPosition();b>=0&&(this.$2=b)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10){this.$1.logDebugInfo("pending_promise");return}this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getPlayerFormatForLogData",[],function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.isFullscreen;return a===!0?"full_screen":b!=null?b:"inline"}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","qex","react","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";b=d("react").useEffect;var h=c("qex")._("109")?b:c("useLayoutEffect_SAFE_FOR_SSR");e=d("createVideoStateHook").createVideoStateHook(null);var i=e.setterHook;f=d("createVideoStateHook").createVideoStateHook(null);var j=f.setterHook;b=f.valueHook;function a(a){var b=a.disableSubscription,e=a.playerFormat,f=a.subOrigin,g=a.videoFBID,k=d("VideoPlayerHooks").useIsLive(),l=d("VideoPlayerHooks").useIsFullscreen(),m=d("VideoPlayerHooks").useIsDesktopPictureInPicture(),n=d("VideoPlayerHooks").useController(),o=i(),p=j();h(function(){if(b===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:g,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(g,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:m,isFullscreen:l},e),f,n,k,function(a){p(a)});o(a);return function(){a.destroy()}},[m,l,k,b,e,p,o,f,n,g])}e=b;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:1969470","cr:3916","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.disableCVCSubscription,g=a.disableLoadingIndicator;g=g===void 0?!1:g;var i=a.disableLogging,j=a.instreamVideoAdBreaksPlayer,k=a.playerFormat,l=a.subOrigin,m=a.videoFBID;a=a.videoPlayerSpherical;d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:i===!0||f,playerFormat:k,subOrigin:l,videoFBID:m});b("cr:1969470")();i=c("useVideoPlayerDefaultLoadingIndicators")();f=i.loadingIndicatorElement;return h.jsxs(h.Fragment,{children:[a,g?null:f,c("gkx")("1586633")?h.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,h.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[e,j]}),h.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),h.jsx(c("CoreVideoPlayerAudioClient.react"),{}),b("cr:1954434")?h.jsx(b("cr:1954434"),{}):null,b("cr:3916")?h.jsx(b("cr:3916"),{subOrigin:l}):null,h.jsx(c("VideoPlayerWebSessionExtender.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.disableCVCSubscription;d=d===void 0?!1:d;var e=a.disableLoadingIndicator,f=a.disableLogging,g=a.implementations,i=a.instreamVideoAdBreaksPlayer,j=a.portalingEnabled,k=a.portalingFromVideoID,l=a.portalingPlaceMetaData,m=a.portalingRenderPlaceholder,n=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableCVCSubscription","disableLoadingIndicator","disableLogging","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerSpherical"]);var o=c("usePlayerOriginRouteTracePolicy")(),p=c("useRouteProductAttribution")();p||(p=a.productAttribution);var q=a.loopCount,r=a.playerFormat,s=a.subOrigin,t=a.videoFBID;q=c("normalizeVideoPlayerLoopCount")(q);return h.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{disableLogging:f,implementations:g,loopCount:q,portalingEnabled:j,portalingFromVideoID:k,portalingPlaceMetaData:l,portalingRenderPlaceholder:m,productAttribution:p,routeTracePolicy:o,children:h.jsx(c("VideoPlayerXImplSurface.react"),{children:b,disableCVCSubscription:d,disableLoadingIndicator:e,disableLogging:f,instreamVideoAdBreaksPlayer:i,playerFormat:r,subOrigin:s,videoFBID:t,videoPlayerSpherical:n})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GraphQLVideoAutoplayGatingResult",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}f.makeGraphQLVideoAutoplayGatingResult=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getVideoPlayerAutoplayProps",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b!=null?b:"respect_user_settings";var d=b==="dangerously_always_autoplay";c=c!=null?c:"unknown";var e=a.autoplaySetting||"default_autoplay",f=e==="off";d=d||b==="respect_user_settings"&&!f&&a.canAutoplay;f=b==="do_not_autoplay"?c:a.autoplayGatingResult;c=d?"allow":b==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:f,autoplaySetting:e,canAutoplay:c}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptionsDisplay.react",["VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","recoverableViolation","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={captionsCenterAlign:{justifyContent:"jcxyg2ei",textAlign:"hsphh064"},captionsContainer:{bottom:"pvyllstp",boxSizing:"bdao358l",display:"alzwoclg",justifyContent:"jcxyg2ei",position:"s8sjc6am",textAlign:"hsphh064",transitionDuration:"c2pht4sg",transitionProperty:"iwr3bmeu",transitionTimingFunction:"iocvxrrm",width:"mfclru0v"},captionsDefault:{backgroundColor:"kl0yapha",color:"qsbzbi57",fontSize:"hpj0pwwo",fontWeight:"tpi2lg9u",lineHeight:"sw0eutg0",marginTop:"m8h3af8h",marginEnd:"o4wp8ij2",marginBottom:"kjdc1dyq",marginStart:"akdystqt",paddingTop:"acfrraoh",paddingEnd:"og1922w4",paddingBottom:"dis7vonl",paddingStart:"k5wxxa6s"},captionsLeftAlign:{justifyContent:"t5n4vrf6",textAlign:"ztn2w49o"},captionsRightAlign:{justifyContent:"siu44isn",textAlign:"tc5ow3dt"}},k={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},l={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},m={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function n(a){switch(a){case"center":return j.captionsCenterAlign;case"left":return j.captionsLeftAlign;case"right":return j.captionsRightAlign;default:c("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function o(a,b,c){var d={},e=a.captionsBackgroundColor,f=a.captionsBackgroundOpacity,g=a.captionsTextColor;a=a.captionsTextSize;if(e!==null){f=f!==null?l[f]:1;d.backgroundColor="rgba("+m[e]+","+f+")"}g!==null&&(d.color="rgba("+m[g]+")");a!==null&&(d.fontSize=b!=null?babelHelpers["extends"]({},k,b)[a]:k[a]);c&&(d.marginBottom=35);return d}function a(a){var b=a.activeCaptions,e=a.adjustments;a=a.captionDisplayStyle;var f=b==null?void 0:b.rows,g=i(c("VideoPlayerCaptionsDisplayConfigContext")),k=g.liveCaptionsTextAlignment;g=g.textSizeMapping;var l=i(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext);l=(l==null?void 0:l.getBottomRowAddOn())!=null;var m={};a&&(m=o(a,g,l));a=d("VideoPlayerHooks").useIsLive();b=(l=b==null?void 0:(g=b.styles)==null?void 0:g.textAlignment)!=null?l:"center";if(f!=null&&f.length>0){g=f.map(function(a){return a.trim()}).filter(function(a){return!!a});return g.length>0?h.jsx("div",{className:c("stylex")(j.captionsContainer,n(a?(l=k)!=null?l:b:b)),style:{paddingLeft:e.left,paddingRight:e.right,transform:"translateY("+-e.bottom+"px)"},children:h.jsx("div",{className:c("stylex")(j.captionsDefault),style:m,children:g.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);e=b;g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=d("VideoPlayerHooks").useVideoPlayerCaptionsReservations(),b=h(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a]);return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","useVideoPlayerCaptionsDisplayAdjustments"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("VideoPlayerHooks").useActiveCaptions(),b=c("useVideoPlayerCaptionsDisplayAdjustments")(),e=d("VideoPlayerHooks").useCaptionDisplayStyle();return h.jsx(c("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:b,captionDisplayStyle:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useReducer,j=b.useState;function k(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var b=i(k,[]),e=b[0],f=b[1];b=j({release:function(a){f({reservation:a,type:"release"})},reserve:function(a){f({reservation:a,type:"reserve"});return a}});b=b[0];var g=d("VideoPlayerHooks").useCaptionsVisible();return h.jsx(d("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:b,children:h.jsxs(d("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:e,children:[g?h.jsx(c("VideoPlayerCaptions.react"),{}):null,a]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerFallbackCover.react",["fbt","cr:1405514","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var c;c=(c=a.message)!=null?c:h._("__JHASH__dzG08k88Xfs__JHASH__");return i.jsx(b("cr:1405514"),{debugError:a.debugError,message:c,onRetry:a.onRetry})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","TetraText.react","gkx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=c("gkx")("1224637")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";return i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:i.jsx(c("CometLink.react"),{href:a,children:h._("__JHASH__GWeGP0j1NWF__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["TetraText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.debugError,e=a.message;a.onRetry;return h.jsx("div",{className:"ekq1a7f9 myo4itp8 s8sjc6am hf30pyar lq84ybu9 jcxyg2ei on4d8346 alzwoclg bdao358l z6erz7xo j6c2zbc3 i85zmo3j",children:h.jsxs("div",{className:"fixnzy7y cqf1kptm alzwoclg i85zmo3j",children:[h.jsx("div",{className:"gvxzyvdx cqf1kptm alzwoclg i85zmo3j",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:e})}),h.jsx("div",{className:"gvxzyvdx r6ydv39a cqf1kptm alzwoclg i85zmo3j",children:h.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})}),b("cr:4149")?h.jsx(b("cr:4149"),{error:d}):null,b("cr:1672302")?h.jsx(b("cr:1672302"),{error:d}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerRetryableErrorBoundary.react",["VideoPlayerErrorBoundary.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState;function a(a){var b=a.children,d=a.description,e=a.fallback;a=j(0);var f=a[0],g=a[1],k=i(function(){g(function(a){return a+1})},[]);a=i(function(a){return f>=3?e({error:a,retry:null}):e({error:a,retry:k})},[e,k,f]);return h.jsx(c("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:b},f)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useDebouncedValue",["react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(a,b){var c=i(a),d=c[0],e=c[1];h(function(){var c=setTimeout(function(){return e(a)},b);return function(){return clearTimeout(c)}},[a,b]);return d}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","react","stylex","useDebouncedValue"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=36;function a(a){a=a.isVisible;var b=c("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:c("stylex")({"height-1":"jvc6uz2b","opacity-1":"cdum9rwi","position-1":"s8sjc6am","start-1":"py3ibqi0","top-1":"qy9lpsl4","transform-0.1":"gaei4kxk","transition-delay-1":"aqc5ndet","transition-duration-1":"stbk2h74","transition-property-1":"ldembo95","transition-timing-function-1":"huod7gpi","width-1":"g90fjkqk"},a?null:{"opacity-1":"jkp44r48","transition-delay-1":"cczqipu1","transition-duration-1":"stbk2h74","transition-property-1":"rhiv3dam","transition-timing-function-1":"huod7gpi","visibility-1":"qpyp3sab"}),children:h.jsx(c("CometLoadingAnimation.react"),{animationPaused:!b,size:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerSurface.react",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children!=null?this.props.children:null};return b}(a.PureComponent);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useIsFullscreen(),l=d("VideoPlayerHooks").useLastMuteReason();a=k?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__");var m=function(){b&&b(),g.requestSetIsFullscreen(!k),f===!0&&l!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})};return j.jsx(c("VideoPlayerControlIcon.react"),{icon:k?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:m,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useIsHovering(),l=d("VideoPlayerHooks").usePaused(),m=d("VideoPlayerHooks").useIsMouseIdle(),n=d("VideoPlayerHooks").useVideoPlaybackEnded(),o=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",k&&!m,a);k=i(e===!0);var p=k[0],q=k[1];h(function(){if(!l&&p){var a=c("setTimeout")(function(){q(!1)},j);return function(){c("clearTimeout")(a)}}},[p,l]);b===!0||b===!1?m=b:o?m=!1:f>0||p?m=!0:l?m=g?n:!0:m=!1;return{isControlsVisible:m,onUserInteraction:a}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),l=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.forceVisible,g=a.forceVisibleOnMount,m=a.mutedButtonVisibility,n=a.pictureInPictureControl,o=a.renderExpandControl,p=a.shouldRenderCostreamControl,q=a.shouldRenderLivePauseControl,r=a.shouldRenderModeratorControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.shouldUnmuteForBigPlayButton,v=a.skipControl,w=a.subOrigin,x=a.video;a=a.videoTahoeUrl;x=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),x);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var y=j();y=y!=null?y.isSilentAtPlayhead:!1;var z=d("VideoPlayerHooks").useMuted(),A=d("VideoPlayerHooks").useIsLive();g=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:f,forceVisibleOnMount:g});var B=g.isControlsVisible;g=g.onUserInteraction;f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f===!1?!1:void 0,shouldUnmute:u});u=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;B=B&&!f&&e;e=m===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?B:(z||B||y)&&!f;m=o!=null?o({onUserInteraction:g}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g});z=A?i.jsx(k,{expandControl:m,isControlsVisible:B,isVolumeControlVisible:e,onUserInteraction:g,pictureInPictureControl:n,shouldRenderCostreamControl:p,shouldRenderModeratorControl:r,shouldRenderPauseControl:q,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,subOrigin:w,video:x,videoTahoeUrl:a}):i.jsx(l,{expandControl:m,isControlsVisible:B,isVolumeControlVisible:e,onUserInteraction:g,pictureInPictureControl:n,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,skipControl:v,subOrigin:w,video:x,videoTahoeUrl:a});return i.jsxs(i.Fragment,{children:[u,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:z})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","useFeedClickEventHandler"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){a=a===void 0?{}:a;var b=a.shouldUnmute;a=d("VideoPlayerHooks").usePaused();var e=d("VideoPlayerHooks").useController(),f=d("VideoPlayerHooks").useLastMuteReason(),g=i(function(){e.play("user_initiated"),b===!0&&f!=="user_initiated"&&e.setMuted(!1,"product_initiated")},[e,f,b]);g=c("useFeedClickEventHandler")(g);a=a;return a?{ariaLabel:h._("__JHASH__hpqc6JvA6ND__JHASH__"),handler:g,overlayLabel:""}:null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("defaultErrorBoundaryFallback",["fbt","VideoPlayerFallbackCover.react","gkx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return a&&c("gkx")("1792489")?a.message.toLowerCase().indexOf("audio_renderer_error")>=0:!1}function a(a){var b=a.error;a=a.retry;var d=j(b),e=null;a=a;d&&(e=h._("__JHASH__32piJ10frlX__JHASH__"),a=null);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b,message:e,onRetry:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerProgressiveImplementationData",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.hdSrc,c=a.hdSrcPreferred,d=a.isExternalMedia;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,isExternalMedia:d,sdSrc:a}}f.makeProgressiveImplementationData=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("DataViewReader",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(a){a===void 0&&(a=!1);return this.$2.getUint16(this.skip(16/8),a)};b.readUint32=function(a){a===void 0&&(a=!1);return this.$2.getUint32(this.skip(32/8),a)};b.readUint64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getUint32(this.skip(32/8),!0),b=this.$2.getUint32(this.skip(32/8),!0)):(b=this.$2.getUint32(this.skip(32/8)),a=this.$2.getUint32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*b+a};b.readInt64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getInt32(this.skip(32/8),!0),b=this.$2.getInt32(this.skip(32/8),!0)):(b=this.$2.getInt32(this.skip(32/8)),a=this.$2.getInt32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(b|0)+a};b.readInt16=function(a){a===void 0&&(a=!1);return this.$2.getInt16(this.skip(16/8),a)};b.readInt32=function(a){a===void 0&&(a=!1);return this.$2.getInt32(this.skip(32/8),a)};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743810");c=b("FalcoLoggerInternal").create("live_trace_www_video_player",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Mp4DASHEventMessageBox",[],function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=b,this.$2=null,b.getVersion()==0?this.$2={version:0,schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b)),timescale:a.readUint32(),presentationTimeDelta:a.readUint32(),eventDuration:a.readUint32(),id:a.readUint32()}:b.getVersion()==1&&(this.$2={version:1,timescale:a.readUint32(),presentationTime:a.readUint64(),eventDuration:a.readUint32(),id:a.readUint32(),schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b))}),this.$3=new DataView(a.getDataView().buffer,a.getCursor())}var b=a.prototype;b.getFullBox=function(){return this.$1};b.getEmsgFields=function(){return this.$2};b.getMessageData=function(){return this.$3};b.getStartTime=function(){var a=this.$2;if(a==null)return null;switch(a.version){case 0:return null;case 1:return this.$5(a)}};b.getDuration=function(){var a=this.$2;if(a==null)return null;var b=a.eventDuration;a=a.timescale;return a!==0?b/a:b};b.$5=function(a){var b=a.timescale;a=a.presentationTime;return b!==0?a/b:a};b.$4=function(a,b){a=b.getBox().getSize()-(a.getCursor()-b.getBox().getStart());return a};return a}();a.canonicalType="emsg";f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Mp4Box",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$4=a.getCursor(),this.$1=a.readUint32(),this.$2=a.readChars(4),this.$1===1?this.$1=a.readUint64():this.$1===0&&(this.$1=a.getDataView().byteLength-this.$4),this.$2==="uuid"&&(this.$3=a.readChars(16)),this.$5=a.getCursor()}var b=a.prototype;b.getBodyStart=function(){return this.$5};b.getBodySize=function(){var a=this.$5-this.$4;return this.getSize()-a};b.getSize=function(){return this.$1};b.getType=function(){return this.$2};b.getUuid=function(){return this.$3};b.getStart=function(){return this.$4};b.inspect=function(){return"{ size: "+this.$1+", type: "+this.$2+" }"};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Mp4FullBox",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a.readUint8(),this.$1=a.readUint8(),this.$1=a.readUint8()+(this.$1<<8),this.$1=a.readUint8()+(this.$1<<8),this.$3=b}var b=a.prototype;b.getVersion=function(){return this.$2};b.getFlags=function(){return this.$1};b.getBox=function(){return this.$3};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Mp4Demuxer",["DataViewReader","Mp4Box","Mp4FullBox"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(c("DataViewReader"))(a)}var b=a.prototype;b.parseBox=function(){return new(c("Mp4Box"))(this.$1)};b.parseFullBox=function(a){return new(c("Mp4FullBox"))(this.$1,a)};b.parseCanonicalBox=function(a,b){return new a(this.$1,b)};b.skipBox=function(a){this.$1.seek(a.getStart()+a.getSize())};b.withinBox=function(a){var b=this.$1.getCursor();return b>=a.getStart()&&b<a.getStart()+a.getSize()};b.atEnd=function(){return this.$1.getCursor()>=this.$1.getDataView().byteLength};b.reset=function(){this.$1.seek(0)};b.readBoxBodyText=function(a){this.$1.seek(a.getBodyStart());var b=new TextDecoder();a=new Uint8Array(this.$1.readBytes(a.getBodySize()));return b.decode(a)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoLiveTrace",["DataViewReader","LiveTraceWwwVideoPlayerFalcoEvent","Mp4DASHEventMessageBox","Mp4Demuxer","throttle"],function(a,b,c,d,e,f,g){var h="x-fb-video-livetrace-ids",i="x-fb-video-livetrace-parentsource",j="x-fb-video-livetrace-streamtype",k="x-fb-origin-hit",l="x-fb-edge-hit",m="PLY:WWW:",n=m+"DL:",o=m+"DIS:",p=1e3,q=/[\r\n]+/;a=function(){function a(a,b,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+b.substring(0,5);this.$3=m+a;this.$4=n+a;this.$5=o+a;this.$7=c("throttle")(function(a){return e.$8(a)},p)}var b=a.prototype;b.setStreamType=function(a){this.$2=a};b.$9=function(a,b,d,e,f,g){var h,i=this,j=Date.now(),k=(h=this.$2)!=null?h:0;c("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i.$1,stream_type:k,event_name:b,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};b.onUpdateStatus=function(a){this.$7(a)};b.$8=function(a){a=a.position*1e3;for(var b=this.$6.length-1;b>=0;b--){var c=this.$6[b];if(c.presentationTimestamp>a)continue;if(c.displayTimestamp==null)c.displayTimestamp=Date.now();else continue;this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};b.getAndFlushTracedFrames=function(){var a,b={currentTimeMs:Date.now(),streamId:this.$1},c={dl:[],dis:[]},d=[];this.$6.forEach(function(a){a.hasBeenFlushedAsDownloaded||(c.dl.push({id:a.traceId,timeMs:a.downloadTimestamp}),a.hasBeenFlushedAsDownloaded=!0),a.displayTimestamp!=null?c.dis.push({id:a.traceId,timeMs:a.displayTimestamp}):d.push(a)});this.$6=d;b[(a=this.$2)!=null?a:0]=c;return c.dl.length>0||c.dis.length>0?b:null};b.handleHeadersString=function(a,b){a=a.trim().split(q);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};b.handleHeaders=function(a,b){this.$10(this.$11(a),b)};b.handleHeadersAndBody=function(a,b,c){this.$12(this.$11(a),b,c)};b.$11=function(a){var b=[];for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(e)}return b};b.$13=function(a){var b=Date.now(),d=new Map(),e=a.reduce(function(a,b){return a+b.byteLength},0),f=new Uint8Array(e),g=0;a.forEach(function(a){f.set(a,g),g+=a.byteLength});e=new(c("Mp4Demuxer"))(new DataView(f.buffer,f.byteOffset,f.byteLength));while(!e.atEnd()){a=e.parseBox();if(a.getType()===c("Mp4DASHEventMessageBox").canonicalType){var h=e.parseCanonicalBox(c("Mp4DASHEventMessageBox"),e.parseFullBox(a));if(h instanceof c("Mp4DASHEventMessageBox")){var i;i=(i=h.getEmsgFields())==null?void 0:i.schemeIdUri;if(i==null?void 0:i.startsWith("livedash:trace:")){i=h.getMessageData();h=new(c("DataViewReader"))(i).readZeroTerminatedString(i.byteLength);try{i=JSON.parse(h);Array.isArray(i)&&i.filter(function(a){return Array.isArray(a)&&a.length===2}).forEach(function(a){var c=a[0];a=a[1];d.set(c,{displayTimestamp:null,downloadTimestamp:b,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:c})})}catch(a){}}}}e.skipBox(a)}return d};b.$14=function(a,b){var c=this,d="null",e=Date.now(),f=new Map(),g="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===h&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.set(b,{displayTimestamp:null,downloadTimestamp:e,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:b})})}b===i&&(g=a);c.$2===null&&b===j&&(c.$2=parseInt(a,10));(b===k||b===l)&&parseInt(a,10)&&(d=b===k?"origin":"edge")});a=b||{};a.hit=d;return g!==""?{tracedFrames:f,eventMetaData:a,parentSource:g,streamType:this.$2}:null};b.$12=function(a,b,c){var d=this.$14(a,c);if(d==null||d.parentSource==="")return;if(b==null?void 0:b.length){a=this.$13(b);a.forEach(function(a,b){d.tracedFrames.set(b,a)})}this.$6=this.$6.concat(Array.from(d.tracedFrames.values()));c=d.tracedFrames.keys();for(var b=c,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=b.length)break;e=b[c++]}else{c=b.next();if(c.done)break;e=c.value}e=e;this.$9(this.$4,"SEGMENT",e,d.parentSource,"SUCCESS",d.eventMetaData)}};b.$10=function(a,b){this.$12(a,null,b)};b.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};b.getLiveTraceContext=function(){return this.$2!=null?{streamId:this.$1,streamType:this.$2,sourceId:this.$3}:null};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1914651");c=b("FalcoLoggerInternal").create("video_player_www",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getErrorMessageFromMediaErrorCode",[],function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getErrorNameFromMediaErrorCode",[],function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("isNullish",[],function(a,b,c,d,e,f){"use strict";function a(a){return a===void 0||a===null}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("shallowArrayEqual",["isNullish"],function(a,b,c,d,e,f,g){function a(a,b){if(a===b)return!0;if(c("isNullish")(a)||c("isNullish")(b)||a.length!==b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d]!==b[d])return!1;return!0}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoMimeTypes",[],function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}e="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),e);var h=a(g,c(30),e);c=a(g,c(31),e);var i=a(g,d(50),e);a=a(g,d(51),e);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};f["default"]=g},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerConnectionQuality",[],function(a,b,c,d,e,f){"use strict";var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a=function(a){if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;if(a!=null)for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b};f.evaluate=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerLoggerPlayerStates",[],function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getVideoBrowserTabId",["guid"],function(a,b,c,d,e,f,g){var h=c("guid")().slice(-8);function a(){return h}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],function(a,b,c,d,e,f){"use strict";function g(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();a=a==null?"progressive":g(a.hdSrc)||g(a.sdSrc)?"hls":"progressive";return a},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a};return a}f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableQualities:b,playingQuality:null,playingSrc:null,selectedQuality:c,targetQuality:c,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1512856","cr:1680308","emptyFunction","err","gkx","promiseDone","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction");function i(a,b,c){return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b,c)}function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n=function(){var a=m.current;a!=null&&(m.current=null,a())},o=function(a){n();var e=w();if(e==null)throw c("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw c("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");m.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return z.getCurrentState().controlledState.playbackState==="playing"||z.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){z.dispatch({payload:{domEventPerfTimestamp:null},type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){c("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),z.dispatch({payload:{domEventPerfTimestamp:null},type:"buffering_end_requested"})},onSourceSwitchStarted:function(){z.dispatch({payload:{bufferingType:"in_play"},type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=l.current;a!=null&&a.targetQuality!=null&&(l.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));z.dispatch({payload:{domEventPerfTimestamp:null},type:"buffering_end_requested"})},targetSrc:a,videoElement:e})},p={current:null},q=function(){var a=w(),e=k.current;if(a==null||e==null)return;c("gkx")("6737")&&a.addEventListener("error",function(){y(a.error,"progressive_implementation_error")});try{var f,h=e.graphQLVideoDRMInfo,i=e.videoFBID;f=h?(f=h.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&h&&f!=null&&i!=null){p.current=b("cr:1680308").newIfSupported(f,a,i,h.videoLicenseUriMap);if(p.current==null){f=c("err")("Fairplay not supported");y(f,"progressive_player_fairplay_handler_missing")}else p.current.addListener("error",function(a){a=c("err")(a.error);y(a,"progressive_player_fairplay_handler_error")})}var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a,g.isExternalMedia);A.current=j;l.current=e;i=v();x({inbandCaptionsAutogeneratedFromManifest:t.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:t.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:i==null?void 0:i.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:t.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:i==null?void 0:i.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:i==null?void 0:i.sideLoadCaptionsUrlFromProps});z.dispatch({payload:{availableQualities:t.getAvailableVideoQualities(),selectedVideoQuality:t.getUserSelectedVideoQuality(),streamingFormat:t.getStreamType(),targetVideoQuality:t.getCurrentTargetVideoQuality(),videoProjection:t.getVideoProjectionType()},type:"implementation_engine_initialized"});h=function(){j.setPlayheadPosition(g.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(h)):h()}catch(a){y(a,"progressive_player_create_exception")}},r=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},s=function(a){var b;b={graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!r(b,j.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");j.current=b;k.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);q();return!0},t=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return l.current},setUserSelectedVideoQuality:function(a){var b=l.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=A.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var f=b.targetQuality,g=b.targetSrc;l.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);b=l.current;a=b.targetQuality;b=b.targetSrc;if(c("gkx")("1467411"))b!==g&&(b==null?(n(),e.setSrc(null)):o(b)),f!=null&&a!==f&&a!=null&&z.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{e.setSrc(b);if(b!=null){f=(g=z.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?g:0;f>0&&e.setPlayheadPosition(f);z.getCurrentState().controlledState.playbackState==="playing"&&e.play();z.dispatch({payload:{targetVideoQuality:t.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),u=function(){p.current&&(p.current.destroy(),p.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:t,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:function(a,b){return i(a,b,(a=l.current)==null?void 0:a.targetSrc)},debugLog:h,debugLogId:e,destroyEngineParts:function(){if(c("gkx")("1467411")){n();var a=A.current;a&&a.setSrc(null);l.current=null}u()},engineExtrasAPI:t,engineMetadata:{isAbrEnabled:!1,isExternalMedia:g.isExternalMedia,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:f,handleVideoElementMounted:q,handleVideoElementUnmounted:function(){c("gkx")("1467411")&&n()},handleVideoInfoChange:s,initialProps:g,setExposedStateInReact:a});f=e.engine;var v=e.getCaptionsInfo,w=e.getVideoElement,x=e.handleCaptionsInfoChange,y=e.handleFatalImplementationError,z=e.machine,A=e.videoElementAPIRef;return f}g.createVideoPlayerProgressiveImplementationEngine=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine","react"],function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("MWChatMarkAllAsSeenMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5451025724930811"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatMarkAllAsSeenMutation.graphql",["MWChatMarkAllAsSeenMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ViewerMessagesMarkAllSeenResponsePayload",kind:"LinkedField",name:"viewer_messages_mark_all_seen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatMarkAllAsSeenMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatMarkAllAsSeenMutation",selections:c},params:{id:b("MWChatMarkAllAsSeenMutation_facebookRelayOperation"),metadata:{},name:"MWChatMarkAllAsSeenMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("BTManifestName",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometBTManifestLoader",["BootloaderEvents","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","XHRRequest","err","promiseDone","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=new Set();function i(a,d,e,f){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));case 2:g=h.sent;if(!(typeof g!=="string")){h.next=5;break}throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");case 5:return h.abrupt("return",g);case 6:case"end":return h.stop()}},null,this)}function j(a,b){d("ODS").bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+a+"."+b)}function k(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for rev: %s',b,a)}function l(a,c){var e,f,g;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:if(!(!d("SiteData").manifest_origin||d("SiteData").manifest_base_uri==null)){l.next=2;break}return l.abrupt("return");case 2:e=a+"_"+c;if(!h.has(e)){l.next=5;break}return l.abrupt("return");case 5:j(c,"start");h.add(e);l.prev=7;g=document.createElement("script");l.next=11;return b("regeneratorRuntime").awrap(i(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,c));case 11:g.innerText=l.sent;g.type="application/json";g.setAttribute("name","binary-transparency-manifest");g.dataset.manifestRev=a.toString();g.dataset.manifestType=c;(f=document.head)==null?void 0:f.appendChild(g);j(c,"complete");l.next=25;break;case 20:l.prev=20,l.t0=l["catch"](7),j(c,"failed"),k(a,c,l.t0),h["delete"](e);case 25:case"end":return l.stop()}},null,this,[[7,20]])}function a(){c("promiseDone")(l(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(){c("promiseDone")(l(d("SiteData").client_revision,"longtail"))}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(l(a,"main")),c("promiseDone")(l(a,"longtail"))})}g.init=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometBlueBridgeContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatMarkAllAsSeenMutation",["CometRelay","MWChatMarkAllAsSeenMutation.graphql","relay-runtime"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatMarkAllAsSeenMutation.graphql");function j(a){a=a.get(d("relay-runtime").VIEWER_ID);if(a==null)return;a=a.getLinkedRecord("message_threads");if(a==null)return;var b=a.getValue("unseen_count");if(typeof b!=="number")return;a.setValue(0,"unseen_count")}function a(a,b,c,e){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c,onError:e,optimisticUpdater:function(a){j(a)},updater:function(a){j(a)},variables:b})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatCanvasAppListener",["LogCometCanvasAppTimeSpentFalcoEvent","WebSession","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var e=b.priority;h(function(){a.addListener("log_canvas_app_time_spent",function(a){a=a.data;var b={appID:""+a.appID,endTime:a.currentTime,startTime:a.lastOpenTime,webSessionId:d("WebSession").getId()};e==="HIGH"?c("LogCometCanvasAppTimeSpentFalcoEvent").logImmediately(function(){return b}):c("LogCometCanvasAppTimeSpentFalcoEvent").log(function(){return b})});return function(){a.removeAllListeners("log_canvas_app_time_spent")}},[e,a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getMessageEventBoolean",[],function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="boolean")return a}return!1}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatChatTabListener",["FBLogger","getMessageEventBoolean","getMessageEventString","react","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=c("useMWChatOpenTabForUser")("compat"),d=b[0];b[1];var e=c("useMWChatOpenTabForPage")("compat");h(function(){a.addListener("startchat",function(a){var b=c("getMessageEventString")(a,"tabId");a=c("getMessageEventBoolean")(a,"isPage");b!==""?a?e(b):d(b):c("FBLogger")("CometMessenger").mustfix("No id in useCompatChatTabListener")});return function(){return a.removeAllListeners("startchat")}},[a,d,e])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatClickEventDispatcher",["useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";function a(a){c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=a.current;if(b==null)return;var c,d=function(){c&&c();try{var a,d=(a=b.contentDocument)!=null?a:b.contentWindow.document,e=function(a){var c;a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!1);(c=b.parentElement)==null?void 0:c.dispatchEvent(a)};d.addEventListener("click",e,{capture:!0});c=function(){d.removeEventListener("click",e,{capture:!0})}}catch(a){}};b.addEventListener("load",d);return function(){b.removeEventListener("load",d),c&&c()}},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatDarkModeListener",["react","useCurrentDisplayMode"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=c("useCurrentDisplayMode")()==="dark";h(function(){a&&a.sendChildFrameMessage({compatAction:"dark-mode",enabled:String(b)})},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatDocumentFocusChange",["clearInterval","react","recoverableViolation","setInterval","useCurrentRoute"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=c("useCurrentRoute")(),d=i(null);h(function(){var b=null,e=a.addListener("subscribe_document_focus_change",function(){if(b!=null){c("recoverableViolation")("Received multiple subscribe_document_focus_change messages from the page","comet_infra");return}function e(){var b=document.hasFocus();d.current!==b&&(d.current=b,a.sendChildFrameMessage({compatAction:"document_focus_change",focused:String(document.hasFocus())}))}b=c("setInterval")(e,1e3)});return function(){e.remove(),b!=null&&c("clearInterval")(b)}},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatReloadListener",["react","useCometRouterDispatcher","useCurrentRoute"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useCometRouterDispatcher")(),e=b.forceSelf,f=c("useCurrentRoute")();h(function(){a.addListener("reload",function(a){a=e?{target:"self"}:{};f&&(d&&d.goTo(f,a))});return function(){return a.removeAllListeners("reload")}},[d,a,e,f])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatRouteListener",["ConstUriUtils","HiddenSubtreePassiveContext","URI","getMessageEventBoolean","getMessageEventString","gkx","goForceFullPageRedirectTo","react","useCometRouterDispatcher","useCurrentRoute"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a,b){var e=c("useCometRouterDispatcher")(),f=b.forceSelf,g=b.noMaintain,j=h(c("HiddenSubtreePassiveContext")),k=c("useCurrentRoute")();i(function(){e&&a.addListener("route",function(a){if(j.getCurrentState().hidden)return;var b=c("getMessageEventBoolean")(a,"fullPageReload"),h=new(c("URI"))(c("getMessageEventString")(a,"uri")).removeQueryData(["cquick","ctarget","cquick_token"]);if(!h.isSameOrigin()||b){c("goForceFullPageRedirectTo")(h.toString());return}b=h.getUnqualifiedURI();h=b.toString();var i=c("getMessageEventString")(a,"maintainKey");a=c("getMessageEventBoolean")(a,"replace");if(!Boolean(i)||g){i=f?{replace:a,target:"self"}:{replace:a};e.go(h,i)}else{i={replace:a,target:"self"};if(k){a=d("ConstUriUtils").getUri(k.url);b=b.getPath().startsWith("/messages")?"messenger":c("gkx")("1224637")&&b.getPath().startsWith("/settings")&&(a==null?void 0:a.getPath().startsWith("/settings"))?k.tabKey:void 0;a=babelHelpers["extends"]({},k,{tabKey:b,url:h});e.goTo(a,i)}else e.go(h,i)}});return function(){return a.removeAllListeners("route")}},[e,a,f,j,g,k])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCompatTimeSpentBitArrayListener",["CometTimeSpentBitArrayLogger","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){a.addListener("update_time_spent_bit_array_from_boc",function(a){a=a.data;d("CometTimeSpentBitArrayLogger").updateTimeSpentArray(a.eventTimeInMs)});return function(){a.removeAllListeners("update_time_spent_bit_array_from_boc")}},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometFullPageCompatRoot.react",["BaseViewportMarginsContext","CometBlueBridgeContext","CometCompatBroker","CometDOMOnlyBoundary.react","CometHeroHoldTrigger.react","CometOnRefresh.react","CometRelay","CometRouteRenderType","CometRouteURL","CurrentUser","FBLogger","InteractionTracing","MWChatMarkAllAsSeenMutation","clearTimeout","cometUniqueID","cr:683059","getCompatIframeSource","react","setTimeout","useCompatCanvasAppListener","useCompatChatTabListener","useCompatClickEventDispatcher","useCompatDarkModeListener","useCompatDocumentFocusChange","useCompatReloadListener","useCompatRouteListener","useCompatTimeSpentBitArrayListener","useCurrentDisplayMode","useCurrentRoute","useLayoutEffect_SAFE_FOR_SSR","usePrevious"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var e=a.routeProps.maintainKey,f=c("useCurrentDisplayMode")();f=f==="dark";var g=j(c("CometBlueBridgeContext")),n=c("usePrevious")(e),o=c("useCurrentRoute")(),p=d("CometRouteURL").useRouteURL(),q=(o=o==null?void 0:o.routePath)!=null?o:p;g&&c("FBLogger")("BlueOnComet").mustfix("Blue on Comet is not allowed in Comet on Blue, was trying to load "+q);o=m(c("cometUniqueID")());var r=o[0],s=o[1],t=c("getCompatIframeSource")(p,r,g),u=l(null);o=m(t);g=o[0];var v=o[1],w=l(null),x=l(null);o=m(!0);var y=o[0],z=o[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){b("cr:683059")&&(b("cr:683059").addMarkerPoint("BoC_start"),w.current=b("cr:683059").holdTrigger(r),x.current=c("setTimeout")(function(){w.current&&w.current(),w.current=null},6e4),b("cr:683059").addAnnotation("routePath",q));z(!1);return function(){w.current&&w.current()}},[r,g,q]);o=m(new(c("CometCompatBroker"))());var A=o[0],B=d("CometRelay").useRelayEnvironment(),C=l(null);o=j(c("BaseViewportMarginsContext"));var D=i(function(){s(c("cometUniqueID")())},[s]);d("CometOnRefresh.react").useOnRefresh(D);D=i(function(){b("cr:683059")&&(b("cr:683059").addVisualElement(C.current,"BoCIframe"),b("cr:683059").addMarkerPoint("BoC_end"),c("clearTimeout")(x.current),w.current&&w.current(),w.current=null),z(!1)},[C,w]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){A.init(function(){},r);return A.cleanup},[A,r,g]);c("useCompatRouteListener")(A,{forceSelf:!1,noMaintain:!1});c("useCompatReloadListener")(A,{forceSelf:!0});c("useCompatCanvasAppListener")(A,{priority:c("CurrentUser").isLoggedIn()?"HIGH":"LOW"});c("useCompatDocumentFocusChange")(A);c("useCompatTimeSpentBitArrayListener")(A);c("useCompatChatTabListener")(A);c("useCompatDarkModeListener")(A);var E=a.customCompatEventHandler;k(function(){if(E)return E(A)},[A,E]);k(function(){if(p.startsWith("/messages")){c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addGlobalMetadata("afterMessengerLoaded",1)});if(!t.includes("/t/")&&u.current!=null&&u.current.includes("/t/"))return}t!==u.current&&(Boolean(e)&&e===n?A.sendChildFrameParams({compatAction:"transitionpage",rel:"",uri:t}):v(t));u.current=t},[A,t,e,n,p]);k(function(){if(p.startsWith("/messages")){var a=String(Date.now());c("MWChatMarkAllAsSeenMutation")(B,{input:{actor_id:c("CurrentUser").getID(),precise_timestamp:a}})}},[B,p]);c("useCompatClickEventDispatcher")(C);a=p.includes("/groups/")&&p.includes("/chats/");a=p.startsWith("/messages")||a;return h.jsx("div",{className:"m9r89b4f gvxzyvdx pytsy3co",children:h.jsxs(c("CometDOMOnlyBoundary.react"),{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"BoC iframe",hold:y}),h.jsx("iframe",{className:"mfclru0v kyj84mfa b6ax4al1 js4msrqk ggolc4ur iwso50tu f5m7p0br"+(f&&!a?" sb87djnh":"")+(d("CometRouteRenderType").useIsPushView()&&o.top===0?" ff443qle":""),onError:D,onLoad:D,ref:C,src:g},g)]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDSignalBufferData",[],function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalValueContext",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var d=a.prototype;d.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};d.executeAsyncSignalCollection=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.executeSignalCollection());case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};d.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};d.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDLoggingConstants",[],function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalErrorValueTypeDef",[],function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ErrorSignalValueType",["SignalValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("NumberSignalValueType",["SignalValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("HeartbeatObject",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("KeyDownUpObject",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("1652843")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("StringArrayObject",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BooleanSignalValueType",["SignalValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("StringSignalValueType",["SignalValueTypeDef"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=function(e){babelHelpers.inheritsLoose(a,e);function a(){return e.call(this,j.signalType)||this}var f=a.prototype;f.executeAsyncSignalCollection=function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;if(!navigator.permissions){f.next=8;break}f.next=4;return b("regeneratorRuntime").awrap(navigator.permissions.query({name:"notifications"}));case 4:e=f.sent;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),e.state);f.next=9;break;case 8:a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"));case 9:f.next=14;break;case 11:f.prev=11,f.t0=f["catch"](0),a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"));case 14:return f.abrupt("return",{valueOrError:a});case 15:case"end":return f.stop()}},null,this,[[0,11]])};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("DimensionObject",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("HeartbeatV2Object",["HeartbeatObject"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDCollectionTypeEnum",[],function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BotDetection_SignalFlags",[],function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(b=d)!=null?b:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];b=a==null?void 0:(b=a.values)==null?void 0:b.length;return b!=null&&b>0?a.values[b-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(var d=0;d<a.length;d++){var e=a[d];e in c("BDSignalBufferData")&&(b[e]=j(e).map(function(a){return a.valueOrError}))}return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDUtils",[],function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743095");c=b("FalcoLoggerInternal").create("bd_pdc_signals",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var e=a.prototype;e.collectSignals=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=[];a.forEach(function(a){a.signalFlags.includes(4)?c.$2(a):d.push(c.$3(a))});e.next=4;return b("regeneratorRuntime").awrap(b("Promise").all(d));case 4:case"end":return e.stop()}},null,this)};e.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};e.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};e.$3=function(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a.getSignalCollector();if(!(c!=null)){f.next=12;break}f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(c.executeAsyncSignalCollection());case 5:e=f.sent;this.$4(e,a);f.next=12;break;case 9:f.prev=9,f.t0=f["catch"](2),d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:f.t0});case 12:case"end":return f.stop()}},null,this,[[2,9]])};e.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};e.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};e.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};e=a;g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","javascript-blowfish","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h="BDClientSignalCollectionTrigger",i="signal_flush_timestamp",j=!1,k=!1,l=!1,m=0,n=0,o=0,p=30,q=5,r,s,t=d("BDUtils").uuid(),u=c("BDClientConfig").get(),v=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),w={startSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:u.setSID(a.sid);if(j){c.next=15;break}j=!0;d("BDServerConfig").parseConfig(a);if(u.isParsingDone()){c.next=8;break}d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});j=!1;return c.abrupt("return");case 8:a!=null&&(n=a.hbcbc&&a.hbcbc>0?a.hbcbc:n,o=a.hbvbc&&a.hbvbc>0?a.hbvbc:o,p=a.hbbi&&a.hbbi>0?a.hbbi:p);w.startHeartbeatDelayed();s=new(b("Promise"))(function(a,b){try{u.getDynamicSignals().length>0&&(w.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),u.getBiometricSignals().length>0&&(w.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});c.next=13;return b("regeneratorRuntime").awrap(s);case 13:c.next=15;return b("regeneratorRuntime").awrap(w.startSignalPosting());case 15:j&&!k&&!l&&q>0&&(q-=1,d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),w.startHeartbeatDelayed());case 16:case"end":return c.stop()}},null,this)},retrieveSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(s);case 2:a.next=4;return b("regeneratorRuntime").awrap(w.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC]));case 4:case"end":return a.stop()}},null,this)},postSignals:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(w.collectStaticSignals());case 2:w._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),v.NONE)&&w.setTimestampInStorage(Date.now(),i);case 3:case"end":return c.stop()}},null,this)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=u.getConfigGenerationTimeStamp(),f=w.encryptDataUsingAsid(t,a);a=function(){return{asid:t,ct:e,sjd:f,sid:u.sid}};var g=!1;try{b===v.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===v.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=w.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=w.getTimestampInStorage(i);c=Date.now()-a;if(!(c>=u.getAllTiersFlushDurationMs())){d.next=7;break}d.next=5;return b("regeneratorRuntime").awrap(w.postSignalsIntermittently());case 5:d.next=8;break;case 7:window.setTimeout(function(){w.postSignalsIntermittently()},u.getAllTiersFlushDurationMs()-c);case 8:case"end":return d.stop()}},null,this)},postSignalsIntermittently:function(){w.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){w.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},u.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=c("WebStorage").getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=c("WebStorage").setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=c("WebStorage").getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){k=!1,l=!1},startHeartbeatDelayed:function(){if(k||l)return;var a=w.getTimestampInStorage(w.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=u.getHeartbeatIntervalMs()?w.startHeartbeat():(window.setTimeout(function(){return w.startHeartbeat()},u.getHeartbeatIntervalMs()-a),l=!0)}catch(b){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:u.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!k&&u.getHeartbeatIntervalMs()>0&&(w.collectHeartbeatTimes(n,o),m!==0&&(window.clearInterval(m),d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),m=window.setInterval(function(){return w.collectHeartbeatTimes(n,o)},u.getHeartbeatIntervalMs()),k=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&w.collectHeartbeat(v.CRITICAL);b>0&&w.collectHeartbeat(v.VITAL);(a>1||b>1)&&window.setTimeout(function(){return w.collectHeartbeatTimes(a-1,b-1)},p*1e3)},collectHeartbeat:function(a){var b;b=u==null?void 0:(b=u.getHeartbeatSignal())==null?void 0:(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(b==null){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});w.postHeartbeat(a,b)&&w.setTimestampInStorage(Date.now(),w.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return w._postSignalsHelper(b,a)},collectStaticSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(w.collectSignalsOneTime(u.getStaticSignals()));case 2:case"end":return a.stop()}},null,this)},collectDynamicSignals:function(){w.stopDynamicSignalCollection(),r=window.setInterval(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(w.collectSignalsOneTime(u.getDynamicSignals()));case 2:case"end":return a.stop()}},null,this)},u.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){w.collectSignalsOneTime(u.getBiometricSignals())},stopDynamicSignalCollection:function(){r!=null&&(window.clearInterval(r),r=null)},collectSignalsOneTime:function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(c("SignalCollectionManager").get().collectSignals(a));case 2:case"end":return d.stop()}},null,this)}};a=w;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UsabilityTaskResult",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["FAIL","NOT_STARTED","SUCCESS"]);c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UsabilityUserResult",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["CANCELLED","COMPLETED","NOT_STARTED","TIMEOUT"]);c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometUBTLogger",["DateConsts","QPLUserFlow","qpl","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(42795009,"8382"),i="fb_url",j="V3";function a(){c("QPLUserFlow").start(h),k(0)}function k(a){switch(a){case 0:c("QPLUserFlow").addPoint(h,"show_dialog_data_use");break;case 1:c("QPLUserFlow").addPoint(h,"show_dialog_task_details");break;default:return}}function b(){c("QPLUserFlow").addPoint(h,"start_task")}function e(a){c("QPLUserFlow").addPoint(h,"task_status_success"),c("QPLUserFlow").addAnnotations(h,{string:{hit_success_marker_id:String(a)}})}function f(a,b){a=a!=null?{"double":{duration_to_success:(Date.now()-a)/d("DateConsts").MS_PER_SEC}}:void 0;c("QPLUserFlow").addAnnotations(h,babelHelpers["extends"]({},a,{"int":{nav_steps_to_success:b}}))}function l(a,b){a=a!=null?{"double":{duration_to_completion:(Date.now()-a)/d("DateConsts").MS_PER_SEC}}:void 0;q(b);c("QPLUserFlow").addAnnotations(h,babelHelpers["extends"]({},a,{"int":{nav_steps_to_completion:b}}))}function m(){c("QPLUserFlow").addPoint(h,"task_status_timeout")}function n(a){a={string:{task_status:a}};c("QPLUserFlow").addAnnotations(h,a)}function o(a){switch(a){case"CANCELLED":c("QPLUserFlow").addPoint(h,"user_tapped_cancelled");return;case"COMPLETED":c("QPLUserFlow").addPoint(h,"user_tapped_completed");return;default:return}}function p(){c("QPLUserFlow").addPoint(h,"floating_button_was_tapped")}function q(a){c("QPLUserFlow").addAnnotations(h,{"int":{nav_steps:a}})}function r(a,b){b=b===0?"navigate_from_":"navigate_to_";c("QPLUserFlow").addPoint(h,b+a)}function s(a,b,d){if(a==null){c("recoverableViolation")("Task info cannot be null when logging end of task","quality_programs");return}var e=a.taskRunID!=null?{run_id:a.taskRunID}:void 0;e={string:babelHelpers["extends"]({},e,{source:(e=a.groupID)!=null?e:i,task_key:a.taskKey,ubt_version:j,user_status:d})};b==="FAIL"&&(d==="COMPLETED"||d==="CANCELLED")?c("QPLUserFlow").addPoint(h,"task_status_cancel"):d==="TIMEOUT"&&c("QPLUserFlow").addPoint(h,"closed_on_timeout");c("QPLUserFlow").endSuccess(h,{annotations:e})}g.startUserFlow=a;g.updateUserFlowOnDialogPageChange=k;g.updateUserFlowOnStartTask=b;g.addSuccessMarkerHit=e;g.addSuccessLogging=f;g.addCompletionLogging=l;g.addTimeoutLogging=m;g.addTaskResultLogging=n;g.addDialogFooterAction=o;g.addPulseTapped=p;g.addNavStepsLogging=q;g.addNavigationPoint=r;g.updateUserFlowOnEndTask=s},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("handleCometUBTCheckSuccessMarker",["requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometUBTLogger").__setRef("handleCometUBTCheckSuccessMarker");function i(a,b){if(a==null||a.length===0)return!0;else if(b==null||b.length===0)return!1;var c=!0;a.forEach(function(a){var d,e=a.key;a=a.requiredValue;((d=b.find(function(a){return a.key===e}))==null?void 0:d.requiredValue)!==a&&(c=!1)});return c}function a(a,b,c,d,e){if(d==="SUCCESS")return;else if(b==null||c==null)return;c.some(function(c){if(c.module.includes(b.module)&&c.event===b.event&&i(c.extraData,b.extraData)){e&&e(c.id);h.onReadyImmediately(function(a){return a.addSuccessMarkerHit(c.id)});a({type:"SET_TASK_RESULT",value:"SUCCESS"});return!0}})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("isAdsExcelAddinURI",[],function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("isValidAsyncSignalURI",[],function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AsyncSignal",["ErrorGuard","Promise","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidAsyncSignalURI","isWorkplaceDotComURI","memoize","promiseDone"],function(a,b,c,d,e,f){var g,h,i;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidAsyncSignalURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);i||(i=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=i.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,j=b("memoize")(function(){(h||(h=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,j()},j));this.timeout&&setTimeout(j,this.timeout)}return this};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AsyncTypedRequest",["AsyncRequest"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Chromedome",["fbt"],function(a,b,c,d,e,f,g,h){function a(a){if(top!==window||document.domain==null||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;a=h._("__JHASH__4REdQ6uuqzn__JHASH__");var b=h._("__JHASH__S8hqZ4zKptW__JHASH__"),c=h._("__JHASH__1jNE2MHDhX-__JHASH__",[h._param("url","https://www.facebook.com/selfxss")]);if(window.chrome||window.safari){var d="font-family:helvetica; font-size:20px; ";[[a,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[b,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}else{a=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"];d=(""+b.toString()).match(/.{35}.+?\s+|.+$/g);if(d!=null){b=Math.floor(Math.max(0,(a.length-d.length)/2));for(var e=0;e<a.length||e<d.length;e++){var f=a[e];a[e]=f+new Array(45-f.length).join(" ")+(d[e-b]||"")}}console.log("\n\n\n"+a.join("\n")+"\n\n"+c.toString()+"\n");return}}g.start=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(var n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(var g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(var A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(var w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(var p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(var i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(var m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Queue",[],function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ErrorSetup",["fb-error"],function(a,b,c,d,e,f,g){"use strict";g["default"]=c("fb-error").ErrorSetup},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("LSFlushDataTrace.re",["LSFlushDataTrace.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._3(b("LSFlushDataTrace.bs").call,a.transaction_,a.runmode_,a.dataTraceId);return a};f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSFlushDataTrace.nop",["LSFlushDataTrace.re"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("LSFlushDataTrace.re").call({dataTraceId:c,runmode_:b,transaction_:a})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSLogMebClientEvent.re",["LSLogMebClientEvent.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._6(b("LSLogMebClientEvent.bs").call,a.transaction_,a.runmode_,a.callingClass,a.msg,a.traceIds,a.logLevel);return a};f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSLogMebClientEvent.nop",["LSLogMebClientEvent.re"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g){return d("LSLogMebClientEvent.re").call({callingClass:c,logLevel:g,msg:e,runmode_:b,traceIds:f,transaction_:a})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSerializeBackupPayloadIndirection.bs",["bs_curry","cr:280","cr:4821","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){if(b("cr:4821")==null)if(b("cr:280")==null)return b("unrecoverableViolation")("LSSerializeBackupPayloadIndirection.res: messenger_armadillo_web:enable_armadillo OR messenger_armadillo_web:enable_encrypted_backups_shadow_test is not defined","labyrinth_web");else return b("bs_curry")._5(b("cr:280").call,a,c,d,e,f).then(function(a){return a});else return b("bs_curry")._5(b("cr:4821").call,a,c,d,e,f).then(function(a){return a})}f.$LSSerializeBackupPayloadConditional$requireCond=b("cr:280");f.$LSSerializeBackupPayloadConditional$requireCondXplat=b("cr:4821");f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSerializeBackupPayloadIndirection.re",["LSSerializeBackupPayloadIndirection.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._5(b("LSSerializeBackupPayloadIndirection.bs").call,a.transaction_,a.runmode_,a.pendingBackupTaskId,a.echoBlob,a.traceId);return a};f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSerializeBackupPayloadIndirection.nop",["LSSerializeBackupPayloadIndirection.re"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("LSSerializeBackupPayloadIndirection.re").call({echoBlob:e,pendingBackupTaskId:c,runmode_:b,traceId:f,transaction_:a})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSCreateDataTraceID.re",["LSCreateDataTraceID.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._2(b("LSCreateDataTraceID.bs").call,a.transaction_,a.runmode_);return a};f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSCreateDataTraceID.nop",["LSCreateDataTraceID.re"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b){return d("LSCreateDataTraceID.re").call({runmode_:b,transaction_:a})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSDeleteBackupOnClient",["LSAppendDataTraceAddon","LSFlushDataTrace.nop","LSLogMebClientEvent.nop"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure]Beginning execution."),a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],[0,1423],[0,2],f,f):c.resolve()},function(a){return d[0]=!1,d[0]?d[1]=!0:d[1]=!1,d[1]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[2]=c.createArray(),f!==f?d[3]=(d[2].push(f),d[2]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[2],[0,3])):c.resolve()},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(168).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.fe(c.db.table(168).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(169).fetch([[[a[0]]],"fk_secure_encrypted_backups_client_state"]),function(a){return a["delete"]()}):c.fe(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return c.fe(c.db.table(190).fetch(),function(a){return a["delete"]()})},function(a){return c.fe(c.db.table(174).fetch(),function(a){return a["delete"]()})},function(b){return a[2]?c.seq([function(a){return c.fe(c.db.table(172).fetch([[[[0,1]]]]),function(a){var b=a.update;a.item;return b({backupId:f})})},function(b){return c.i64.neq(a[0],f)?c.fe(c.ftr(c.db.table(184).fetch(),function(b){return c.i64.eq(b.backupId,a[0])}),function(a){return a["delete"]()}):c.fe(c.db.table(184).fetch(),function(a){return a["delete"]()})},function(b){return c.i64.neq(a[0],f)?c.fe(c.db.table(196).fetch([[[a[0]]]]),function(a){return a["delete"]()}):c.fe(c.db.table(196).fetch(),function(a){return a["delete"]()})}]):c.resolve()},function(e){return a[5]?c.seq([function(e){return a[5]?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],[0,84],[0,2],f,f):c.resolve()},function(a){return d[4]=!1,d[4]?d[5]=!0:d[5]=!1,d[5]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[6]=c.createArray(),f!==f?d[7]=(d[6].push(f),d[6]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[6],[0,3])):c.resolve()}]):a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],[0,85],[0,2],"The flow did not succeed",f):c.resolve()},function(a){return d[4]=!1,d[4]?d[5]=!0:d[5]=!1,d[5]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[6]=c.createArray(),f!==f?d[7]=(d[6].push(f),d[6]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[6],[0,3])):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return d[2]=!1,d[2]?d[3]=!0:d[3]=!1,d[3]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[4]=c.createArray(),f!==f?d[5]=(d[4].push(f),d[4]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[4],[0,3])):c.resolve()}]):a[4]!==f?c.seq([function(e){return d[5]=["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure]","",a[4]].join(""),function(a){c.logger(a).mustfix(a)}(d[5]),d[2]=c.createArray(),a[3]!==f?d[6]=(d[2].push(a[3]),d[2]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteBackupOnClientStoredProcedure",a[4],d[2],[0,3])},function(e){return a[3]!==f?c.seq([function(e){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],[0,85],[0,2],d[5],f):c.resolve()},function(a){return d[6]=!1,d[6]?d[7]=!0:d[7]=!1,d[7]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[8]=c.createArray(),f!==f?d[9]=(d[8].push(f),d[8]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[8],[0,3])):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return d[3]=!1,d[3]?d[4]=!0:d[4]=!1,d[4]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[6]=c.createArray(),f!==f?d[7]=(d[6].push(f),d[6]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[6],[0,3])):c.resolve()}]):c.seq([function(e){return a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],[0,85],[0,2],["[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure]","",""].join(""),f):c.resolve()},function(a){return d[4]=!1,d[4]?d[5]=!0:d[5]=!1,d[5]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[6]=c.createArray(),f!==f?d[7]=(d[6].push(f),d[6]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[6],[0,3])):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return d[2]=!1,d[2]?d[3]=!0:d[3]=!1,d[3]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[4]=c.createArray(),f!==f?d[5]=(d[4].push(f),d[4]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[4],[0,3])):c.resolve()}])},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteBackupOnClientStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSyncEpochs",["LSAppendDataTraceAddon","LSCreateDataTraceID.nop","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIssueNewTask","LSLogMebClientEvent.nop"],function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function a(){var a=arguments,c=a[a.length-1],d=c.n,e=[],f=[],h;return c.seq([function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])&&c.i64.eq(a.backupTenancy,[0,2])}),0,c.i64.to_float([0,1])).next().then(function(a,b){b=a.done;a=a.value;return b?e[0]=!1:(a.item,e[0]=!0)})},function(a){return e[0]?e[2]=c.i64.or_([0,78],[0,128]):e[2]=[0,78],c.nop(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,e[3]=a[0],a})},function(a){return e[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils]",e[4],"EncryptedBackups MCD Trace ID",e[4],c.i64.to_string(e[2])].join("")),c.db.table(153).add({traceId:e[3],initTimestampMs:c.i64.of_float(Date.now()),traceType:e[2],shouldFlush:!1,contextThree:"synch_epochs"})},function(a){return e[5]=!1,e[5]?e[6]=!0:e[6]=!1,e[6]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[11]=c.createArray(),h!==h?e[12]=(e[11].push(h),e[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[11],[0,3])):c.resolve()},function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,1436],[0,2],h,h):c.resolve()},function(a){return e[7]=!1,e[7]?e[8]=!0:e[8]=!1,e[8]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[11]=c.createArray(),h!==h?e[12]=(e[11].push(h),e[11]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[11],[0,3])):c.resolve()},function(a){return c.ftr(c.db.table(2).fetch(),function(a){return a.context===c.i64.to_string([0,50013])}).next().then(function(a,b){b=a.done;a=a.value;return b?e[9]=!1:(a.item,e[9]=!0)})},function(a){return e[9]?(e[11]="Another sync job is already in progress. Terminating this.",e[11]!==h?c.seq([function(a){return e[15]=["[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]","",e[11]].join(""),function(a){c.logger(a).mustfix(a)}(e[15]),e[12]=c.createArray(),e[3]!==h?e[16]=(e[12].push(e[3]),e[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSyncEpochsStoredProcedure",e[11],e[12],[0,3])},function(a){return e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],e[15],h):c.resolve()},function(a){return e[16]=!1,e[16]?e[17]=!0:e[17]=!1,e[17]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[18]=c.createArray(),h!==h?e[19]=(e[18].push(h),e[18]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[18],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[3]!==h?c.nop(b("LSFlushDataTrace.nop"),e[3]):c.resolve()},function(a){return e[13]=!1,e[13]?e[14]=!0:e[14]=!1,e[14]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[16]=c.createArray(),h!==h?e[17]=(e[16].push(h),e[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[16],[0,3])):c.resolve()}]):c.seq([function(a){return e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],["[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]","",""].join(""),h):c.resolve()},function(a){return e[14]=!1,e[14]?e[15]=!0:e[15]=!1,e[15]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[16]=c.createArray(),h!==h?e[17]=(e[16].push(h),e[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[16],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[3]!==h?c.nop(b("LSFlushDataTrace.nop"),e[3]):c.resolve()},function(a){return e[12]=!1,e[12]?e[13]=!0:e[13]=!1,e[13]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[14]=c.createArray(),h!==h?e[15]=(e[14].push(h),e[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[14],[0,3])):c.resolve()}])):c.seq([function(a){return c.ct(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])})).then(function(a){return e[11]=a})},function(a){return c.i64.eq(e[11],[0,1])?c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])}).next().then(function(a,f){var i=a.done;a=a.value;return i?0:(f=a.item,e[13]=f.backupId,e[12]=f.deviceId,c.i64.neq(e[12],h)?c.seq([function(a){return c.ct(c.db.table(169).fetch()).then(function(a){return e[14]=a})},function(a){return c.i64.neq(e[14],d(g()))?e[15]=!0:e[15]=!1,e[15]?(e[16]=new c.Map(),e[16].set("backup_id",e[13]),e[16].set("device_id",e[12]),e[16].set("trace_id",e[3]),e[17]=c.toJSON(e[16]),c.sp(b("LSIssueNewTask"),"messenger_encrypted_backups",[0,50013],e[17],h,h,[0,0],[0,0],h,h,[0,0])):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]epochs table is null/empty. Cleaning backup on client"),e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],"[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]epochs table is null/empty. Cleaning backup on client",h):c.resolve()},function(a){return e[17]=!1,e[17]?e[18]=!0:e[18]=!1,e[18]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[19]=c.createArray(),h!==h?e[20]=(e[19].push(h),e[19]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[19],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[16]=c.createArray(),e[3]!==h?e[17]=(e[16].push(e[3]),e[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSyncEpochsStoredProcedure","epochs table is null/empty. Cleaning backup on client",e[16],[0,3])},function(a){return c.sp(b("LSDeleteBackupOnClient"),e[13],"synch_epochs",!0,e[3],"epochs table is null/empty. Cleaning backup on client",!1)}])}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]device_id is null. Cleaning backup on client"),e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],"[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]device_id is null. Cleaning backup on client",h):c.resolve()},function(a){return e[15]=!1,e[15]?e[16]=!0:e[16]=!1,e[16]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[17]=c.createArray(),h!==h?e[18]=(e[17].push(h),e[17]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[17],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[14]=c.createArray(),e[3]!==h?e[15]=(e[14].push(e[3]),e[14]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSyncEpochsStoredProcedure","device_id is null. Cleaning backup on client",e[14],[0,3])},function(a){return c.sp(b("LSDeleteBackupOnClient"),e[13],"synch_epochs",!0,e[3],"device_id is null. Cleaning backup on client",!1)}]))}):c.seq([function(a){return e[17]="Exactly 1 entry is expected in client_state_table",e[17]!==h?c.seq([function(a){return e[21]=["[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]","",e[17]].join(""),function(a){c.logger(a).mustfix(a)}(e[21]),e[18]=c.createArray(),e[3]!==h?e[22]=(e[18].push(e[3]),e[18]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSyncEpochsStoredProcedure",e[17],e[18],[0,3])},function(a){return e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],e[21],h):c.resolve()},function(a){return e[22]=!1,e[22]?e[23]=!0:e[23]=!1,e[23]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[24]=c.createArray(),h!==h?e[25]=(e[24].push(h),e[24]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[24],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[3]!==h?c.nop(b("LSFlushDataTrace.nop"),e[3]):c.resolve()},function(a){return e[19]=!1,e[19]?e[20]=!0:e[20]=!1,e[20]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[22]=c.createArray(),h!==h?e[23]=(e[22].push(h),e[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[22],[0,3])):c.resolve()}]):c.seq([function(a){return e[3]!==h?c.seq([function(a){return e[3]!==h?c.sp(b("LSAppendDataTraceAddon"),e[3],[0,85],[0,2],["[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]","",""].join(""),h):c.resolve()},function(a){return e[20]=!1,e[20]?e[21]=!0:e[21]=!1,e[21]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[22]=c.createArray(),h!==h?e[23]=(e[22].push(h),e[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[22],[0,3])):c.resolve()}]):c.resolve()},function(a){return e[3]!==h?c.nop(b("LSFlushDataTrace.nop"),e[3]):c.resolve()},function(a){return e[18]=!1,e[18]?e[19]=!0:e[19]=!1,e[19]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),e[20]=c.createArray(),h!==h?e[21]=(e[20].push(h),e[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",e[20],[0,3])):c.resolve()}])},function(a){return e[14]="Exactly 1 entry is expected in client_state_table. Found = ",c.ct(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,[0,80])})).then(function(a){return e[12]=a})},function(a){return e[15]=c.i64.to_string(e[12]),e[13]="",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]",e[13],e[14],e[13],e[15]].join("")),e[16]=c.createArray(),h!==h?e[18]=(e[16].push(h),e[16]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSyncEpochsStoredProcedure",[e[14],",",e[15]].join(""),e[16],[0,3])}])}])},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSyncEpochsStoredProcedure]Finishing execution.")}])},function(a){return c.resolve(f)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSTaskSerializerMuteThreadV2",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerMuteThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(a){return c[6]=f.threadKey,b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[7]=b.createArray(),c[8]=(c[7].push("TaskSerializerMuteThreadV2: Thread not found"),c[7]),c[9]=(c[7].push(c[6]),c[7]),c[10]=b.toJSON(c[7]),function(a){b.logger(a).mustfix(a)}(c[10]),a=[e,e],c[3]=a[0],c[4]=a[1],a):(f=d.item,b.seq([function(a){return b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[7]=[0,1]:(f=d.item,c[12]=f.syncGroup,b.i64.neq(c[12],e)?c[11]=c[12]:c[11]=[0,1],c[7]=c[11])})},function(a){return c[9]=new b.Map(),c[9].set("thread_key",c[6]),c[9].set("mailbox_type",[0,0]),c[9].set("mute_expire_time_ms",f.muteExpireTimeMs),c[9].set("sync_group",c[7]),c[10]=b.toJSON(c[9]),a=[c[10],[0,144]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSTaskSerializerRemoveThread",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,c[5]=f.removeType,b.i64.neq(c[5],e)?(c[6]=new b.Map(),c[6].set("thread_key",f.threadKey),c[6].set("remove_type",c[5]),c[6].set("sync_group",f.syncGroup==null?[0,1]:f.syncGroup),c[7]=b.toJSON(c[6]),g=[c[7],[0,146]],c[3]=g[0],c[4]=g[1],g):(d=[e,e],c[3]=d[0],c[4]=d[1],d),f=[c[3],c[4]],c[0]=f[0],c[1]=f[1],f)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CryptoLogger.bs",["FBLogger","bs_js_exn"],function(a,b,c,d,e,f){"use strict";function a(a){a="crypto."+a;return b("FBLogger")("labyrinth_web",a)}function c(a,c){if(c.RE_EXN_ID===b("bs_js_exn").$$Error)return a.catching(c._1);else return a}function d(a){if(a.RE_EXN_ID===b("bs_js_exn").$$Error)throw a._1;throw a}f.make=a;f.captureError=c;f.rethrowError=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("EncryptedBackupsSymmetricEncryptionUtils.bs",[],function(a,b,c,d,e,f){"use strict";a=16;b=28;c=16;d=128;f.hChaCha20SubKeyNonceLengthInBytes=a;f.totalNonceLengthInBytes=b;f.aesGcmTagLengthInBytes=c;f.aesGcmTagLength=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("HChaCha20",["err"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.fromHexString=function(a){var b=a.match(/[A-Fa-f0-9]{1,2}/g);if(a.length===0||a.length%2!==0||b==null)throw c("err")('The string "'+a+'" is not valid hex.');return new Uint8Array(b.map(function(a){return parseInt(a,16)}))};a.bufferToUint32Array=function(a){var b=new DataView(a),c=[];a=a.byteLength/4;for(var d=0;d<a;d++)c.push(new DataView(b.buffer.slice(d*4,d*4+4)).getInt32(0));return Uint32Array.from(c)};a.rotate=function(a,b){a=a&4294967295;b=b&31;return(a<<b|a>>>32-b)>>>0};a.quarterRound=function(b,c,d,e){b=b;c=c;d=d;e=e;b=b+c&4294967295;e=a.rotate(e^b,16);d=d+e&4294967295;c=a.rotate(c^d,12);b=b+c&4294967295;e=a.rotate(e^b,8);d=d+e&4294967295;c=a.rotate(c^d,7);return[b>>>0,c>>>0,d>>>0,e>>>0]};var b=a.prototype;b.createHCtx=function(b,d){var e=new Uint32Array(16),f=a.fromHexString("657870616e642033322d62797465206b");if(f.byteLength!==16)throw c("err")("Could not create context. Invalid constant buffer length of "+f.byteLength+". Expected a length of 16");else if(b.byteLength!==32)throw c("err")("Could not create context. Invalid key buffer length of "+b.byteLength+". Expected a length of 32");else if(d.byteLength!==16)throw c("err")("Could not create context. Invalid nonce buffer length of "+d.byteLength+". Expected a length of 16");f=a.bufferToUint32Array(f.buffer);b=a.bufferToUint32Array(b);d=a.bufferToUint32Array(d);e.set(f);e.set(b,f.length);e.set(d,f.length+b.length);return e.buffer};b.hChaCha20Bytes=function(b,c){c=new DataView(this.createHCtx(c,b));b=c.getInt32(0);var d=c.getInt32(1<<2),e=c.getInt32(2<<2),f=c.getInt32(3<<2),g=c.getInt32(4<<2),h=c.getInt32(5<<2),i=c.getInt32(6<<2),j=c.getInt32(7<<2),k=c.getInt32(8<<2),l=c.getInt32(9<<2),m=c.getInt32(10<<2),n=c.getInt32(11<<2),o=c.getInt32(12<<2),p=c.getInt32(13<<2),q=c.getInt32(14<<2);c=c.getInt32(15<<2);for(var r=0;r<10;r++){var s=a.quarterRound(b,g,k,o);b=s[0];g=s[1];k=s[2];o=s[3];s=a.quarterRound(d,h,l,p);d=s[0];h=s[1];l=s[2];p=s[3];s=a.quarterRound(e,i,m,q);e=s[0];i=s[1];m=s[2];q=s[3];s=a.quarterRound(f,j,n,c);f=s[0];j=s[1];n=s[2];c=s[3];s=a.quarterRound(b,h,m,c);b=s[0];h=s[1];m=s[2];c=s[3];s=a.quarterRound(d,i,n,o);d=s[0];i=s[1];n=s[2];o=s[3];s=a.quarterRound(e,j,k,p);e=s[0];j=s[1];k=s[2];p=s[3];s=a.quarterRound(f,g,l,q);f=s[0];g=s[1];l=s[2];q=s[3]}return Uint32Array.from([b,d,e,f,o,p,q,c]).buffer};return a}();g.HChaCha20=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TextEncoder.bs",[],function(a,b,c,d,e,f){"use strict";function a(a,b){return a.encode(b).buffer}f.encodeToArrayBuffer=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SymmetricEncryptionPaddingUtils.bs",["TextEncoder.bs","bs_caml_option","bs_js_math","bs_pervasives"],function(a,b,c,d,e,f){"use strict";function g(a){if(a<10)return 10-a|0;var c=b("bs_js_math").floor_int(Math.log2(a)),d=b("bs_js_math").floor_int(Math.log2(c))+1|0;c=c-d|0;d=(1<<c)-1|0;c=a+d&b("bs_pervasives").lnot(d);return c-a|0}function h(a){var b=Uint32Array.BYTES_PER_ELEMENT,c=a.byteLength,d=g(c);d=(b+c|0)+d|0;d=new DataView(new ArrayBuffer(d));d.setUint32(0,c);c=new Uint8Array(d.buffer);c.set(new Uint8Array(a),b);return c.buffer}function a(a){var c=new TextEncoder();return h(b("TextEncoder.bs").encodeToArrayBuffer(c,a))}function c(a){var c=Uint32Array.BYTES_PER_ELEMENT,d=new DataView(a);if(d.byteLength<c)return;var e=a.byteLength;d=d.getUint32(0);e=e-c|0;if(d>=0&&d<=e)return b("bs_caml_option").some(a.slice(c,c+d|0))}f.getPaddingLength=g;f.padData=h;f.pad=a;f.stripPadding=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSymmetricEncryptionCreateEncryptedData.bs",["Crypto.bs","CryptoLogger.bs","EncryptedBackupsSymmetricEncryptionUtils.bs","HChaCha20","LSResult.bs","Promise","Promise.bs","SymmetricEncryptionPaddingUtils.bs","bs_caml_option"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("CryptoLogger.bs").make("symmetric_encryption_create_encrypted_data"),h=b("SymmetricEncryptionPaddingUtils.bs").padData(f),i=b("Crypto.bs").getRandomValues(new Uint8Array(b("EncryptedBackupsSymmetricEncryptionUtils.bs").totalNonceLengthInBytes));a=new(b("HChaCha20").HChaCha20)();c=a.hChaCha20Bytes(i.slice(0,b("EncryptedBackupsSymmetricEncryptionUtils.bs").hChaCha20SubKeyNonceLengthInBytes).buffer,d);return b("Promise.bs").$$catch(b("Crypto.bs").importKey("raw",c,{NAME:"Aes",VAL:"AES-GCM"},!1,["encrypt"]).then(function(a){return b("Crypto.bs").encrypt({name:"AES-GCM",iv:i.slice(b("EncryptedBackupsSymmetricEncryptionUtils.bs").hChaCha20SubKeyNonceLengthInBytes).buffer,additionalData:b("bs_caml_option").some(e),tagLength:b("EncryptedBackupsSymmetricEncryptionUtils.bs").aesGcmTagLength},a,h)}).then(function(a){var c=i.byteLength+a.byteLength|0;c=new Uint8Array(c);c.set(i);c.set(new Uint8Array(a),b("EncryptedBackupsSymmetricEncryptionUtils.bs").totalNonceLengthInBytes);return b("Promise").resolve(b("LSResult.bs").make(b("bs_caml_option").some(c.buffer)))}),function(a){b("CryptoLogger.bs").captureError(g,a).mustfix("symmetric data encryption failed");return b("Promise").resolve(b("LSResult.bs").make(void 0))})}f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PromiseOptional.bs",["Promise","bs_caml_option","bs_curry"],function(a,b,c,d,e,f){"use strict";function g(a,c){return a.then(function(a){if(a!==void 0)return b("bs_curry")._1(c,b("bs_caml_option").valFromOption(a));else return b("Promise").resolve(void 0)})}function h(a){return b("Promise").resolve(b("bs_caml_option").some(a))}function a(a){return a.then(h)}function c(a){return b("Promise").resolve(a)}function d(a,c){var d=function(a){a=b("bs_curry")._1(c,a);return b("Promise").resolve(b("bs_caml_option").some(a))};return g(a,d)}function e(a,c){var d=function(a){return b("Promise").resolve(b("bs_curry")._1(c,a))};return g(a,d)}function i(a){return b("Promise").reject(a)}f.$$then=g;f.thenSome=d;f.thenResolve=e;f.wrapOption=c;f.fromPromise=a;f.resolve=h;f.reject=i},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSymmetricEncryptionCreateEncryptedString.bs",["Base64.bs","Crypto.bs","CryptoLogger.bs","LSResult.bs","LSSymmetricEncryptionCreateEncryptedData.bs","Promise","Promise.bs","PromiseOptional.bs"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("CryptoLogger.bs").make("symmetric_encryption_create_encrypted_string");return b("Promise.bs").$$catch(b("PromiseOptional.bs").thenSome(b("LSSymmetricEncryptionCreateEncryptedData.bs").call(a,c,d,e,b("Crypto.bs").Utils.strToBuf(f)).then(function(a){return a[0]}),b("Base64.bs").fromArrayBuffer).then(b("LSResult.bs").make),function(a){b("CryptoLogger.bs").captureError(g,a).mustfix("symmetric string encryption failed");return b("Promise").resolve(b("LSResult.bs").make(void 0))})}f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSymmetricEncryptionCreateEncryptedString.re",["LSSymmetricEncryptionCreateEncryptedString.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._5(b("LSSymmetricEncryptionCreateEncryptedString.bs").call,a.transaction_,a.runmode_,a.secretKey,a.aad,a.plainText);return a};f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["LSSymmetricEncryptionCreateEncryptedString.re"],function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f){return d("LSSymmetricEncryptionCreateEncryptedString.re").call({aad:e,plainText:f,runmode_:b,secretKey:c,transaction_:a})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSTaskSerializerSendMessageV2",["LSSymmetricEncryptionCreateEncryptedString.nop"],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(d){return c[9]=f.offlineThreadingId,c[10]=f.messageId,c[15]=f.threadAttributionSource,c[7]=f.platformRef,c[8]=f.platformToken,c[6]=f.replySourceId,c[11]=f.replySourceType,c[14]=f.sendType,c[12]=f.initiatingSource,c[13]=f.skipUrlPreviewGen,b.db.table(12).fetch([[[c[9]]],"optimistic"]).next().then(function(f,h){var d=f.done;f=f.value;return d?(c[16]=b.createArray(),c[17]=(c[16].push("OTID not found"),c[16]),c[18]=(c[16].push(c[9]),c[16]),c[19]=b.toJSON(c[16]),function(a){b.logger(a).mustfix(a)}(c[19]),d=[e,e],c[3]=d[0],c[4]=d[1],d):(h=f.item,b.seq([function(d){return c[22]=h.text,c[19]=h.threadKey,c[23]=h.messageId,c[21]=h.stickerId,c[25]=h.mentionOffsets,c[26]=h.mentionLengths,c[20]=h.mentionIds,c[27]=h.mentionTypes,c[30]=h.replyType,c[28]=h.isForwarded,c[24]=h.forwardScore,c[29]=h.hotEmojiSize,b.db.table(9).fetch([[[c[19]]]]).next().then(function(f,i){var d=f.done;f=f.value;return d?(c[31]=b.createArray(),c[32]=(c[31].push("thread not found"),c[31]),c[33]=(c[31].push(c[19]),c[31]),c[34]=b.toJSON(c[31]),function(a){b.logger(a).mustfix(a)}(c[34]),d=[e,e],c[16]=d[0],c[17]=d[1],d):(i=f.item,b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?c[31]=!1:(f=e.item,b.seq([function(d){return b.islc(b.db.table(2).fetch([[[f.queueName]],"queueNameTaskId"]),0,b.i64.to_float([0,1])).next().then(function(e,f){var d=e.done;e=e.value;return d?c[35]=!1:(f=e.item,c[35]=b.i64.eq(f.taskId,a[0]))})},function(a){return c[31]=c[35]}]))})},function(a){return b.i64.eq(i.authorityLevel,[0,20])&&b.i64.eq(i.threadType,[0,2])&&c[31]?b.seq([function(a){return c[38]=c[14]==null?[0,1]:c[14],b.db.table(9).fetch([[[c[19]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[35]=[0,1]:(f=d.item,c[47]=f.syncGroup,b.i64.neq(c[47],e)?c[46]=c[47]:c[46]=[0,1],c[35]=c[46])})},function(a){return c[37]=new b.Map(),c[37].set("thread_id",c[19]),c[37].set("otid",c[9]),c[37].set("source",c[15]==null?[0,0]:c[15]),c[37].set("send_type",[0,1]),c[37].set("sync_group",c[35]),b.i64.eq(c[38],[0,1])?b.resolve(c[37].set("text",c[22])):b.i64.eq(c[38],[0,2])?b.resolve(b.i64.neq(c[21],e)?(c[37].set("sticker_id",c[21]),c[37].set("send_type",c[38])):0):b.i64.eq(c[38],[0,7])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[46]=a[0],c[47]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[46]=a[0],c[47]=a[1],a)})},function(a){return c[46]!==e?b.i64.neq(c[47],e)?(c[37].set("url",c[46]),c[37].set("attribution_app_id",c[47]),c[37].set("send_type",c[38])):0:0}]):b.i64.eq(c[38],[0,3])?b.seq([function(a){return c[37].set("text",c[22]),c[46]=b.createArray(),c[47]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[48]=a.offlineAttachmentId,c[49]=(c[46].push(b.i64.from_string(a.attachmentFbid)),c[46]),c[48]!==e?c[49]=(c[47].push(c[48]),c[47]):0})},function(a){return c[37].set("attachment_fbids",c[46]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[47]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,9])?b.seq([function(a){return c[37].set("text",c[22]),c[46]=b.createArray(),c[47]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[48]=a.offlineAttachmentId,c[49]=(c[46].push(b.i64.from_string(a.attachmentFbid)),c[46]),c[48]!==e?c[49]=(c[47].push(c[48]),c[47]):0})},function(a){return c[37].set("attachment_fbids",c[46]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[47]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,10])?b.seq([function(a){return c[37].set("text",c[22]),c[46]=b.createArray(),c[47]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[48]=a.offlineAttachmentId,c[49]=(c[46].push(b.i64.from_string(a.attachmentFbid)),c[46]),c[48]!==e?c[49]=(c[47].push(c[48]),c[47]):0})},function(a){return c[37].set("attachment_fbids",c[46]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[47]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,4])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[46]=e:(d=b.item,c[46]=d.attachmentFbid)})},function(a){return c[46]!==e?(c[37].set("text",c[22]),c[37].set("forwarded_share_id",c[46]),c[37].set("send_type",c[38])):0}]):b.i64.eq(c[38],[0,5])?b.resolve(c[10]!==e?(c[37].set("forwarded_msg_id",c[10]),c[37].set("send_type",c[38]),b.i64.neq(c[24],e)?c[37].set("forward_score",c[24]):0,c[37].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[38],[0,6])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[46]=a[0],c[47]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[46]=a[0],c[47]=a[1],a)})},function(a){return c[46]!==e?(c[37].set("url",c[46]),c[37].set("text",c[22]),c[37].set("send_type",c[38])):0}]):b.resolve(0)},function(a){return c[42]=c[6]===""?e:c[6],c[42]!==e?b.i64.neq(c[11],e)?(c[46]=new b.Map(),c[46].set("reply_source_id",c[42]),c[46].set("reply_source_type",c[11]),c[46].set("reply_type",c[30]==null?[0,0]:c[30]),c[37].set("reply_metadata",c[46])):0:0,c[43]=c[20]===""?e:c[20],c[43]!==e?(c[46]=c[25]===""?e:c[25],c[46]!==e?(c[47]=c[26]===""?e:c[26],c[47]!==e?(c[48]=new b.Map(),c[48].set("mention_ids",c[43]),c[48].set("mention_offsets",c[46]),c[48].set("mention_lengths",c[47]),c[48].set("mention_types",c[27]===""?e:c[27]),c[37].set("mention_data",c[48])):0):0):0,c[28]!==e?c[37].set("is_forwarded",c[28]):0,c[44]=c[7]===""?e:c[7],c[44]!==e?c[37].set("platform_ref",c[44]):0,c[45]=c[8]===""?e:c[8],c[45]!==e?c[37].set("platform_token",c[45]):0,[[0,1],[0,2]].some(function(a){return b.i64.eq(c[38],a)})?b.i64.neq(c[29],e)?c[37].set("hot_emoji_size",c[29]):0:0,b.i64.neq(c[12],e)?c[37].set("initiating_source",c[12]):0,c[13]!==e?c[37].set("skip_url_preview_gen",c[13]):0,b.resolve()},function(a){return c[39]=b.createArray(),b.fe(b.db.table(14).fetch([[[c[19]]]]),function(a){a=a.item;return c[46]=(c[39].push(a.contactId),c[39])})},function(a){return c[40]=new b.Map(),c[40].set("participants",c[39]),c[40].set("send_payload",c[37]),b.fe(b.db.table(9).fetch([[[i.threadKey]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:h.offlineThreadingId})})},function(a){return c[41]=b.toJSON(c[40]),a=[c[41],[0,130]],c[33]=a[0],c[34]=a[1],a}]):b.seq([function(a){return c[38]=c[14]==null?[0,1]:c[14],b.db.table(9).fetch([[[c[19]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[35]=[0,1]:(f=d.item,c[45]=f.syncGroup,b.i64.neq(c[45],e)?c[44]=c[45]:c[44]=[0,1],c[35]=c[44])})},function(a){return c[37]=new b.Map(),c[37].set("thread_id",c[19]),c[37].set("otid",c[9]),c[37].set("source",c[15]==null?[0,0]:c[15]),c[37].set("send_type",[0,1]),c[37].set("sync_group",c[35]),b.i64.eq(c[38],[0,1])?b.resolve(c[37].set("text",c[22])):b.i64.eq(c[38],[0,2])?b.resolve(b.i64.neq(c[21],e)?(c[37].set("sticker_id",c[21]),c[37].set("send_type",c[38])):0):b.i64.eq(c[38],[0,7])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[44]=a[0],c[45]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[44]=a[0],c[45]=a[1],a)})},function(a){return c[44]!==e?b.i64.neq(c[45],e)?(c[37].set("url",c[44]),c[37].set("attribution_app_id",c[45]),c[37].set("send_type",c[38])):0:0}]):b.i64.eq(c[38],[0,3])?b.seq([function(a){return c[37].set("text",c[22]),c[44]=b.createArray(),c[45]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[46]=a.offlineAttachmentId,c[47]=(c[44].push(b.i64.from_string(a.attachmentFbid)),c[44]),c[46]!==e?c[47]=(c[45].push(c[46]),c[45]):0})},function(a){return c[37].set("attachment_fbids",c[44]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[45]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,9])?b.seq([function(a){return c[37].set("text",c[22]),c[44]=b.createArray(),c[45]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[46]=a.offlineAttachmentId,c[47]=(c[44].push(b.i64.from_string(a.attachmentFbid)),c[44]),c[46]!==e?c[47]=(c[45].push(c[46]),c[45]):0})},function(a){return c[37].set("attachment_fbids",c[44]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[45]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,10])?b.seq([function(a){return c[37].set("text",c[22]),c[44]=b.createArray(),c[45]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[23]]]]),[["attachmentIndex","ASC"]]),function(a){a=a.item;return c[46]=a.offlineAttachmentId,c[47]=(c[44].push(b.i64.from_string(a.attachmentFbid)),c[44]),c[46]!==e?c[47]=(c[45].push(c[46]),c[45]):0})},function(a){return c[37].set("attachment_fbids",c[44]),b.i64.eq(c[38],[0,9])?c[37].set("offline_attachment_ids",c[45]):0,c[37].set("send_type",c[38])}]):b.i64.eq(c[38],[0,4])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[44]=e:(d=b.item,c[44]=d.attachmentFbid)})},function(a){return c[44]!==e?(c[37].set("text",c[22]),c[37].set("forwarded_share_id",c[44]),c[37].set("send_type",c[38])):0}]):b.i64.eq(c[38],[0,5])?b.resolve(c[10]!==e?(c[37].set("forwarded_msg_id",c[10]),c[37].set("send_type",c[38]),b.i64.neq(c[24],e)?c[37].set("forward_score",c[24]):0,c[37].set("strip_forwarded_msg_caption",!1)):0):b.i64.eq(c[38],[0,6])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[23]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[44]=a[0],c[45]=a[1],a):(d=b.item,a=[d.filename,d.attributionAppId],c[44]=a[0],c[45]=a[1],a)})},function(a){return c[44]!==e?(c[37].set("url",c[44]),c[37].set("text",c[22]),c[37].set("send_type",c[38])):0}]):b.resolve(0)},function(a){return c[40]=c[6]===""?e:c[6],c[40]!==e?b.i64.neq(c[11],e)?(c[44]=new b.Map(),c[44].set("reply_source_id",c[40]),c[44].set("reply_source_type",c[11]),c[44].set("reply_type",c[30]==null?[0,0]:c[30]),c[37].set("reply_metadata",c[44])):0:0,c[41]=c[20]===""?e:c[20],c[41]!==e?(c[44]=c[25]===""?e:c[25],c[44]!==e?(c[45]=c[26]===""?e:c[26],c[45]!==e?(c[46]=new b.Map(),c[46].set("mention_ids",c[41]),c[46].set("mention_offsets",c[44]),c[46].set("mention_lengths",c[45]),c[46].set("mention_types",c[27]===""?e:c[27]),c[37].set("mention_data",c[46])):0):0):0,c[28]!==e?c[37].set("is_forwarded",c[28]):0,c[42]=c[7]===""?e:c[7],c[42]!==e?c[37].set("platform_ref",c[42]):0,c[43]=c[8]===""?e:c[8],c[43]!==e?c[37].set("platform_token",c[43]):0,[[0,1],[0,2]].some(function(a){return b.i64.eq(c[38],a)})?b.i64.neq(c[29],e)?c[37].set("hot_emoji_size",c[29]):0:0,b.i64.neq(c[12],e)?c[37].set("initiating_source",c[12]):0,c[13]!==e?c[37].set("skip_url_preview_gen",c[13]):0,b.resolve()},function(a){return c[39]=b.toJSON(c[37]),a=[c[39],[0,46]],c[33]=a[0],c[34]=a[1],a}])},function(a){return a=[c[33],c[34]],c[16]=a[0],c[17]=a[1],a}]))})},function(a){return a=[c[16],c[17]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSBeginHandlingPendingTasksForQueue",["LSAppendDataTraceAddon","LSFlushDataTrace.nop","LSLogMebClientEvent.nop","LSSerializeBackupPayloadIndirection.nop","LSSyncEpochs","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2","gkx","qex"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.ftr(c.db.table(3).fetch([[[a[0]]]]),function(b){return c.i64.neq(b.epochId,f)&&b.taskQueueName===a[0]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[0]=!1:(a.item,d[0]=!0)})},function(e){return d[2]=new c.Map(),d[2].set("queue_name",a[0]),d[2].set("next_sync_ms",f),d[2].set("work_item_type",[0,4]),d[2].set("network_payload",f),d[2].set("http_url_override",f),d[2].set("skip_realtime_gateway",!1),d[3]=d[2],d[0]?c.resolve():c.seq([function(b){return c.islc(c.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[4]=c[0],d[5]=c[1],d[6]=c[2],d[7]=c[3],d[8]=c[4],d[9]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],d[4]=c[0],d[5]=c[1],d[6]=c[2],d[7]=c[3],d[8]=c[4],d[9]=c[5],c)})},function(b){return c.db.table(3).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[11]=[0,0]:(b=a.item,d[11]=b.lastSyncRequestTimestampMs)})},function(e){return d[14]=c.i64.sub(d[5],c.i64.of_float(Date.now())),c.i64.le(d[14],[0,0])?(c.i64.eq(d[7],[0,0])||a[1]?d[15]=[0,0]:(c.i64.gt(d[7],[0,7])?d[17]=c.i64.sub(d[7],[0,7]):d[17]=d[7],d[18]=c.i64.sub(d[17],[0,1]),d[19]=c.i64.mul(c.i64.lsl_([0,1],c.i64.to_int32(c.i64.lt(d[18],[0,7])?d[18]:[0,7])),[0,500]),d[15]=c.i64.lt(d[19],[0,3e4])?d[19]:[0,3e4]),d[16]=c.i64.sub(c.i64.add(d[11],d[15]),c.i64.of_float(Date.now())),d[13]=c.i64.gt(d[16],[0,0])?d[16]:[0,0]):d[13]=d[14],c.i64.neq(d[13],[0,0])?c.resolve((d[15]=new c.Map(),d[15].set("queue_name",a[0]),d[15].set("next_sync_ms",d[13]),d[15].set("work_item_type",[0,3]),d[15].set("network_payload",f),d[15].set("http_url_override",f),d[15].set("skip_realtime_gateway",!1),d[3]=d[15])):c.seq([function(a){return c.i64.neq(d[6],[0,0])||d[8]==="16"||d[8]==="4"?c.resolve((a=[d[4],f,[0,2],f,f,!1],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],d[20]=a[5],a)):c.seq([function(a){return d[22]=c.createArray(),d[23]=!0,c.islc(c.db.table(2).fetch([[[d[4]]],"queueNameTaskId"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],d[29]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],d[29]=c[5],c)})},function(a){return c.db.table(2).fetch([[[d[4]]],"queueNameTaskId"]).next().then(function(a,b){b=a.done;a=a.value;return b?d[31]=!0:(a.item,d[31]=!0)})},function(a){return c.fe(c.db.table(2).fetch([[[d[4]]],"queueNameTaskId"]),function(a){var e=a.item;return d[42]=e.taskId,d[40]=e.context,d[43]=e.failureCount,d[41]=e.timeoutTimestampMs,d[23]=e.httpUrlOverride===d[29]&&!0===d[31]&&d[23],d[23]?c.seq([function(a){return d[40]===f?c.seq([function(a){return c.fe(c.db.table(2).fetch([[[d[42]]]]),function(a){return a["delete"]()})},function(a){return d[44]=f}]):c.seq([function(a){return c.i64.neq(d[41],f)?d[49]=c.i64.ge(c.i64.of_float(Date.now()),d[41]):d[49]=!1,d[49]?c.seq([function(a){return c.fe(c.db.table(2).fetch([[[d[42]]]]),function(a){return a["delete"]()})},function(a){return d[50]=f}]):c.seq([function(a){return c.seq([function(a){return c.resolve(d[55]=f)},function(a){return c.i64.neq(d[55],f)?d[56]=c.i64.sub(c.i64.of_float(Date.now()),d[55]):d[56]=f,d[40]==="46"?c.seq([function(a){return c.sp(b("LSTaskSerializerSendMessageV2"),d[42]).then(function(a){return a=a,d[63]=a[0],d[64]=a[1],a})},function(a){return a=[d[63],c.i64.to_string(d[64]),d[56]],d[57]=a[0],d[58]=a[1],d[59]=a[2],a}]):c.seq([function(a){return d[40]==="144"?c.seq([function(a){return c.sp(b("LSTaskSerializerMuteThreadV2"),d[42]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return a=[d[66],c.i64.to_string(d[67]),d[56]],d[63]=a[0],d[64]=a[1],d[65]=a[2],a}]):c.seq([function(a){return d[40]==="146"?c.seq([function(a){return c.sp(b("LSTaskSerializerRemoveThread"),d[42]).then(function(a){return a=a,d[69]=a[0],d[70]=a[1],a})},function(a){return a=[d[69],c.i64.to_string(d[70]),d[56]],d[66]=a[0],d[67]=a[1],d[68]=a[2],a}]):c.seq([function(a){return d[40]==="32"?c.seq([function(a){return c.seq([function(a){return c.db.table(32).fetch([[[d[42]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[77]=c.createArray(),d[78]=(d[77].push("taskSerializerUpdateThreadName: Task ID not found"),d[77]),d[79]=(d[77].push(d[42]),d[77]),d[80]=c.toJSON(d[77]),function(a){c.logger(a).mustfix(a)}(d[80]),e=[f,f],d[74]=e[0],d[75]=e[1],e):(b=a.item,c.seq([function(a){return d[80]=b.threadKey,c.db.table(9).fetch([[[d[80]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[81]=c.createArray(),d[82]=(d[81].push("taskSerializerUpdateThreadName: Thread not found"),d[81]),d[83]=(d[81].push(d[80]),d[81]),d[84]=c.toJSON(d[81]),function(a){c.logger(a).mustfix(a)}(d[84]),a=[f,f],d[77]=a[0],d[78]=a[1],a):(e=b.item,c.seq([function(a){return c.db.table(9).fetch([[[d[80]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[81]=[0,1]:(e=b.item,d[86]=e.syncGroup,c.i64.neq(d[86],f)?d[85]=d[86]:d[85]=[0,1],d[81]=d[85])})},function(a){return d[83]=new c.Map(),d[83].set("thread_key",d[80]),d[83].set("thread_name",e.threadName==null?"":e.threadName),d[83].set("sync_group",d[81]),d[84]=c.toJSON(d[83]),a=[d[84],[0,32]],d[77]=a[0],d[78]=a[1],a}]))})},function(a){return a=[d[77],d[78]],d[74]=a[0],d[75]=a[1],a}]))})},function(a){return a=[d[74],d[75]],d[72]=a[0],d[73]=a[1],a}])},function(a){return a=[d[72],c.i64.to_string(d[73]),d[56]],d[69]=a[0],d[70]=a[1],d[71]=a[2],a}]):c.seq([function(a){return d[40]==="362"?c.resolve((a=[f,f],d[75]=a[0],d[76]=a[1],a,a=[d[75],c.i64.to_string(d[76]),d[56]],d[72]=a[0],d[73]=a[1],d[74]=a[2],a)):c.seq([function(a){return d[40]==="50015"?c.seq([function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure]Beginning execution."),c.db.table(168).fetch().next().then(function(a,e){var h=a.done;a=a.value;return h?(h=[f,f],d[80]=h[0],d[81]=h[1],h):(e=a.item,c.seq([function(a){return d[85]=e.deviceId,c.i64.neq(d[85],f)?c.seq([function(a){return c.db.table(190).fetch([[[d[42]]]]).next().then(function(e,i){var a=e.done;e=e.value;return a?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure]No restore payload context found."),d[89]=c.createArray(),f!==f?d[90]=(d[89].push(f),d[89]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","No restore payload context found.",d[89],[0,3])},function(a){return a=[f,f],d[86]=a[0],d[87]=a[1],a}]):(i=e.item,c.seq([function(a){return d[95]=i.traceId,d[95]!==f?c.sp(b("LSAppendDataTraceAddon"),d[95],[0,3603],[0,2],f,f):c.resolve()},function(a){return d[89]=!1,d[89]?d[90]=!0:d[90]=!1,d[90]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[96]=c.createArray(),f!==f?d[97]=(d[96].push(f),d[96]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[96],[0,3])):c.resolve()},function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure]Beginning execution."),c.ct(c.ftr(c.db.table(169).fetch(),function(a){return c.i64.eq(a.epochStatus,[0,1])&&c.i64.eq(a.authorityLevel,[0,80])})).then(function(a){return d[96]=a})},function(a){return c.i64.le(d[96],[0,1])?c.seq([function(a){return c.ftr(c.db.table(169).fetch(),function(a){return c.i64.eq(a.epochStatus,[0,1])&&c.i64.eq(a.authorityLevel,[0,80])}).next().then(function(e,i){var a=e.done;e=e.value;return a?c.seq([function(a){return d[101]=function(a){return a==f?f:a}(b("qex")._("1221")),d[101]!==f?d[100]=d[101]:d[100]=!1,d[100]===!1?function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure]Epoch rotation is disabled but open epoch count is not 1. Executing sync"):0,c.sp(b("LSSyncEpochs"))},function(a){return d[98]=f}]):(i=e.item,d[100]=new c.Map(),d[100].set("epoch_id",i.epochId),d[100].set("epoch_root_key",i.epochRootKeyBlob),d[100].set("epoch_anon_id",i.epochAnonIdBlob),d[98]=d[100])})},function(a){return d[97]=d[98]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsSecureEncryptedBackupsEpochsTable]Error! More than 1 open epoch was found. Calling the sync flow and returning empty results"),d[98]=c.createArray(),f!==f?d[101]=(d[98].push(f),d[98]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSecureEncryptedBackupsEpochsTable","Error! More than 1 open epoch was found. Calling the sync flow and returning empty results",d[98],[0,3])},function(a){return c.sp(b("LSSyncEpochs"))},function(a){return c.ftr(c.db.table(169).fetch(),function(a){return!1}).next().then(function(e,i){var a=e.done;e=e.value;return a?c.seq([function(a){return d[102]=function(a){return a==f?f:a}(b("qex")._("1221")),d[102]!==f?d[101]=d[102]:d[101]=!1,d[101]===!1?function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure]Epoch rotation is disabled but open epoch count is not 1. Executing sync"):0,c.sp(b("LSSyncEpochs"))},function(a){return d[99]=f}]):(i=e.item,d[101]=new c.Map(),d[101].set("epoch_id",i.epochId),d[101].set("epoch_root_key",i.epochRootKeyBlob),d[101].set("epoch_anon_id",i.epochAnonIdBlob),d[99]=d[101])})},function(a){return d[97]=d[99]}])},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure]Finishing execution."),d[91]=d[97]}])},function(a){return d[91]!==f?(d[96]=d[91].get("epoch_id"),d[91],d[92]=d[96]):d[92]=f,d[93]=new c.Map(),d[93].set("content_type",i.contentType),d[93].set("device_id",d[85]),d[93].set("epoch_id",d[92]),d[93].set("list_id",i.listId),d[93].set("num_items",i.numItems),d[93].set("start_sort_key",i.startSortKey),d[93].set("mailbox_partial_id",i.mailboxPartialId),d[93].set("trace_id",d[95]),d[93].set("message_partial_id",i.messagePartialId),d[93].set("newer_num_items",i.newerNumItems),d[94]=c.toJSON(d[93]),a=[d[94],[0,50015]],d[86]=a[0],d[87]=a[1],a}]))})},function(a){return a=[d[86],d[87]],d[83]=a[0],d[84]=a[1],a}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure]Unexpected error: Device ID is null."),d[86]=c.createArray(),f!==f?d[87]=(d[86].push(f),d[86]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure","Unexpected error: Device ID is null.",d[86],[0,3])},function(a){return a=[f,f],d[83]=a[0],d[84]=a[1],a}])},function(a){return a=[d[83],d[84]],d[80]=a[0],d[81]=a[1],a}]))})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure]Finishing execution."),a=[d[80],d[81]],d[78]=a[0],d[79]=a[1],a}])},function(a){return a=[d[78],c.i64.to_string(d[79]),d[56]],d[75]=a[0],d[76]=a[1],d[77]=a[2],a}]):c.seq([function(a){return d[40]==="319"?c.seq([function(a){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]Beginning execution."),c.db.table(177).fetch([[[d[42]]],"fk_pending_tasks"]).next().then(function(a,e){var h=a.done;a=a.value;return h?c.seq([function(a){return c.db.table(2).fetch([[[d[42]]]]).next().then(function(e,i){var a=e.done;e=e.value;return a?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]Task not found."),d[93]=c.createArray(),f!==f?d[94]=(d[93].push(f),d[93]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure","Task not found.",d[93],[0,3])},function(a){return d[90]=f}]):(i=e.item,d[90]=i.dataTraceId)})},function(a){return d[92]="Pending backup context not found",d[92]!==f?c.seq([function(a){return d[96]=["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]","",d[92]].join(""),function(a){c.logger(a).mustfix(a)}(d[96]),d[93]=c.createArray(),d[90]!==f?d[97]=(d[93].push(d[90]),d[93]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure",d[92],d[93],[0,3])},function(a){return d[90]!==f?c.seq([function(a){return d[90]!==f?c.sp(b("LSAppendDataTraceAddon"),d[90],[0,85],[0,2],d[96],f):c.resolve()},function(a){return d[97]=!1,d[97]?d[98]=!0:d[98]=!1,d[98]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[99]=c.createArray(),f!==f?d[100]=(d[99].push(f),d[99]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[99],[0,3])):c.resolve()}]):c.resolve()},function(a){return d[90]!==f?c.nop(b("LSFlushDataTrace.nop"),d[90]):c.resolve()},function(a){return d[94]=!1,d[94]?d[95]=!0:d[95]=!1,d[95]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[97]=c.createArray(),f!==f?d[98]=(d[97].push(f),d[97]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[97],[0,3])):c.resolve()}]):c.seq([function(a){return d[90]!==f?c.seq([function(a){return d[90]!==f?c.sp(b("LSAppendDataTraceAddon"),d[90],[0,85],[0,2],["[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]","",""].join(""),f):c.resolve()},function(a){return d[95]=!1,d[95]?d[96]=!0:d[96]=!1,d[96]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[97]=c.createArray(),f!==f?d[98]=(d[97].push(f),d[97]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[97],[0,3])):c.resolve()}]):c.resolve()},function(a){return d[90]!==f?c.nop(b("LSFlushDataTrace.nop"),d[90]):c.resolve()},function(a){return d[93]=!1,d[93]?d[94]=!0:d[94]=!1,d[94]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[95]=c.createArray(),f!==f?d[96]=(d[95].push(f),d[95]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[95],[0,3])):c.resolve()}])},function(a){return d[83]=f}]):(e=a.item,d[83]=e.lsTraceId)})},function(a){return d[83]!==f?c.sp(b("LSAppendDataTraceAddon"),d[83],[0,1452],[0,2],f,f):c.resolve()},function(a){return d[85]=!1,d[85]?d[86]=!0:d[86]=!1,d[86]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils]LSDataTraceMciTraceLog native op not supported"),d[90]=c.createArray(),f!==f?d[91]=(d[90].push(f),d[90]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[90],[0,3])):c.resolve()},function(a){return d[83]!==f?c.resolve(0):(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]Trace ID is null"),d[90]=c.createArray(),f!==f?d[91]=(d[90].push(f),d[90]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure","Trace ID is null",d[90],[0,3]))},function(a){return c.db.table(177).fetch([[[d[42]]],"fk_pending_tasks"]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[87]=f:(b=a.item,d[87]=b.echoContent)})},function(a){return c.nop(b("LSSerializeBackupPayloadIndirection.nop"),d[42],d[87],d[83]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupActionStoredProcedure]Finishing execution."),a=[d[89],[0,319]],d[81]=a[0],d[82]=a[1],a}])},function(a){return a=[d[81],c.i64.to_string(d[82]),d[56]],d[78]=a[0],d[79]=a[1],d[80]=a[2],a}]):c.resolve((a=[e.taskValue,d[40],d[56]],d[78]=a[0],d[79]=a[1],d[80]=a[2],a))},function(a){return a=[d[78],d[79],d[80]],d[75]=a[0],d[76]=a[1],d[77]=a[2],a}])},function(a){return a=[d[75],d[76],d[77]],d[72]=a[0],d[73]=a[1],d[74]=a[2],a}])},function(a){return a=[d[72],d[73],d[74]],d[69]=a[0],d[70]=a[1],d[71]=a[2],a}])},function(a){return a=[d[69],d[70],d[71]],d[66]=a[0],d[67]=a[1],d[68]=a[2],a}])},function(a){return a=[d[66],d[67],d[68]],d[63]=a[0],d[64]=a[1],d[65]=a[2],a}])},function(a){return a=[d[63],d[64],d[65]],d[57]=a[0],d[58]=a[1],d[59]=a[2],a}])},function(a){return d[31]?(a=[d[57],d[58],d[59]],d[60]=a[0],d[61]=a[1],d[62]=a[2],a):(a=[f,f],d[63]=a[0],d[64]=a[1],a,a=[d[63],c.i64.to_string(d[64]),d[56]],d[60]=a[0],d[61]=a[1],d[62]=a[2],a),a=[d[60],d[61],d[62]],d[51]=a[0],d[52]=a[1],d[53]=a[2],a}])},function(a){return d[51]!==f?(d[55]=new c.Map(),d[55].set("label",d[52]),d[55].set("payload",d[51]),d[55].set("queue_name",e.queueName),d[55].set("task_id",d[42]),d[55].set("failure_count",c.i64.eq(d[43],[0,0])?f:d[43]),d[54]=d[55]):d[54]=f,d[50]=d[54]}])},function(a){return d[44]=d[50]}])},function(a){return d[44]?d[45]=!1:d[45]=!0,d[45]?0:d[49]=(d[22].push(d[44]),d[22]),d[46]=c.i64.of_int32(d[22].length),b("gkx")("6280")?d[47]=[0,50]:d[47]=[0,5],d[40]!==f?d[48]=["90","130","153"].includes(d[40]):d[48]=!1,d[23]=!(c.i64.ge(d[46],d[47])||d[48])}]):c.resolve()})},function(a){return d[33]=c.i64.of_int32(d[22].length),c.i64.eq(d[33],[0,0])?c.resolve((a=[d[4],f,[0,4],f,f,!1],d[34]=a[0],d[35]=a[1],d[36]=a[2],d[37]=a[3],d[38]=a[4],d[39]=a[5],a)):c.seq([function(a){return d[40]=c.i64.random(),d[50]=c.i64.and_(c.i64.or_(c.i64.lsl_(c.i64.of_float(Date.now()),c.i64.to_int32([0,22])),c.i64.and_(d[40],[0,4194303])),[2147483647,4294967295]),c.db.table(3).fetch([[[d[4],[-1,4294967295]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c.db.table(3).add({syncDatabaseId:[-1,4294967295],taskQueueName:d[4],failureCount:[0,0],lastSentTimestampMs:[0,0],lastSyncRequestTimestampMs:c.i64.of_float(Date.now()),epochId:d[50]}):(a.item,c.fe(c.db.table(3).fetch([[[d[4],[-1,4294967295]]]]),function(a){var b=a.update;a.item;return b({epochId:d[50],lastSyncRequestTimestampMs:c.i64.of_float(Date.now())})}))})},function(a){return c.islc(c.db.table(2).fetch([[[d[4]]],"queueNameTaskId"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[42]=c[0],d[43]=c[1],d[44]=c[2],d[45]=c[3],d[46]=c[4],d[47]=c[5],c):(b=a.item,c=[b.queueName,b.minTimeToSyncTimestampMs,b.pluginType,b.failureCount,b.context,b.httpUrlOverride],d[42]=c[0],d[43]=c[1],d[44]=c[2],d[45]=c[3],d[46]=c[4],d[47]=c[5],c)})},function(a){return d[49]=new c.Map(),d[49].set("tasks",d[22]),d[49].set("epoch_id",d[50]),a=[d[4],f,[0,1],d[49],d[47],!(d[47]===f)||c.i64.gt(d[45],[0,7])],d[34]=a[0],d[35]=a[1],d[36]=a[2],d[37]=a[3],d[38]=a[4],d[39]=a[5],a}])},function(a){return a=[d[34],d[35],d[36],d[37],d[38],d[39]],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],d[20]=a[5],a}])},function(a){return d[21]=new c.Map(),d[21].set("queue_name",d[15]),d[21].set("next_sync_ms",d[16]),d[21].set("work_item_type",d[17]),d[21].set("network_payload",d[18]),d[21].set("http_url_override",d[19]),d[21].set("skip_realtime_gateway",d[20]),d[3]=d[21]}])}])},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSBeginHandlingSyncForSyncGroup",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?c[0]=e:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],e,[0,4],e,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.seq([function(a){return c[9]=c[0].get("group_id"),c[0],b.ftr(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,e)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),c[0],d=[c[17],e,[0,4],e,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.seq([function(d){return c[27]=b.i64.of_float(Date.now()),c[17]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[18]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[19]=c[0].get("can_ignore_timestamp"),c[0],c[19]&&a[1]||b.i64.ge(c[27],c[17])?b.seq([function(d){return a[1]?b.resolve(c[28]=[0,0]):b.seq([function(a){return c[29]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[30]=[0,0]:(b=a.item,c[30]=b.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_([0,1],b.i64.to_int32(b.i64.lt([0,15],c[30])?[0,15]:c[30])),[0,1]),[0,500]),c[33]=b.i64.sub(b.i64.add(c[18]==null?[0,0]:c[18],b.i64.lt(c[32],[0,3e4])?c[32]:[0,3e4]),c[27]),c[28]=b.i64.gt(c[33],[0,0])?c[33]:[0,0]}])},function(a){return c[20]=c[28]}]):b.resolve(c[20]=b.i64.sub(c[17],c[27]))},function(a){return c[21]=c[0].get("group_id"),c[0],b.i64.gt(c[20],[0,0])?b.seq([function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[21])}),function(a){var c=a.update;a.item;return c({lastDelayedRequestTimestampMs:b.i64.of_float(Date.now())})})},function(a){return a=[c[21],c[20],[0,3],e,!1],c[22]=a[0],c[23]=a[1],c[24]=a[2],c[25]=a[3],c[26]=a[4],a}]):b.seq([function(a){return b.fe(b.db.table(1).fetch([[[c[21]]]]),function(a){var c=a.update;a.item;return c({lastSyncRequestTimestampMs:b.i64.of_float(Date.now())})})},function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[21])}),function(a){var c=a.update;a.item;return c({lastSyncRequestTimestampMs:b.i64.of_float(Date.now())})})},function(a){return c[28]=c[0].get("group_id"),c[0],c[29]=b.i64.random(),c[42]=b.i64.and_(b.i64.or_(b.i64.lsl_(b.i64.of_float(Date.now()),b.i64.to_int32([0,22])),b.i64.and_(c[29],[0,4194303])),[2147483647,4294967295]),b.db.table(3).fetch([[["",c[28]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[28],taskQueueName:"",failureCount:[0,0],lastSentTimestampMs:[0,0],lastSyncRequestTimestampMs:[0,0],epochId:c[42]}):(a.item,b.fe(b.db.table(3).fetch([[["",c[28]]]]),function(a){var b=a.update;a.item;return b({epochId:c[42]})}))})},function(a){return c[31]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[31]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[32]=[0,0]:(b=a.item,c[32]=b.failureCount)})},function(a){return c[34]=c[0].get("send_sync_params"),c[0],c[35]=c[0].get("sync_params"),c[0],c[36]=c[0].get("current_cursor"),c[0],c[37]=new b.Map(),c[37].set("database",c[31]),c[37].set("version",[-1,4294967295]),c[37].set("epoch_id",c[42]),c[37].set("last_applied_cursor",c[36]),c[37].set("sync_params",c[34]?c[35]:e),c[37].set("failure_count",b.i64.gt(c[32],[0,0])?c[32]:e),c[38]=c[0].get("current_cursor"),c[0],e===c[38]?c[39]=[0,1]:c[39]=[0,2],c[40]=new b.Map(),c[40].set("type",c[39]),c[40].set("request_payload",c[37]),c[41]=c[0].get("sync_channel"),c[0],a=[c[28],e,[0,1],c[40],b.i64.eq(c[41],[0,2])],c[22]=a[0],c[23]=a[1],c[24]=a[2],c[25]=a[3],c[26]=a[4],a}])},function(a){return a=[c[22],c[23],c[24],c[25],c[26]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(e){return d[0]=c.createArray(),c.fe(c.db.table(1).fetch(),function(e){var f=e.item;return c.seq([function(e){return c.sp(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSHandleTaskSendFailureForQueue",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.islc(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),0,b.i64.to_float([0,1])).next().then(function(a,d){var f=a.done;a=a.value;return f?0:(d=a.item,b.db.table(2).fetch([[[d.taskId]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.i64.neq(e,e)?c[1]=b.i64.add(b.i64.of_float(Date.now()),e):c[1]=f.minTimeToSyncTimestampMs,b.fe(b.db.table(2).fetch([[[f.taskId]]]),function(a){var d=a.update;a.item;return d({failureCount:b.i64.add(f.failureCount,[0,1]),minTimeToSyncTimestampMs:c[1]})}))}))})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],[-1,4294967295]]]]),function(a){var c=a.update;a=a.item;return c({failureCount:b.i64.add(a.failureCount,[0,1])})})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],[-1,4294967295]]]]),function(a){var b=a.update;a.item;return b({epochId:e,networkTaskIdentifier:e})})}])},function(a){return b.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSHandleFailedTask",["LSHandleTaskSendFailureForQueue"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return function(a){c.logger(a).warn(a)}(a[2]),a[1]!==e?c.sp(b("LSHandleTaskSendFailureForQueue"),a[1]):c.resolve()},function(a){return c.resolve(d)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSHandleTaskSendSuccessForQueue",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(3).fetch([[[a[0],[-1,4294967295]]]]),function(c){return c.taskQueueName===a[0]&&b.i64.eq(c.syncDatabaseId,[-1,4294967295])&&!b.i64.eq(c.epochId,d)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSDataTraceFlushDeferred.bs",["bs_curry","killswitch","requireDeferred"],function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("LSDataTraceFlush.bs").__setRef("LSDataTraceFlushDeferred.bs");function a(a){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")){g.onReady(function(c){return b("bs_curry")._1(c.flushExpiredDataTraces,a)});return}}f.$LSDataTraceFlush$Deferred=g;f.watchForExpiredTraces=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSClearEpochBeforeResumeSync.bs",["LSPersistedDbGating","LSTransaction.bs","Promise","ReQL.bs","killswitch"],function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").allTablesPersisted)return b("LSTransaction.bs").run(a,function(a){var c;return(c=b("ReQL.bs")).toArray(c.mergeJoin(c.fromTableAscending(a.table("sync_groups")),c.getKeyRange(c.fromTableAscending(a.table("network_requests")),{hd:"",tl:0}))).then(function(c){return b("Promise").all(c.map(function(b){b=b[1];return a.table("network_requests").put({taskQueueName:b.taskQueueName,syncDatabaseId:b.syncDatabaseId,epochId:void 0,networkTaskIdentifier:b.networkTaskIdentifier,lastSentTimestampMs:b.lastSentTimestampMs,failureCount:b.failureCount,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs})}))}).then(function(c){return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(a.table("network_requests")),function(a){return a.taskQueueName!==""})).then(function(c){return b("Promise").all(c.map(function(b){return a.table("network_requests").put({taskQueueName:b.taskQueueName,syncDatabaseId:b.syncDatabaseId,epochId:void 0,networkTaskIdentifier:b.networkTaskIdentifier,lastSentTimestampMs:b.lastSentTimestampMs,failureCount:b.failureCount,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs})}))})})},"readWrite").then(function(a){return b("Promise").resolve(void 0)});else return b("Promise").resolve(void 0)}f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformGraphQLTransport.bs",["FBLogger","LSDynamicDependencies","LSLogHistory","Promise","Promise.bs","bs_belt_Option","bs_caml_exceptions","bs_caml_int64","bs_caml_option","bs_int64"],function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("LSPlatformGraphQLTransport.ServerError");function a(a,c,d,e,f){return b("Promise.bs").$$catch(f(a,c,e,b("bs_caml_int64").to_int32(d)),function(a){if(a.RE_EXN_ID===b("Promise.bs").JsError){a=a._1;var c=a.message;b("LSLogHistory").log("Error sending Graphql Request. Type: "+b("bs_int64").to_string(d)+" Message: "+(c!==void 0?c:"None"),"error");b("FBLogger")("messenger_web_product").catching(a).debug("Relay or Graphql Server error in LSPlatformGraphqlTransport")}throw{RE_EXN_ID:g,Error:new Error()}}).then(function(c){c=b("bs_belt_Option").getExn(c==null?void 0:b("bs_caml_option").some(c));var a=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(c.payload)),d=c.dependencies;d=d==null?b("Promise").resolve(void 0):b("LSDynamicDependencies").downloadRelayDependencies(d);return[d,a,b("bs_caml_option").nullable_to_opt(c.experiments)]})}f.ServerError=g;f.publish=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformHardcodedInitSync.bs",["CurrentUser","LSDatabaseType.bs","LSDict","LSJson","LSPersistedDbGating","LSPlatformGraphQLTransport.bs","LSRequestType.bs","LSTransaction.bs","MAWTTRC.bs","MWPBumpEntityKey.bs","Promise","Promise.bs","QPLUserFlow","QuickPerformanceLogger","ReQL.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_js_dict","cr:2864","cr:4433","justknobx","qpl","recoverableViolation"],function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_int64").zero;c=b("cr:2864")==null?void 0:b("bs_caml_option").some(b("cr:2864"));var h=b("cr:2864")==null?!1:b("bs_curry")._1(b("cr:2864").isArmadillo,void 0)&&b("bs_curry")._1(b("cr:2864").isOccamadillo,void 0),i=b("bs_belt_Option").mapWithDefault(c,!1,function(a){return b("bs_curry")._1(a.isArmadillo,void 0)});function j(a){return b("LSTransaction.bs").run(a,function(a){var c;return b("Promise").all([a.table("network_requests").put({taskQueueName:"",syncDatabaseId:b("LSDatabaseType.bs").mailbox,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:(c=b("bs_caml_int64")).zero,failureCount:c.zero,lastSyncRequestTimestampMs:c.zero,lastDelayedRequestTimestampMs:void 0}),a.table("network_requests").put({taskQueueName:"",syncDatabaseId:b("LSDatabaseType.bs").contact,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:c.zero,failureCount:c.zero,lastSyncRequestTimestampMs:c.zero,lastDelayedRequestTimestampMs:void 0}),h?a.table("network_requests").put({taskQueueName:"",syncDatabaseId:b("LSDatabaseType.bs").e2eeMessagingMetadataMailbox,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:b("bs_caml_int64").zero,failureCount:b("bs_caml_int64").zero,lastSyncRequestTimestampMs:b("bs_caml_int64").zero,lastDelayedRequestTimestampMs:void 0}):b("Promise").resolve(void 0)])},"readWrite").then(function(a){return b("Promise").resolve(void 0)})}function k(a){return b("LSTransaction.bs").run(a,function(a){var c;return b("Promise").all([(c=b("ReQL.bs")).first(c.getKeyRange(c.fromTableAscending(a.table("network_requests")),{hd:"",tl:{hd:b("LSDatabaseType.bs").mailbox,tl:0}})),c.first(c.getKeyRange(c.fromTableAscending(a.table("network_requests")),{hd:"",tl:{hd:b("LSDatabaseType.bs").contact,tl:0}})),h?b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("network_requests")),{hd:"",tl:{hd:b("LSDatabaseType.bs").e2eeMessagingMetadataMailbox,tl:0}})):b("Promise").resolve(void 0)]).then(function(c){var d=c[2],e=c[1];c=c[0];c=c!==void 0&&e!==void 0?b("Promise").all([a.table("network_requests").put({taskQueueName:c.taskQueueName,syncDatabaseId:c.syncDatabaseId,epochId:g,networkTaskIdentifier:c.networkTaskIdentifier,lastSentTimestampMs:c.lastSentTimestampMs,failureCount:c.failureCount,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs}),a.table("network_requests").put({taskQueueName:e.taskQueueName,syncDatabaseId:e.syncDatabaseId,epochId:g,networkTaskIdentifier:e.networkTaskIdentifier,lastSentTimestampMs:e.lastSentTimestampMs,failureCount:e.failureCount,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs})]).then(function(a){}):b("Promise").resolve(void 0);e=h&&d!==void 0?a.table("network_requests").put({taskQueueName:d.taskQueueName,syncDatabaseId:d.syncDatabaseId,epochId:g,networkTaskIdentifier:d.networkTaskIdentifier,lastSentTimestampMs:d.lastSentTimestampMs,failureCount:d.failureCount,lastSyncRequestTimestampMs:d.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:d.lastDelayedRequestTimestampMs}):b("Promise").resolve(void 0);return b("Promise").all([c,e]).then(function(a){})})},"readWrite")}function l(a){if(b("LSPersistedDbGating").allTablesPersisted&&b("justknobx")._("207"))return a.runInTransaction(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("network_requests")),{hd:"",tl:{hd:b("LSDatabaseType.bs").mailbox,tl:0}})).then(function(c){if(c!==void 0)return a.table("network_requests").put({taskQueueName:c.taskQueueName,syncDatabaseId:c.syncDatabaseId,epochId:void 0,networkTaskIdentifier:c.networkTaskIdentifier,lastSentTimestampMs:c.lastSentTimestampMs,failureCount:c.failureCount,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs});else return b("Promise").resolve(void 0)})},"readwrite","ui");else return b("Promise").resolve(void 0)}function a(a,c,d){var e=b("CurrentUser").isWorkUser();return k(d).then(function(f){return b("Promise.bs").$$catch(b("Promise").all([(f=b("ReQL.bs")).first(f.getKeyRange(f.fromTableAscending(d.table("sync_groups")),{hd:b("LSDatabaseType.bs").mailbox,tl:0})),f.first(f.getKeyRange(f.fromTableAscending(d.table("sync_groups")),{hd:b("LSDatabaseType.bs").contact,tl:0})),h?b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("sync_groups")),{hd:b("LSDatabaseType.bs").e2eeMessagingMetadataMailbox,tl:0})):b("Promise").resolve(void 0)]).then(function(f){var i,j=(i=b("bs_belt_Option")).mapWithDefault(f[0],void 0,function(a){return a.currentCursor}),k=i.mapWithDefault(f[1],void 0,function(a){return a.currentCursor});f=i.mapWithDefault(f[2],void 0,function(a){return a.currentCursor});var m=new(b("LSDict"))().set("database",b("LSDatabaseType.bs").mailbox).set("epoch_id",g).set("last_applied_cursor",j).set("sync_params",i.getExn(b("bs_js_dict").get(a.syncParams,"mailbox"))).set("version",b("bs_caml_format").caml_int64_of_string(a.schemaVersion));i=new(b("LSDict"))().set("database",b("LSDatabaseType.bs").contact).set("epoch_id",g).set("last_applied_cursor",k).set("sync_params",i.getExn(b("bs_js_dict").get(a.syncParams,"contact"))).set("version",b("bs_caml_format").caml_int64_of_string(a.schemaVersion));var n=b("bs_js_dict").get(a.syncParams,"e2ee");n=new(b("LSDict"))().set("database",b("LSDatabaseType.bs").e2eeMessagingMetadataMailbox).set("epoch_id",g).set("last_applied_cursor",f).set("sync_params",n!==void 0?n:"{}").set("version",b("bs_caml_format").caml_int64_of_string(a.schemaVersion));e&&(b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"start_mailbox"),b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"start_contact"));b("QPLUserFlow").addAnnotations(b("qpl")._(25305590,"1127"),{string:{mailboxSync:b("bs_belt_Option").isSome(j)?"resume":"init",contactsSync:b("bs_belt_Option").isSome(k)?"resume":"init"}});return b("Promise").all([b("LSPlatformGraphQLTransport.bs").publish(a.deviceId,0,b("bs_belt_Option").isSome(j)?b("LSRequestType.bs").resumeSync:b("LSRequestType.bs").initSync,b("LSJson").stringify(m),a.executeGraphQLLightSpeedRequest).then(function(a){e&&b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"mailbox_synced");return b("Promise").resolve([a[0],a[1],a[2]])}),b("LSPlatformGraphQLTransport.bs").publish(a.deviceId,1,b("bs_belt_Option").isSome(k)?b("LSRequestType.bs").resumeSync:b("LSRequestType.bs").initSync,b("LSJson").stringify(i),a.executeGraphQLLightSpeedRequest).then(function(a){e&&b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"contact_synced");return b("Promise").resolve([a[0],a[1],a[2]])}),h?b("LSPlatformGraphQLTransport.bs").publish(a.deviceId,2,b("bs_belt_Option").isSome(f)?b("LSRequestType.bs").resumeSync:b("LSRequestType.bs").initSync,b("LSJson").stringify(n),a.executeGraphQLLightSpeedRequest):b("Promise").resolve([b("Promise").resolve(void 0),"",void 0])]).then(function(a){var d=a[2],e=d[2],f=d[1],g=a[1],i=g[2],j=g[1];a=a[0];var k=a[2],l=a[1];b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"gql_payload_received",void 0);h&&b("QPLUserFlow").addPoint(b("qpl")._(25310776,"6155"),"gql_payload_received",void 0);return b("Promise").all([a[0],g[0],d[0]]).then(function(a){b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"gql_deps_downloaded",void 0);h&&b("QPLUserFlow").addPoint(b("qpl")._(25310776,"6155"),"gql_deps_downloaded",void 0);return b("bs_curry")._1(c,{experiments:k,syncScript:l})}).then(function(a){return b("bs_curry")._1(c,{experiments:i,syncScript:j})}).then(function(a){if(!h)return b("Promise").resolve(void 0);a=f.split("updateOrInsertThread").length-1|0;b("cr:4433")==null||b("bs_curry")._1(b("cr:4433").initSync,a);return b("bs_curry")._1(c,{experiments:e,syncScript:f})})}).then(function(a){if(j!==void 0)return l(d);else return b("Promise").resolve(void 0)})}).then(function(a){e&&b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"sync_completed"),b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"success_with_init_sync",void 0),b("QPLUserFlow").endSuccess(b("qpl")._(25305590,"1127"),void 0),i&&b("MAWTTRC.bs").markEvent("ls_init_end"),h&&b("QPLUserFlow").addPoint(b("qpl")._(25310776,"6155"),"success_with_init_sync",void 0),b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw_graphql","init_sync.success"),b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw_ls","init_sync.success")}),function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");e&&b("QuickPerformanceLogger").markerPoint(b("qpl")._(1036588047,"310"),"sync_failed");b("QPLUserFlow").endFailure(b("qpl")._(25305590,"1127"),"failure_during_init_sync",void 0);b("QPLUserFlow").endFailure(b("qpl")._(25310776,"6155"),"failure_during_init_sync",void 0);b("MAWTTRC.bs").fail("ls_init_fail");a.RE_EXN_ID===b("LSPlatformGraphQLTransport.bs").ServerError||a.RE_EXN_ID!==b("Promise.bs").JsError||b("recoverableViolation")("Encountered an error while performining preloaded init sync request via graphql","messenger_web_product",{error:b("bs_caml_option").some(a._1)});return j(d)})})}d={taskQueueName:"",syncDatabaseId:b("bs_caml_int64").zero,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:b("bs_caml_int64").zero,failureCount:b("bs_caml_int64").zero,lastSyncRequestTimestampMs:b("bs_caml_int64").zero,lastDelayedRequestTimestampMs:void 0};f.defaultNetworkRequest=d;f.initialEpochId=g;f.$MAWGating$requireCondXplat=b("cr:2864");f.mawGating=c;f.isArmadilloAndOccamadillo=h;f.isArmadillo=i;f.handlePreloadedSyncFailure=j;f.setEpochId=k;f.clearEpochForMailbox=l;f.$MAWCommonSetup$requireCondXplat=b("cr:4433");f.sendHardcodedInitSync=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformRequestId",[],function(a,b,c,d,e,f){"use strict";var g=4;function a(){var a=g;g+=1;return a}b={generate:a};f["default"]=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformRequestScheduler",["clearTimeout","setTimeout"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.requests=new Map()}var b=a.prototype;b.schedule=function(a,b,d){var e=this.requests.get(b);e!=null&&c("clearTimeout")(e);this.requests.set(b,c("setTimeout")(a,d))};b.cleanup=function(){this.requests.forEach(function(a){return c("clearTimeout")(a)})};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSTaskWorkItemType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];f.workItemTypeSendToServer=a;f.workItemTypeHandleNative=c;f.workItemTypeDelayHandling=d;f.workItemTypeNone=e;f.workItemTypeSendToServerFireAndForget=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformSyncSystem.bs",["LS.bs","LSBeginHandlingSync","LSBeginHandlingSyncForSyncGroup","LSCookie.bs","LSDict","LSJson","LSLogHistory","LSPersistedDbGating","LSPlatformGraphQLTransport.bs","LSPlatformRealtimeTransport.bs","LSPlatformRequestId","LSPlatformRequestScheduler","LSSyncChannel.bs","LSTaskWorkItemType.bs","LSTransaction.bs","MWPBumpEntityKey.bs","Promise","Promise.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","bs_js_dict","killswitch","promiseDone","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h=function(a,c){return b("LSTransaction.bs").run(a,function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("network_requests")),{hd:"",tl:{hd:c,tl:0}})).then(function(c){if(c!==void 0)return a.table("network_requests").put({taskQueueName:c.taskQueueName,syncDatabaseId:c.syncDatabaseId,epochId:void 0,networkTaskIdentifier:c.networkTaskIdentifier,lastSentTimestampMs:c.lastSentTimestampMs,failureCount:b("bs_caml_int64").add(c.failureCount,b("bs_caml_int64").one),lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs});else return b("Promise").resolve(void 0)})},"readWrite")},i=new(b("LSPlatformRequestScheduler"))(),j=function(a,h,i){i=b("LSDict").shapeToRecord(i);var j=b("LSDict").shapeToRecord(i.request_payload),k=i.type,l=b("LSPlatformRequestId").generate(),m=b("LSJson").stringify(b("LSDict").fromObject({database:j.database,version:b("bs_caml_format").caml_int64_of_string(e),epoch_id:j.epoch_id,last_applied_cursor:j.last_applied_cursor,failure_count:j.failure_count,sync_params:j.sync_params}));if(h.skip_realtime_gateway)return b("LSPlatformGraphQLTransport.bs").publish(f,l,k,m,g).then(function(a){return b("bs_curry")._1(d,{experiments:a[2],syncScript:a[1]}).then(function(a){return b("Promise").resolve(void 0)})});else return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:h.sync_group_id,tl:0})).then(function(a){a=a!==void 0?a.syncChannel:b("LSSyncChannel.bs").mqtt;return b("bs_curry")._5(c.publish,a,void 0,l,k,m).then(function(a){return b("Promise").resolve(void 0)})})},k=function a(c,d){var e=function(d){return b("LSTransaction.bs").run(c,function(a){return b("LSBeginHandlingSyncForSyncGroup")(d,!1,b("LS.bs").make(a))},"readWrite").then(function(b){return a(c,b[0])})},f=function(a,c){i.schedule(function(){b("promiseDone")(e(a),void 0,void 0)},b("bs_int64").to_string(a),b("bs_caml_int64").to_float(c))},g=b("LSDict").shapeToRecord(d);d=g.work_item_type;if(b("bs_caml").i64_eq(d,b("LSTaskWorkItemType.bs").workItemTypeSendToServer)||b("bs_caml").i64_eq(d,b("LSTaskWorkItemType.bs").workItemTypeSendToServerFireAndForget)){var k=g.network_payload;if(k!==void 0)return b("Promise.bs").$$catch(j(c,g,b("bs_caml_option").valFromOption(k)),function(a){var d=0;a.RE_EXN_ID===b("LSPlatformGraphQLTransport.bs").ServerError?b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error"):a.RE_EXN_ID===b("Promise.bs").JsError?(b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_js_error"),b("recoverableViolation")("Encountered an JS error while publishing a LS sync request","messenger_web_product",{error:b("bs_caml_option").some(a._1)})):a.RE_EXN_ID===b("LSPlatformRealtimeTransport.bs").Timeout||a.RE_EXN_ID===b("LSPlatformRealtimeTransport.bs").NotConnected?d=1:(b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error"),b("recoverableViolation")("Encountered an error while publishing a LS sync request with non JS error error","messenger_web_product"));d===1&&(b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),b("LSLogHistory").log("Publish timed out","warn"));return h(c,g.sync_group_id).then(function(a){return e(g.sync_group_id)})});else{b("recoverableViolation")("Expected networkpayload for sync request but didn't get any","messenger_web_product");return b("Promise").resolve(void 0)}}if(!b("bs_caml").i64_eq(d,b("LSTaskWorkItemType.bs").workItemTypeDelayHandling))if(b("bs_caml").i64_eq(d,b("LSTaskWorkItemType.bs").workItemTypeNone)||!b("bs_caml").i64_eq(d,b("LSTaskWorkItemType.bs").workItemTypeHandleNative))return b("Promise").resolve(void 0);else{b("recoverableViolation")("Native handling for sync group not implemented yet","messenger_web_product");return b("Promise").resolve(void 0)}k=g.next_sync_ms;if(k!==void 0){f(g.sync_group_id,k);return b("Promise").resolve(void 0)}else{b("recoverableViolation")("Expected delay for delayed sync request but didn't get any","messenger_web_product");return b("Promise").resolve(void 0)}},l=function(c){return b("Promise").all(c[0].map(function(b){return k(a,b)}))},m=function(){b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSBeginHandlingSync")(!1,b("LS.bs").make(a))},"readWrite").then(l),void 0,void 0)},n=function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),function(a,b){return m()})},o=function(){return c.subscribeToNonTaskResponses(function(a,c){a=c.ex;c=c.payload;a={experiments:a,syncScript:c};b("promiseDone")(b("bs_curry")._1(d,a),function(a){return m()},function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure"),a.RE_EXN_ID===b("Promise.bs").JsError?b("recoverableViolation")("Error encountered handling response from MQTT","messenger_web_product",{error:b("bs_caml_option").some(a._1)}):b("recoverableViolation")("Error encountered handling response from MQTT with unknown error","messenger_web_product")})})},p=function(a){var c=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").fromTableAscending(a.table("sync_groups")),function(a,c){a=a.hd;var d=b("LSCookie.bs").get(void 0),e=d.c,f,g;if(typeof c==="number")f=1;else if(c.TAG===0){var h=c._0.currentCursor;h!==void 0?(g=h,f=2):f=1}else{h=c._0.currentCursor;h!==void 0?(g=h,f=2):f=1}switch(f){case 1:if(!b("bs_belt_Option").isSome(b("bs_js_dict").get(e,b("bs_int64").to_string(a))))return;b("bs_js_dict").unsafeDeleteKey(e,b("bs_int64").to_string(a));c=b("LSCookie.bs").writeCookie(d);b("promiseDone")(c,void 0,void 0);return;case 2:if(!b("bs_caml_obj").caml_notequal(b("bs_js_dict").get(e,b("bs_int64").to_string(a)),g))return;e[b("bs_int64").to_string(a)]=g;h=b("LSCookie.bs").writeCookie(d);b("promiseDone")(h,void 0,void 0);return}});return function(a){return b("bs_curry")._1(c,void 0)}},q=function(){return c.onReconnect(function(){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),b("LSLogHistory").log("LS Sync System reconnecting","debug"),b("promiseDone")(b("LSTransaction.bs").run(a,function(a){var c;return(c=b("ReQL.bs")).toArray(c.mergeJoin(c.fromTableAscending(a.table("sync_groups")),c.getKeyRange(c.fromTableAscending(a.table("network_requests")),{hd:"",tl:0}))).then(function(c){return b("Promise").all(c.map(function(b){b=b[1];return a.table("network_requests").put({taskQueueName:b.taskQueueName,syncDatabaseId:b.syncDatabaseId,epochId:void 0,networkTaskIdentifier:b.networkTaskIdentifier,lastSentTimestampMs:b.lastSentTimestampMs,failureCount:b.failureCount,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs})}))}).then(function(c){return b("LSBeginHandlingSync")(!1,b("LS.bs").make(a))})},"readWrite").then(l),void 0,void 0)})},r=n(),s=o(),t=q(),u=!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").allTablesPersisted?p(a):function(a){};m();return{cleanup:function(){var a;(a=b("bs_curry"))._1(r,void 0);a._1(t,void 0);a._1(s,void 0);return a._1(u,void 0)}}}f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformTraceTasks",["LS.re","LSGenerateTraceId","LSPredefineTraceForTask","gkx","justknobx","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=new Set();c("gkx")("4729")&&h.add("207");function a(a,e){var f,g,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!c("justknobx")._("506")){k.next=12;break}f=0;case 2:if(!(f<e.length)){k.next=12;break}g=e[f];if(!((g.dataTraceId==null||g.dataTraceId==="")&&h.has(g.context))){k.next=9;break}i=c("LSGenerateTraceId")();if(!(i!=null)){k.next=9;break}k.next=9;return b("regeneratorRuntime").awrap(c("LSPredefineTraceForTask")(i,g.taskId,(j=g.context)!=null?j:"","",d("LS.re").make(a)));case 9:f++;k.next=2;break;case 12:case"end":return k.stop()}},null,this)}e={startTraceForTaskIfEligible:a};g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformTaskUtils",["FBLogger","I64","JSScheduler","LS.re","LSBeginHandlingFireForgetTasksForQueue","LSBeginHandlingPendingTasksForQueue","LSPlatformTraceTasks","LSShape","Promise","ReQL","justknobx","promiseDone","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function h(a,e,f){function g(){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return b("regeneratorRuntime").awrap(a.runInTransaction(function(a){return c("LSBeginHandlingPendingTasksForQueue")(f.queueName,!1,c("LS.re").make(a))},"readwrite","background"));case 3:g=i.sent;h=g[0];e(d("LSShape").toRecord(h));i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),c("FBLogger")("messenger_web_product").catching(i.t0).warn("Failed to calculate work for task queue "+f.queueName);case 11:case"end":return i.stop()}},null,this,[[0,8]])}d("I64").gt(f.priority,d("I64").zero)&&c("justknobx")._("425")?c("JSScheduler").scheduleLoggingPriCallback(g):c("promiseDone")(g())}function i(a,e,f){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return b("regeneratorRuntime").awrap(a.runInTransaction(function(a){return c("LSBeginHandlingFireForgetTasksForQueue")(f.queueName,c("LS.re").make(a))},"readwrite","background"));case 3:g=i.sent;h=g[0];e(d("LSShape").toRecord(h));i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),c("FBLogger")("messenger_web_product").catching(i.t0).warn("Failed to calculate work for fire forget queue "+f.queueName);case 11:case"end":return i.stop()}},null,this,[[0,8]])}function a(a,e){var f=new Set(),g=[],i=[];i.push(a.table("pending_tasks").index("queueNameTaskId").subscribe(function(a,b){var c;if(b.operation==="delete"){f.add(a.hd);return}a=b.operation==="put"&&b.prevValue==null||b.operation==="add";c=b.operation==="put"&&d("I64").compare(b.value.failureCount,(c=(c=b.prevValue)==null?void 0:c.failureCount)!=null?c:d("I64").zero)>0;(a||c)&&f.add(b.value.queueName);(b.operation==="add"&&b.value.dataTraceId==null||b.value.dataTraceId==="")&&g.push(b.value)}));i.push(a.table("network_requests").subscribe(function(a,b){a=a.hd;if(a==="")return;b.operation==="delete"?f.add(a):b.value.epochId==null&&f.add(a)}));i.push(a.subscribeToCommit(function(){var i=Array.from(f),j=g;f.clear();g=[];i.forEach(function(c){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("pending_tasks").index("queueNameTaskId")).bounds({gte:{hd:c,tl:0}})));case 2:f=g.sent,f!=null&&h(a,e,f);case 4:case"end":return g.stop()}},null,this)});j.length>0&&c("promiseDone")(a.runInTransaction(function(a){return c("LSPlatformTraceTasks").startTraceForTaskIfEligible(a,j)},"readwrite","background"))}));return i}function e(a,e){c("promiseDone")(function(){var c,f,g,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:m.next=2;return b("regeneratorRuntime").awrap(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("pending_tasks"))));case 2:c=m.sent,f=new Set(),(g=c,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 5:if(!i){m.next=11;break}if(!(j>=g.length)){m.next=8;break}return m.abrupt("break",22);case 8:k=g[j++];m.next=15;break;case 11:j=g.next();if(!j.done){m.next=14;break}return m.abrupt("break",22);case 14:k=j.value;case 15:l=k;if(!f.has(l.queueName)){m.next=18;break}return m.abrupt("continue",20);case 18:f.add(l.queueName),h(a,e,l);case 20:m.next=5;break;case 22:case"end":return m.stop()}},null,this)}())}function j(a,e){c("promiseDone")(function(){var f,g,h,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return b("regeneratorRuntime").awrap(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("pending_fire_and_forget_tasks"))));case 2:f=n.sent,g=new Set(),(h=f,j=Array.isArray(h),k=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 5:if(!j){n.next=11;break}if(!(k>=h.length)){n.next=8;break}return n.abrupt("break",19);case 8:l=h[k++];n.next=15;break;case 11:k=h.next();if(!k.done){n.next=14;break}return n.abrupt("break",19);case 14:l=k.value;case 15:m=l,g.has(m.queueName)&&(g.add(m.queueName),c("promiseDone")(i(a,e,m)));case 17:n.next=5;break;case 19:c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all(f.map(function(b){return a.table("pending_fire_and_forget_tasks")["delete"]({hd:b.taskId,tl:0})}))},"readwrite","background"));case 20:case"end":return n.stop()}},null,this)}())}function f(a,b){var c=!1,d=[];d.push(a.table("pending_fire_and_forget_tasks").subscribe(function(a,b){if(b.operation==="delete")return;a=b.operation==="put"&&b.prevValue==null||b.operation==="add";a&&(c=!0)}));d.push(a.subscribeToCommit(function(){c&&j(a,b),c=!1}));return d}g.checkQueuesWhenPendingTaskTableUpdates=a;g.checkAllPendingTasksForWork=e;g.checkAllFireForgetTasksForWork=j;g.checkQueuesWhenPendingFireForgetTaskTableUpdates=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformTaskSystem.bs",["FBLogger","LS.bs","LSBeginHandlingPendingTasksForQueue","LSDict","LSHandleTaskSendFailureForQueue","LSHandleTaskSendSuccessForQueue","LSJson","LSPlatformRealtimeTransport.bs","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformTaskUtils","LSRequestType.bs","LSSyncChannel.bs","LSTaskWorkItemType.bs","LSTransaction.bs","MWPBumpEntityKey.bs","Promise","Promise.bs","ReQL.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1266","promiseDone","recoverableViolation"],function(a,b,c,d,e,f){"use strict";var g=b("cr:1266")==null?void 0:b("bs_caml_option").some(b("cr:1266"));c={};function a(a,c,d,e){var f=new(b("LSPlatformRequestScheduler"))(),h=function(c){c=b("bs_belt_Option").map(c.network_payload,function(a){return b("LSDict").shapeToRecord(a)});if(c!==void 0)return b("bs_belt_Option").mapWithDefault(b("bs_belt_Array").get(c.tasks,0),b("Promise").resolve(void 0),function(c){c=b("LSDict").shapeToRecord(c).task_id;return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("pending_tasks")),{hd:c,tl:0})).then(function(a){return b("Promise").resolve(a!==void 0?a.dataTraceId:void 0)})});else return b("Promise").resolve(void 0)},i=function(c){return b("LSTransaction.bs").run(a,function(a){return b("LSHandleTaskSendFailureForQueue")(c,b("LS.bs").make(a))},"readWrite")},j=function k(j){var l=function(c,d){f.schedule(function(){b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSBeginHandlingPendingTasksForQueue")(c,!1,b("LS.bs").make(a))},"readWrite").then(function(a){return k(b("LSDict").shapeToRecord(a[0]))}),void 0,void 0)},c,b("bs_caml_int64").to_float(d))},m=b("LSPlatformRequestId").generate(),n=b("bs_belt_Option").map(j.network_payload,function(a){return b("LSDict").shapeToRecord(a)}),o=j.work_item_type;if(n!==void 0){if(b("bs_caml").i64_eq(o,b("LSTaskWorkItemType.bs").workItemTypeSendToServer)){var p=n.epoch_id,q=n.tasks,r=j.queue_name;b("cr:1266")==null||b("bs_curry")._1(g.recordTaskSending,q);return b("Promise.bs").$$catch(h(j).then(function(a){return b("bs_curry")._5(c.publish,b("LSSyncChannel.bs").mqtt,r,m,b("LSRequestType.bs").taskBatch,b("LSJson").stringify(b("LSDict").fromObject({version_id:e,tasks:q,epoch_id:p,data_trace_id:a})))}).then(function(c){if(c){var e=c._1;c=e.ex;var f=e.payload;c={experiments:c,syncScript:f};return b("Promise.bs").$$catch(b("bs_curry")._1(d,c).then(function(c){b("cr:1266")==null||b("bs_curry")._2(g.recordTaskSent,q,e.payload);return b("LSTransaction.bs").run(a,function(a){return b("LSHandleTaskSendSuccessForQueue")(r,b("LS.bs").make(a))},"readWrite")}),function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_tasks","handle_task_failure");a=a.RE_EXN_ID===b("Promise.bs").JsError?a._1:a;b("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an error while processing a task response via realtime transport");return i(r)})}b("recoverableViolation")("Expected a response for a non fire forget task","messenger_web_product");return b("Promise").resolve(void 0)}),function(a){if(a.RE_EXN_ID===b("LSPlatformRealtimeTransport.bs").Timeout)b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_timeout");else if(a.RE_EXN_ID!==b("LSPlatformRealtimeTransport.bs").NotConnected){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("lsplatform_tasks","send_fail_generic");a=a.RE_EXN_ID===b("Promise.bs").JsError?a._1:a;b("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an error while publishing a LS task payload via realtime transport")}return i(r)})}if(b("bs_caml").i64_eq(o,b("LSTaskWorkItemType.bs").workItemTypeSendToServerFireAndForget))return b("Promise.bs").$$catch(b("Promise").all(n.tasks.map(function(a){return b("LSDict").shapeToRecord(a)}).map(function(a){return b("bs_curry")._5(c.publish,b("LSSyncChannel.bs").mqtt,void 0,m,b("LSRequestType.bs").fireForget,b("LSJson").stringify(b("LSDict").fromObject({label:a.label,payload:a.payload,version:e})))})).then(function(a){return b("Promise").resolve(void 0)}),function(a){return b("Promise").resolve(void 0)})}if(b("bs_caml").i64_eq(o,b("LSTaskWorkItemType.bs").workItemTypeDelayHandling)){l(j.queue_name,j.next_sync_ms);return b("Promise").resolve(void 0)}else if(b("bs_caml").i64_eq(o,b("LSTaskWorkItemType.bs").workItemTypeNone))return b("Promise").resolve(void 0);else if(b("bs_caml").i64_eq(o,b("LSTaskWorkItemType.bs").workItemTypeHandleNative)){b("recoverableViolation")("Native tasks not supported so far","messenger_web_product");return b("Promise").resolve(void 0)}else{b("recoverableViolation")("Unknown Task type of "+b("bs_int64").to_string(o),"messenger_web_product");return b("Promise").resolve(void 0)}},k=function(c){b("LSPlatformTaskUtils").checkAllPendingTasksForWork(a,j);return b("LSPlatformTaskUtils").checkAllPendingTasksForWork(a,j)},l=function(){return c.onReconnect(function(){b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("ReQL.bs").toArray(b("ReQL.bs").bounds(b("ReQL.bs").fromTableAscending(a.table("network_requests")),{NAME:"greaterThan",VAL:{hd:"",tl:0}})).then(function(c){return b("Promise").all(c.map(function(c){return b("LSHandleTaskSendFailureForQueue")(c.taskQueueName,b("LS.bs").make(a))}))})},"readWrite"),void 0,void 0);return k(void 0)})},m=b("LSPlatformTaskUtils").checkQueuesWhenPendingTaskTableUpdates(a,j),n=b("LSPlatformTaskUtils").checkQueuesWhenPendingFireForgetTaskTableUpdates(a,j),o=l();k(void 0);return{cleanup:function(){m.forEach(function(a){return a()});n.forEach(function(a){return a()});return b("bs_curry")._1(o,void 0)}}}f.$LSPlatformDevtools$OR$null$requireCond=b("cr:1266");f.LSPlatformTaskUtils=c;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPlatformClient.bs",["ExecutionEnvironment","LSClearEpochBeforeResumeSync.bs","LSDataTraceFlushDeferred.bs","LSJSInMemoryStorage.bs","LSMetadata","LSPlatformHardcodedInitSync.bs","LSPlatformRealtimeTransport.bs","LSPlatformSyncSystem.bs","LSPlatformTaskSystem.bs","Promise","bs_caml_option","bs_curry","cr:1266","cr:2652","cr:2653"],function(a,b,c,d,e,f){"use strict";var g=b("cr:1266")==null?void 0:b("bs_caml_option").some(b("cr:1266"));function a(a){var c={contents:0};if(b("ExecutionEnvironment").canUseDOM)return a.getDb().then(function(d){return b("bs_curry")._1(a.getEval,void 0).then(function(e){b("cr:1266")==null||b("bs_curry")._1(g.registerDb,d);var f;try{f=(b("cr:1266")==null?e:b("bs_curry")._1(g.registerEval,e))(void 0)(d)}catch(a){f=e(void 0)(d)}return b("LSClearEpochBeforeResumeSync.bs").call(d).then(function(c){if(a.sendHardcodedInitSync)return b("LSPlatformHardcodedInitSync.bs").sendHardcodedInitSync(a,f,d);else return b("Promise").resolve(void 0)}).then(function(e){e=function(e){e=c.contents;if(typeof e!=="number")return b("Promise").resolve(void 0);e=c.contents===1?b("LSClearEpochBeforeResumeSync.bs").call(d):b("Promise").resolve(void 0);return e.then(function(e){var g=b("LSPlatformRealtimeTransport.bs").make(a.realtimeUnderylingTransport,a.appId),h=b("LSPlatformTaskSystem.bs").make(d,g,f,a.schemaVersion),i=b("LSPlatformSyncSystem.bs").make(d,g,f,a.schemaVersion,a.deviceId,a.executeGraphQLLightSpeedRequest);e=function(a){h.cleanup(),i.cleanup(),g.cleanup(),c.contents=1};c.contents={_0:e,_1:g.onConnectionStatusChange}})};return b("Promise").resolve({start:e,cleanup:function(a){a=c.contents;if(typeof a==="number")return;else return b("bs_curry")._1(a._0,void 0)},db:d,onConnectionStatusChange:function(a){var b=c.contents;if(typeof b==="number")return function(a){};else return b._1(a)}})})})}).then(function(a){b("LSDataTraceFlushDeferred.bs").watchForExpiredTraces(a.db);!(b("cr:2653")==null)&&!(b("cr:2652")==null)&&b("bs_curry")._1(b("cr:2652").listenForChangesToBackupState,a.db);return a});else return b("Promise").resolve({start:function(a){return b("Promise").resolve(void 0)},cleanup:function(a){},db:b("LSJSInMemoryStorage.bs").make(b("LSMetadata").metadata),onConnectionStatusChange:function(a){return function(a){}}})}f.$LSPlatformDevtools$OR$null$requireCond=b("cr:1266");f.$MWEncryptedBackupsListenForChangesToBackupStateInitPath$requireCondXplat=b("cr:2652");f.$MWEncryptedBackupsListenForChangesToBackupStateInitPath$requireCondXplat$1=b("cr:2653");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("ZenonMWSendMessageMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5071220792985090"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWSendMessageMutation.graphql",["ZenonMWSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtcWebSendMultiwaySignalingMessageResponsePayload",kind:"LinkedField",name:"rtc_web_send_multiway_signaling_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonMWSendMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonMWSendMessageMutation",selections:c},params:{id:b("ZenonMWSendMessageMutation_facebookRelayOperation"),metadata:{},name:"ZenonMWSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ChannelConstants",[],function(a,b,c,d,e,f){var g="channel/";a={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:g+"shutdown",ON_INVALID_HISTORY:g+"invalid_history",ON_CONFIG:g+"config",ON_ENTER_STATE:g+"enter_state",ON_EXIT_STATE:g+"exit_state",ATTEMPT_RECONNECT:g+"attempt_reconnect",RTI_SESSION:g+"new_rti_address",CONSOLE_LOG:g+"message:console_log",GET_RTI_SESSION_REQUEST:g+"rti_session_request",SKYWALKER:g+"skywalker",CHANNEL_ESTABLISHED:g+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,CAPABILITY_ACTIVE_ON_DESKTOP_APP:16384,CAPABILITY_PLAYING_INSTANT_GAME:2097152,FANTAIL_SERVICE:"WebchatClient",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:g+"throttled",JUMPSTART:g+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",ENTITY_PRESENCE_SKIPPED_PING:"entity_presence/skipped_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,DEFAULT_MAX_SUBSCRIPTION_FLUSH_BATCH_SIZE:300,DEFAULT_MAX_CONSECUTIVE_FLUSH_FAILURES:3,getArbiterType:function(a){return g+"message:"+a},getRTISkywalkerArbiterType:function(a,b){return g+"skywalker:"+a+":"+b}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PresenceViewerCapabilities",["ArbiterMixin","PresenceConfig"],function(a,b,c,d,e,f,g){"use strict";var h=null;a=babelHelpers["extends"]({},c("ArbiterMixin"));Object.assign(a,{get:function(){if(h!=null)return h;h=d("PresenceConfig").get("viewer_presence_capabilities");return h}});b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BrowserPushCommands",[],function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c};e.exports=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],function(a,b,c,d,e,f,g){function a(a){var b="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(b);if(!a)return!0;var d=a.pop();c("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],function(a,b,c,d,e,f,g){function h(a){if(a.data.command&&a.data.command===d("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload==="function"&&window.onbeforeunload()===void 0)a.ports[0].postMessage({command:d("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:d("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!d("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!c("isFacebookURI")(new(c("URI"))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);c("BrowserPushMessageRedirectUtil")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){c("EventListener").listen(window,"message",function(a){a.origin===""&&h(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&h(a)})}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],function(a,b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(d("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){c("Visibility").isHidden()||h(),c("Visibility").addListener(c("Visibility").VISIBLE,h)}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("NUXWizardTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:NUXWizardLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEligibleSteps=function(a){this.$1.eligible_steps=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setExtraBloksData=function(a){this.$1.extra_bloks_data=a;return this};c.setInitializedPlatforms=function(a){this.$1.initialized_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setIsInNuxCometFlow=function(a){this.$1.is_in_nux_comet_flow=a;return this};c.setIsOnBloksUI=function(a){this.$1.is_on_bloks_ui=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setStage=function(a){this.$1.stage=a;return this};c.setStep=function(a){this.$1.step=a;return this};c.setTimeSinceStepsCalculated=function(a){this.$1.time_since_steps_calculated=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={eligible_steps:!0,event:!0,event_location:!0,event_type:!0,extra_bloks_data:!0,initialized_platforms:!0,is_in_nux_comet_flow:!0,is_on_bloks_ui:!0,platform:!0,stage:!0,step:!0,time_since_steps_calculated:!0};f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MPushPermissionUtil",["BanzaiLogger","NUXWizardTypedLogger","gkx"],function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=c("gkx")("910664");d&&c("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a});if(b){d=null;b="step";a==="allow"?(d="allow",b="conversion"):a==="deny"?d="deny":a==="install_ignore"?d="ignore":a==="turn_on_attempt"&&(d="show_browser_dialog");if(d!==null){a=new(c("NUXWizardTypedLogger"))().setEvent(d).setEventType(b).setPlatform("mobile").setStep("turn_on_notification");a.logVital()}}}g.logEvent=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PushRegistrationUtils",[],function(a,b,c,d,e,f){"use strict";function g(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b}function a(a,b){var c=g(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}f.normalizeSubscriptionEndpoint=g;f.setupPushRegistrationData=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ServiceWorkerRegistration",["BrowserPaymentHandlerConfig","ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],function(a,b,c,d,e,f){var g=!!navigator.serviceWorker,h={},i={name:"Facebook Pay",method:self.location.origin+"/pay"};function j(a){if(!b("BrowserPaymentHandlerConfig").enabled)return;(a=a.paymentManager)==null?void 0:(a=a.instruments)==null?void 0:a.set("Facebook",i)}function k(){var a=navigator.serviceWorker;if(!g||!a)throw new Error("serviceWorker is not supported in this browser");return a}var l={isSupported:function(){return g},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){l.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(h[a])return h[a];var c=k(),d=h[a]=new(b("Promise"))(function(d,e){b("promiseDone")(l.getWorkerRegistration(a),function(f){if(!f){var g=b("EventListener").listen(window,"message",function(a){(a==null?void 0:(a=a.data)==null?void 0:a.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")(b("Promise").resolve(c.register(a,{updateViaCache:"all"})),function(){g.remove(),b("promiseDone")(b("Promise").resolve(c.ready),d)})}else d(f)})});b("promiseDone")(d,function(b){h[a]=null,j(b)});return d},unregisterControllingWorker:function(){return new(b("Promise"))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=k();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?b("Promise").resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=l},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],function(a,b,c,d,e,f){var g=window.Notification,h=new Map(),i=65,j=4;a=function(){"use strict";a.get=function(b,c){if(h.has(c))return h.get(c);b=new a(b,c);h.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(b("Promise"))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.send()};c.getMutedUntilInServer=function(a){var c=this;return new(b("Promise"))(function(d,e){c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.getPushSubscription().then(function(g){if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(b("Promise"))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.getPushSubscription().then(function(f){f?(d.$4(a,c,f),e(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f))):e(null)})["catch"](function(){e(null)})})};c.$5=function(c,d,e){var f=this;return new(b("Promise"))(function(b,g){if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,g,h){var i=this;g===void 0&&(g=!1);h===void 0&&(h=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(b("Promise"))(function(j,k){i.getPushSubscription().then(function(k){j(!!k||c&&!a.pushPermissionIsPending());var l=i.$6();l=i.$7(k,l);if(k&&l)g?i.$4(d,f,k):b("BrowserPushVisibilityChanger").listenForVisibility();else if((!k||!l)&&c){k=i.$8(k,!l);a.pushPermissionIsOn()?k.then(function(a){return i.registerPush(d,f,h)})["catch"](function(){}):i.$5(e,f,!1)}})["catch"](function(){c&&i.$5(e,f,!1),h&&b("ServiceWorkerRegistration").unregisterControllingWorker(),k()})})};c.$8=function(a,c){if(!!a&&c)return a.unsubscribe().then(function(a){return!!a})["catch"](function(a){throw new Error("Unsubscribing invalid PushToken failed")});else return b("Promise").resolve(!0)};c.$7=function(a,c){if(!b("gkx")("6734"))return!0;if(!a)return!1;var d=this.$9(a);return c?!d?!1:this.$10(a,b("BrowserPushPubKey").appServerKey):!d};c.$10=function(a,b){a=this.$11(a);if(!a)return!1;a=new Uint8Array(a);a=window.btoa(String.fromCharCode.apply(null,a));a=a.replace("/","_").replace("=","");return a===b};c.$9=function(a){a=this.$11(a);if(!!a&&a.byteLength===i){a=new Uint8Array(a);return a[0]===j}return!1};c.$11=function(a){return!!a&&!!a.options&&!!a.options.applicationServerKey?a.options.applicationServerKey:null};c.$12=function(){return new(b("Promise"))(function(a,b){g.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d){var e=this;d===void 0&&(d=!1);return new(b("Promise"))(function(b,f){e.$13(a,c,!0,null,d).then(function(a){if(typeof a!=="string"){f(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](f)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){b("promiseDone")(d.waitForKaiOS(),function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d);f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,e,d)};c.registerPushWithFinishedCallBack=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(b("Promise"))(function(b,g){f.$13(a,c,!1,d,e).then(function(a){if(typeof a!=="boolean"){g(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](g)})};c.$13=function(c,d,e,f,g){var h=this;if(a.$1)return new(b("Promise"))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return b("Promise").reject(new Error("PushManager not found."));a.$1=!0;return new(b("Promise"))(function(i,j){var k=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(h.$3),l=h.$12();b("Promise").all([k,l]).then(function(k){var l=k[0];if(!a.pushPermissionIsOn()){g&&l.unregister();throw new Error("Push permission was denied")}e||i(!0);k=b("BrowserPushPubKey").appServerKey;var m=h.$6();m=m?{userVisibleOnly:!0,applicationServerKey:k}:{userVisibleOnly:!0};l.pushManager.subscribe(m).then(function(a){e&&i(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),h.$4(c,d,a),f&&f(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,g&&l.unregister(),j(b)})})["catch"](function(b){a.$1=!1,j(b)})})};c.$6=function(){var a=b("BrowserPushPubKey").appServerKey;return b("gkx")("1511920")&&a!=null&&a!=""};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(b("Promise"))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(b("Promise"))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("incognito",["Promise","UserAgent","WebStorage","gkx","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";function d(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=window.RequestFileSystem||window.webkitRequestFileSystem;if(!d){e.next=3;break}return e.abrupt("return",new(b("Promise"))(function(a){return d(window.TEMPORARY,10,function(){return a(!1)},function(){return a(!0)})}));case 3:if(!(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))){e.next=5;break}return e.abrupt("return",!window.indexedDB);case 5:if(!c("UserAgent").isBrowser("Firefox >= 16")){e.next=7;break}return e.abrupt("return",new(b("Promise"))(function(a){var b=window.indexedDB.open("__test__");b.onsuccess=function(){return a(!1)};b.onerror=function(b){b.preventDefault(),a(!0)}}));case 7:if(!(c("gkx")("676917")&&(c("UserAgent").isPlatform("iOS")&&c("UserAgent").isBrowser("Safari >= 10.3")||c("UserAgent").isPlatform("Mac OS X")&&c("UserAgent").isBrowser("Safari >= 11.1")))){e.next=18;break}e.prev=8;a.I_AM_INCOGNITO_AND_I_REALLY_NEED_WEBSQL("sid","1.0","",0);e.next=16;break;case 12:e.prev=12;e.t0=e["catch"](8);if(!(e.t0.name==="SecurityError")){e.next=16;break}return e.abrupt("return",!0);case 16:e.next=20;break;case 18:if(!c("UserAgent").isBrowser("Safari")){e.next=20;break}return e.abrupt("return",!c("WebStorage").getLocalStorage());case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}},null,this,[[8,12]])}g["default"]=d},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BrowserPushDirectPromptInstallerComet",["AsyncRequest","BanzaiLogger","Promise","PushNotificationsEventEmitter","PushRegistration","QE2Logger","XBrowserPushDisabledController","XBrowserPushXOutController","XPushRegisterServiceWorkerController","incognito"],function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,d){d===void 0&&(d="prompt");b=babelHelpers["extends"]({appID:b,event:a,surface:d},h);c("BanzaiLogger").log("BrowserPushLoggerConfig",b)}function k(){h!=null&&h.xout_count===0&&i&&d("QE2Logger").logExposureForUser(i)}function l(a){var b=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setMethod("POST").send();j("xout",a)}function a(a,b){a=c("PushRegistration").get(a,b);return a.getSubscription()}function e(a,b){a=c("PushRegistration").get(a,b);j("turn_off",b);return a.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest"))}function m(a,b,d,e){a=c("PushRegistration").get(a,b);j("turn_on",b);return a.registerPushWithFinishedCallBack(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),function(){},e).then(function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),j("install",b)})["catch"](function(a){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()?(c("PushNotificationsEventEmitter").emit("openPushBlockedNotice",d),j("deny",b)):j("install_ignore",b),l(b)})}function f(a,d,e,f,g,h,i,j){var l=c("PushRegistration").get(a,d);l=l.isPushRegistered(e,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!g,i);b("Promise").all([l,c("incognito")()]).then(function(b){var e=b[0];b=b[1];if(e||b)return;k();if(c("PushRegistration").pushPermissionIsPending()){if(!j||f)return;c("PushNotificationsEventEmitter").emit("openInstallPush",{appID:d,browserName:h,path:a,workerIsForPushOnly:i})}else f||m(a,d,h,i)})["catch"](function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()&&k()})}function n(a){h=a}function o(a){i=a}g.genPushSubscription=a;g.genDisableNotifications=e;g.genEnableNotifications=m;g.installPush=f;g.setLogExtraData=n;g.setQEUniverseName=o},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("NotificationPermissionNoticeComet.react",["fbt","Locale","react","stylex","useCometCallout"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={calloutMaxWidth:{maxWidth:"irjsnxci"},root:{left:"t6gbo3xl",maxWidth:"irjsnxci",position:"khm9p5p9",top:"ekq1a7f9"}};function a(a){var b=a.shortText?h._("__JHASH__A9Dnz89oPKf__JHASH__",[h._param("browser_name",a.browserName)]):h._("__JHASH___Rm1fgWzjfd__JHASH__",[h._param("browser_name",a.browserName)]),e=d("Locale").isRTL();e=e?"end":"start";e={align:e,arrowStyle:"inset",label:b,onHide:a.onHide,position:"below",type:"accent",xstyle:j.calloutMaxWidth};b=c("useCometCallout")(e,!0);return i.jsx("div",{className:c("stylex")(j.root),ref:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("NotificationPermissionRequestComet.react",["fbt","BaseAccessibleElement_DEPRECATED.react","BaseModal.react","CometHideLayerOnEscape.react","CometVisualCompletion","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){j(function(){window.addEventListener("mousedown",a.onClick);c("CometVisualCompletion").addAnnotationInt("pushRequestOverlay",1);return function(){window.removeEventListener("mousedown",a.onClick)}},[a.onClick]);return i.jsx(c("BaseModal.react"),{stackingBehavior:"above-everything",children:i.jsx(c("CometHideLayerOnEscape.react"),{onHide:a.onClick,children:i.jsx(c("BaseAccessibleElement_DEPRECATED.react"),{children:i.jsxs("div",{"aria-label":h._("__JHASH__oE04FVLR0CK__JHASH__"),"aria-modal":"true",role:"alertdialog",children:[h._("__JHASH__gW3M_fEDpFx__JHASH__"),i.jsx("button",{onClick:a.onClick,children:h._("__JHASH__uufiRayKSVE__JHASH__")})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RTWebDropInUtils",["FBLogger"],function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("legacy:cookie",["Cookie"],function(a,b,c,d,e,f){a.getCookie=b("Cookie").get,a.setCookie=b("Cookie").set,a.clearCookie=b("Cookie").clear},3,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonBrowsers",["UserAgent","UserAgentData","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function a(){return c("UserAgent").isBrowser("Edge (Chromium Based)")}function j(){return c("UserAgent").isBrowser("Safari")}function k(){return c("UserAgent").isBrowser("Firefox")}function l(){return c("UserAgent").isBrowser("Mobile Safari")}function m(){return c("UserAgent").isBrowser("Oculus Browser")}function n(){return c("UserAgent").isBrowser("Samsung Browser")}function b(){return l()||c("UserAgent").isPlatform("Android")||n()}function o(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function p(){if(k()){var a;return(a=c("UserAgentData").browserVersion)!=null?a:0}if(i()){a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}function q(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function d(a){if(!q())return!1;var b=p();return b>=a}function e(){return c("gkx")("6893")?!1:c("gkx")("4190")||c("gkx")("3864")||c("gkx")("5524")||c("gkx")("6251")}function f(){return k()}function r(){return k()||j()||c("UserAgent").isBrowser("Chrome >= 97")}function s(){return!o()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function t(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function u(){return!m()}function v(){return!m()}function w(){var a=!l()&&!j()&&!((i()||h())&&p()<80)&&!(k()&&p()<70);return a}function x(){var a=(i()||h())&&p()>=77||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 14.1");return a}function y(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=a;g.isDesktopSafari=j;g.isFirefox=k;g.isMobileSafari=l;g.isOculusBrowser=m;g.isSamsung=n;g.isSupportedMobileBrowser=b;g.isMobileDevice=o;g.webrtcVersion=p;g.isFBWebview=q;g.isFBWebviewWithChromeMinVersion=d;g.isDataChannelSupportedInMainPeerConnection=e;g.noTransceiverForNegotiations=f;g.onlySupportsUnifiedPlan=r;g.isVideoFilterEffectSupported=s;g.videoEscalationByUnmuteWorkaround=t;g.supportsMWAVEscalation=u;g.supportsVideoCalls=v;g.supportsRollback=w;g.supportsIceRestart=x;g.isVideoLayersAllocationSupported=y},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonLoggingEventTypes",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);c=b("$InternalEnum")({Primary:"primary",Secondary:"secondary"});d="rtc_www";f.ZenonUpdateIceInfoDirection=a;f.ZenonJoinMode=c;f.tslogSource=d},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&c("gkx")("6662")}};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMediaModeManager",["UserAgent","ZenonIGMediaUtil","ZenonInfraActionsLogger","ZenonSignalingProtocol","qex"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1="sfu"}var b=a.prototype;b.onJoin=function(a,b,d,e){var f=h()&&!d;if(e||f||c("ZenonIGMediaUtil").shouldUseSFUOnly()){this.$2("sfu");return}e=this.$3(a,b,d);switch(e){case c("ZenonSignalingProtocol").MWPP:this.$2("p2p");return;case c("ZenonSignalingProtocol").MW:this.$2("sfu");return}};b.onDeescalated=function(){this.$2("p2p")};b.onSfuEscalated=function(){this.$2("sfu")};b.getMediaMode=function(){return this.$1};b.$2=function(a){this.$1=a,c("ZenonInfraActionsLogger").updateCachedValues({mediaPath:a}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Media mode updated to "+a,mediaPath:a})};b.$3=function(a,b,d){if(a)return!c("UserAgent").isBrowser("Firefox")&&b===1?c("ZenonSignalingProtocol").MWPP:c("ZenonSignalingProtocol").MW;else return d?c("ZenonSignalingProtocol").MWPP:c("ZenonSignalingProtocol").MW};return a}();function h(){var a;return(a=c("qex")._("80"))!=null?a:!1}g.ZenonMediaModeManager=a;g.shouldUseSFUMediaPath=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonJoiningContext",[],function(a,b,c,d,e,f){"use strict";b="joining_context";function a(a){var b=a.groupThreadID,c=a.peerID;a=a.serverInfoData;return{group_thread_id:b,peer_id:c,server_info_data:a}}f.JOINING_CONTEXT_TOPIC=b;f.convertCollisionToJoiningContext=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWMessageLogger",["ZenonLoggingEventTypes","ZenonMWMessageTypes"],function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=new Set();function a(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(h.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinRequest&&j(c.joinRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateRequest&&m(c.clientMediaUpdateRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateResponse&&p(c.serverMediaUpdateResponse,b);break}h.add(a.transactionId)}function b(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(i.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinResponse&&k(c.joinResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateResponse&&n(c.clientMediaUpdateResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateRequest&&o(c.serverMediaUpdateRequest,b);break}i.add(a.transactionId)}function j(a,b){var c=a.answer;a=a.offer;b({name:"inviteSent"});q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function k(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function l(a,b,c){a=a.iceCandidateSdps;a.forEach(function(a){a.candidateSdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.candidateSdpString})})}function m(a,b){a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function n(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function o(a,b){var c=a.answer;a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function p(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function q(a,b,c){a.sdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.sdpString})}g.logSentMessage=a;g.logReceivedMessage=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RtcInfraReliabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744336");c=b("FalcoLoggerInternal").create("rtc_infra_reliability",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID());b=new(c("MqttChannel"))({endpoint:c("Env").ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",pollingEndpoint:c("Env").ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID(),appId:a,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,capabilities:c("MqttWebConfig").capabilities,clientCapabilities:c("MqttWebConfig").clientCapabilities,chatVisibility:!0,clientType:"cookie_auth",phpOverride:c("MqttWebConfig").hostNameOverride});e=b;g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()!=null?Number(c("CurrentUser").getAppID()):c("MqttWebConfig").appID;b=new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!1,clientCapabilities:c("MqttWebConfig").clientCapabilities,endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid});e=b;g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMqttUtil",["FBMqttChannel","IGDOverLSMqttChannel","ZenonAppProvider","ZenonMqttChannel","qex"],function(a,b,c,d,e,f,g){"use strict";function a(){if(d("ZenonAppProvider").isInstagramApp())return c("IGDOverLSMqttChannel");else{var a;return((a=c("qex")._("567"))!=null?a:!1)?c("ZenonMqttChannel"):c("FBMqttChannel")}}g.getMqttChannel=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWMessageReliabilityLogger",["$InternalEnum","ChannelClientID","DateConsts","ODS","QPLUserFlow","RtcInfraReliabilityFalcoEvent","ZenonActorHooks","ZenonMWMessageMap","ZenonMqttUtil","gkx","qpl"],function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSING_REQUEST","START_PROCESSING_RESPONSE","PROCESSING_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST","SENT_REQUEST_FROM_HANDLER","SENT_RESPONSE","SEND_REQUEST_FAILED","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_RESPONSE_FAILED","SENT_SM_EVENT","PROCESSED_SM_EVENT","STUCK_IN_SIGNALING_STATE_MACHINE","STUCK_IN_CONNECTION_STATE_MACHINE","STUCK_IN_PEER_CONNECTION_STATE_MACHINE","STUCK_IN_SCTP_STATE_MACHINE","RECEIVED_REQUEST_IN_TERMINATED_STATE"]);function a(a,b,c){a=i.get(a);if(!a)return;B(a,b,c)}function e(a){r(a)?B(a,j.RECEIVED_RESPONSE):B(a,j.RECEIVED_REQUEST)}function f(a){B(a,j.START_PROCESSING_RESPONSE)}function k(a){r(a)?B(a,j.PROCESSING_RESPONSE):B(a,j.PROCESSING_REQUEST)}function l(a){r(a)?B(a,j.PROCESSED_RESPONSE):B(a,j.PROCESSED_REQUEST)}function m(a){r(a)?B(a,j.SENDING_RESPONSE):B(a,j.SENDING_REQUEST)}function n(a){r(a)?B(a,j.SENT_RESPONSE):B(a,j.SENT_REQUEST)}function o(a){B(a,j.SENT_REQUEST_FROM_HANDLER)}function p(a,b){var c=r(a)?j.SEND_RESPONSE_FAILED:j.SEND_REQUEST_FAILED;B(a,c,{errorMessage:b})}function q(a){B(a,j.SEND_REQUEST_FAILED_FROM_HANDLER)}function r(a){a=a.jsonPayload.header;return a.responseStatusCode!=null}function s(a){return isNaN(+a)?0:+a}function t(a,b){var e=a.jsonPayload.header;e=c("ZenonMWMessageMap")[e.type].toLowerCase();a=r(a)?"response":"request";switch(b){case j.RECEIVED_REQUEST:case j.RECEIVED_RESPONSE:d("ODS").bumpEntityKey(4083,"zenon_multiway","receive_"+a+"_"+e);d("ODS").flush();return;case j.PROCESSED_REQUEST:d("ODS").bumpEntityKey(4083,"zenon_multiway","processed_"+a+"_"+e);d("ODS").flush();return;case j.SENDING_RESPONSE:d("ODS").bumpEntityKey(4083,"zenon_multiway","sending_"+a+"_"+e);d("ODS").flush();return;case j.SENT_RESPONSE:case j.SENT_REQUEST:d("ODS").bumpEntityKey(4083,"zenon_multiway","sent_"+a+"_"+e);d("ODS").flush();return;default:return}}var u=["server_media_update"],v=30*d("DateConsts").MS_PER_SEC,w=d("ZenonMqttUtil").getMqttChannel(),x=new Map(),y={connectionState:"",peerConnectionState:"",signalingState:""};function z(a){var b=babelHelpers["extends"]({},y,a);if(y.connectionState!==b.connectionState||y.peerConnectionState!==b.peerConnectionState||y.signalingState!==b.signalingState){y=b;for(var b=h.keys(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:babelHelpers["extends"]({},a)},{instanceKey:+f})}}}function A(a,b,d){var e=a.jsonPayload.header,f=c("ZenonMWMessageMap")[e.type].toLowerCase();if(!u.includes(f))return;var g=s(e.transactionId);switch(b){case j.RECEIVED_REQUEST:c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{string:babelHelpers["extends"]({},y,{messageTags:JSON.stringify((b=e.messageTags)!=null?b:[]),messageType:f,mqttState:w.getConnectionState()})},instanceKey:g,timeoutInMs:v});if(a.jsonPayload.body.serverMediaUpdateRequest){e=a.jsonPayload.body.serverMediaUpdateRequest;b=e.answer;f=e.offer;a=e.update;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:{sdpType:f?"offer":b?"answer":a?"delta":"empty"}},{instanceKey:g})}e={onMQTTStateChanged:function(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"mqtt_"+a,{instanceKey:g})}};w.subscribeChannelEvents(e);x.set(g,e);return;case j.PROCESSED_REQUEST:c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_request",{instanceKey:g});return;case j.SENDING_RESPONSE:c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_response",{instanceKey:g});return;case j.SENT_RESPONSE:c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{instanceKey:g});f=x.get(g);f&&(w.unsubscribeChannelEvents(f),x["delete"](g));return;case j.SEND_RESPONSE_FAILED:c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_response_failed",{annotations:{string:{errorMessage:d==null?void 0:d.errorMessage}},instanceKey:g});b=x.get(g);b&&(w.unsubscribeChannelEvents(b),x["delete"](g));return;case j.SENT_SM_EVENT:if((d==null?void 0:d.smEvent)!=null){a=d.smEvent;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sent_sm_event:"+a,{instanceKey:g})}return;case j.PROCESSED_SM_EVENT:if((d==null?void 0:d.smEvent)!=null){e=d.smEvent;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_sm_event:"+e,{instanceKey:g})}return;default:return}}function B(a,b,e){if(c("gkx")("2717"))return;var f=a.endpoint,g=f.appId!==""?String(f.appId):d("ZenonActorHooks").ZenonActor.getAppID(),k=a.jsonPayload.header;if(b!==j.SENT_SM_EVENT||b!==j.PROCESSED_SM_EVENT){var l=String(Date.now());c("RtcInfraReliabilityFalcoEvent").log(function(){return{client_session_id:k.clientSessionId,conference_name:k.conferenceName,data:{extra_data:JSON.stringify(babelHelpers["extends"]({},e,{messageTags:k.messageTags,responseSubCode:k.responseSubCode})),response_status_code:String(k.responseStatusCode)},event_name:b,message_type:c("ZenonMWMessageMap")[k.type],retry_count:String(k.retryCount),server_info_data:k.serverInfoData,tc:l,transaction_id:k.transactionId,version:"1",web_app_id:g,web_device_id:c("ChannelClientID").getID()}})}f=(f=h.get(k.transactionId))!=null?f:new Set();h.set(k.transactionId,f);if(b!==j.SENT_SM_EVENT&&b!==j.PROCESSED_SM_EVENT&&f.has(b))return;f.add(b);i.set(k.transactionId,a);t(a,b);A(a,b,e)}g.MWMessageReliabilityEvent=j;g.logEventForTxid=a;g.logReceivedMessage=e;g.logStartProcessingResponse=f;g.logProcessingMessage=k;g.logProcessedMessage=l;g.logSendingMessage=m;g.logSentMessage=n;g.logSentRequestFromHandler=o;g.logSendMessageFailed=p;g.logSendRequestFailedFromHandler=q;g.updateState=z},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonSignalingMessage",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonValidateMWMessage",["FBLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.jsonPayload.header.type;if(a.jsonPayload.header.serverInfoData==null&&b!=null&&b!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP][DROP] No remoteSignalingID in message: "+b});c("FBLogger")("rtc_www").warn("[ZP][DROP] No remoteSignalingID in message: "+b);return!1}return!0}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWAddRemoveParticipantsTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={usersToInvite:b.participants};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS,a,{addParticipantsRequest:b})}function b(a,b){b={usersToRemove:b.participants};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS,a,{removeParticipantsRequest:b})}g.toAddParticipantsRequest=a;g.toRemoveParticipantsRequest=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWApprovalTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=b.approvalStatus;b=b.targetUsers;c={approvalStatus:c,targetUsers:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL,a,{approvalRequest:c})}g.toApprovalRequest=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWClientEventTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={clientEvents:[{type:b.clientEventType}]};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT,a,{clientEventRequest:b})}g.toClientEventRequest=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWClientMediaUpdateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload;var c=a.body;a=a.header;c=c.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(c){d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(c.stateStore,b);var h=c.answer,i=c.mediaStatus;if(h!=null&&i!=null){h=(h=h.sdpString)!=null?h:"";i=d("ZenonMWTranslatorUtils").toZenonMediaStates(i);var j={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"},k=c.renegotiationOffer,l=null;k!=null&&k.sdpString!=null&&(l={sdp:k.sdpString,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(k.sdpString)});k={eventName:"remoteSdpRequest",mediaPath:c.mediaPath,mediaStates:i,negotiateType:!1,renegotiationOffer:l,sdp:{sdp:h,type:"answer",version:d("ZenonMWTranslatorUtils").getSdpVersion(h)},source:"clientMediaUpdateResponse"};b.push(j);b.push(k)}i={ackMessageId:a.transactionId,acknowledgedVersion:c.currentVersion,eventName:"mediaUpdateResponse",responseStatusCode:e,responseSubCode:f,retryAfter:g};b.push(i)}return b}function b(a,b,c){b={fromVersion:b.version,mediaUpdates:[{mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(b),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(b)}],toVersion:b.version};c!==void 0&&(b.offer={sdpString:c.sdp});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE,a,{clientMediaUpdateRequest:b})}g.fromClientMediaUpdateResponse=a;g.toClientMediaUpdateRequest=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWConferenceStateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.conferenceStateRequest;if(a){var c=a.appMessages,e=a.participantStates,f={eventName:"participantUpdateRequest",participantStates:new Map(),versionId:a.version},g={actorRepresentatives:new Map(),eventName:"clientInfoRequest",mediaPath:d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map()};Object.keys(e).forEach(function(a){var b=e[a],c=b.state;b=b.userCapabilities;f.participantStates.set(a,d("ZenonMWTranslatorUtils").fromMWParticipantState(c));g.userCapabilities.set(a,(c=b)!=null?c:"")});b.push(f);b.push(g);a=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(c);if(a){c={context:a,eventName:"roomContextUpdateRequest"};b.push(c)}}return b}function b(a,b){b={currentVersion:b.requestVersionId};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE,a,{conferenceStateResponse:b})}g.fromConferenceStateRequest=a;g.toConferenceStateResponse=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWDataMessageTranslator",["ZenonActorHooks","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c=a.message.header,e=d("ZenonMWTranslatorUtils").getGenericDataMessageData(a);a=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(a);if(e!=null&&a!=null){c={data:e,eventName:"genericDataMessageRequest",recipientIDs:(e=c.recipients)!=null?e:[],serviceRecipients:(e=c.serviceRecipients)!=null?e:[],topic:a};b.push(c)}}return b}function b(a,b){var c={data:b.data,topic:b.topic};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageRequest:{message:{body:{genericMessage:c},header:{recipients:b.recipientIDs,sender:d("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:b.serviceRecipients,topic_DEPRECATED:""}}}})}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageResponse:{deliveryResult:{}}})}g.fromDataMessageRequest=a;g.toDataMessageRequest=b;g.toDataMessageResponse=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWDismissTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dismissRequest;if(a){var c=a.detailedReasonString;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:d("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0,subreason:c};b.push(a)}return b}function b(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS,a,{})}g.fromDismissRequest=a;g.toDismissResponse=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWHangupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function b(a,b){b=b.reason;b={detailedReasonString:"",reason:d("ZenonMWTranslatorUtils").toMWHangupReason(b)};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP,a,{hangupRequest:b})}g.fromHangupResponse=a;g.toHangupRequest=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWIceCandidateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}})};b.push(a)}return b}function b(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{})}function e(a,b){b=b.iceCandidates;b=b.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}});b={iceCandidateSdps:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{iceCandidateRequest:b})}g.fromIceCandidateRequest=a;g.fromIceCandidateResponse=b;g.toIceCandidateResponse=c;g.toIceCandidateRequest=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWJoinTranslator",["RoboticsPermission","ZenonBrowsers","ZenonIGMediaUtil","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonMediaModeManager","ZenonScreenShare","gkx","qex"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload.header,f=e.responseStatusCode,g=e.responseSubCode;if(f&&f!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){g="JOIN response status code: "+f+" subcode "+((g=g)!=null?g:"[undefined]");c("ZenonInfraActionsLogger").logError({callType:"mw",checkpoint:"[ZP] Got non-OK "+g,errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={detailedReasonFromMW:e.responseStatusMessage,eventName:"terminateRequest",fromJoinResponse:!0,reason:d("ZenonMWTranslatorUtils").fromMWJoinResponseStatusToDismissReason(f,e.responseSubCode),shouldInformPeer:!1,subreason:g};b.push(f);return b}g=a.jsonPayload.body.joinResponse;if(!g)return b;d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(g.stateStore,b);d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);f=(a=(f=g.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";e={ackMessageId:e.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};b.push(e);if(a){e={sdp:f,type:"answer",version:d("ZenonMWTranslatorUtils").getSdpVersion(f)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(g.mediaStatusEx);f=g.renegotiationOffer;var h=null;f!=null&&f.sdpString!=null&&(h={sdp:f.sdpString,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(f.sdpString)});f={eventName:"remoteSdpRequest",mediaPath:g.mediaPath,mediaStates:a,negotiateType:!1,renegotiationOffer:h,sdp:e,source:"joinResponse"};b.push(f)}a={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:g.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};b.push(a);if(g.isPendingApproval){h={eventName:"pendingApprovalRequest"};b.push(h)}e=g.groupsOfUsers;var i=new Map();e.forEach(function(a){var b=a.aliasId;a=a.users;b!=null&&a.forEach(function(a){i.set(a,b)})});f={actorRepresentatives:i,eventName:"clientInfoRequest",mediaPath:g.mediaPath,userCapabilities:new Map()};b.push(f);return b}function b(a,b,e,f){var g=b.initialSyncStates,l=b.isSecondaryJoinRole,m=b.userCapabilities;g={clientMediaMode:k(e.mediaMode),deviceCapabilities:[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,d("ZenonMWMessageTypes").ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION,d("ZenonMWMessageTypes").ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED].concat(c("qex")._("587")?[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_DELTA_SMU]:[]),mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(e.mediaStates),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(e.mediaStates),offer:{},syncPayload:g?{stateStore:d("ZenonMWTranslatorUtils").toMWSyncStateStore(g)}:void 0,userCapabilities:m.get(a.userInfo.userID)};l!=null&&c("gkx")("1855")&&(g.endpointSettings={joinMode:l?d("ZenonMWMessageTypes").ZenonMWJoinMode.SECONDARY:d("ZenonMWMessageTypes").ZenonMWJoinMode.PRIMARY});m=b.isE2eeMandated===!0;c("gkx")("5709")&&(g.e2eeEnforcement={mode:m?d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED:d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_NOT_MANDATED});e.sdp.type==="offer"&&(g.offer={sdpString:e.sdp.sdp});i(e.sdp.type)&&(g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),e.sdp.type==="answer"&&(g.answer={sdpString:e.sdp.sdp}),j(m)&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP_DEESCALATION));(d("ZenonScreenShare").isDualStreamScreenSharingEnabled(e.mediaStates.tracks)||c("RoboticsPermission").is_authorized_robot)&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);l=f==null?void 0:f.otherParticipants;l&&(g.usersToCall=l);b=[];e=(e=f==null?void 0:f.roomInfo.context)!=null?e:a.roomInfo.context;if(e){var n=d("ZenonJoiningContext").convertCollisionToJoiningContext(e);m&&(n.calling_tags=2);b=[].concat(b,[{body:{genericMessage:{data:JSON.stringify(n),topic:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(f==null?void 0:f.appMessages)!=null&&(b=[].concat(b,d("ZenonMWTranslatorUtils").signalingMessageAppMessagesToMWAppMessages(f.appMessages,l)));g.appMessages=b;m=d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN,a,{joinRequest:g});e&&e.serverInfoData!=null&&(m.jsonPayload.header.serverInfoData=e.serverInfoData);h(e,m.jsonPayload.header)&&(m.jsonPayload.header.conferenceType=d("ZenonMWMessageTypes").ZenonMWConferenceType.ROOM);return m}function h(a,b){return(a==null?void 0:a.peerID)!==null&&b.conferenceName===null}function i(a){return d("ZenonBrowsers").isFirefox()&&a!=="answer"?!1:!c("ZenonIGMediaUtil").shouldUseSFUOnly()}function j(a){return a||d("ZenonMediaModeManager").shouldUseSFUMediaPath()?!1:c("gkx")("4221")}function k(a){return a==="p2p"?d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU}g.fromJoinResponse=a;g.toJoinRequest=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWPingTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING,a,{pingRequest:b})}g.fromPingResponse=a;g.toPingRequest=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWRingTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a=a.jsonPayload;var e=a.body;a=a.header;e=e.ringRequest;if(e){var f=e.appMessages,g=e.caller,h=e.e2eeEnforcement,i=e.otherParticipants,j=e.ringType;g=g;j=j===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||j===d("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||j===d("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||j===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var k=a.conferenceName;a=a.serverInfoData;var l=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(f);l&&(l==null?void 0:l.serverInfoData)==null&&(l.serverInfoData=a);var m=d("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(f);h={actorID:b.actorID,eventName:"inviteRequest",inviterID:g,isE2eeMandated:(h==null?void 0:h.mode)===d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:i,requestingVideo:j,roomInfo:{context:(g=l)!=null?g:{groupThreadID:null,peerID:null,serverInfoData:a},name:k,room:m,sender:m.sender},serverInfoData:a,userID:b.userInfo.userID};f!=null&&(h.appMessages=d("ZenonMWTranslatorUtils").mwAppMessagesToSignalingAppMessages(f));c.push(h);l=(j=(i=e.offer)==null?void 0:i.sdpString)!=null?j:"";k=(g=e.mediaStatusEx)!=null?g:null;if(l!==""&&k!=null){m={sdp:l,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(l)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(k);b={eventName:"remoteSdpRequest",mediaPath:e.mediaPath,mediaStates:a,negotiateType:!1,sdp:m,source:"ringRequest"};c.push(b)}}return c}function b(a,b){b=b.status;b==="IN_ANOTHER_CALL"&&(a.signalingID=null);b=d("ZenonMWTranslatorUtils").toMWDeviceStatus(b);b={deviceCapabilities:[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING,a,{ringResponse:b})}g.fromRingRequest=a;g.toRingResponse=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWServerMediaUpdateTranslator",["FBLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTypes","ZenonMWTranslatorUtils","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload,f=e.body;e=e.header;f=f.serverMediaUpdateRequest;var g=e.messageTags,i=e.transactionId;if(!f)return b;var j=f.answer,k=f.fromVersion,l=f.mediaPath,m=f.mediaStatus,n=f.multipleVideoStreamsAllowed,o=f.offer,p=f.renegotiationRequested,q=f.stateStore,r=f.toVersion;f=f.update;o=(o=o==null?void 0:o.sdpString)!=null?o:"";j=(j=j==null?void 0:j.sdpString)!=null?j:"";var s=function(){d("ZenonMWMessageReliabilityLogger").logProcessedMessage(a)};d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(q,b);if(p){p={ackMessageId:i,eventName:"initiateRenegotiationRequest",fromVersion:k,hasRemoteOffer:o!=="",mediaPath:l,messageTags:(q=g)!=null?q:[],onProcessed:s,version:r};b.push(p);if(o!==""){q=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(o)},s,g);b.push(q)}}else if(j!==""){p=h(i,k,l,m,{sdp:j,type:"answer",version:d("ZenonMWTranslatorUtils").getSdpVersion(j)},s,g);if(p.sdp.sdp!=null&&d("ZenonMWTranslatorUtils").isUnifiedPlan(p.sdp.sdp)){q={sdp:j,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(j)};p.renegotiationOffer=q}b.push(p)}else if(o!==""){j=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWTranslatorUtils").getSdpVersion(o)},s,g);b.push(j)}else if(f){q=h(i,k,l,m,{type:"offer",update:f,version:r},s,g);b.push(q)}else if(m){o={ackMessageId:i,eventName:"mediaUpdateRequest",mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(m,k,r),messageTags:(p=g)!=null?p:[],onProcessed:s};b.push(o)}else{j="Warning: unsupported SMU type. TXID: "+i;c("FBLogger")("rpweb").warn(j);c("ZenonInfraActionsLogger").logError({error:j,errorDomain:"ZenonMWServerMediaUpdateTranslator"})}d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);f={capabilities:{multipleVideoStreamsAllowed:n},eventName:"capabilitiesRequest",messageTags:(l=g)!=null?l:[]};b.push(f);return b}function h(a,b,c,e,f,g,h){return{ackMessageId:a,eventName:"remoteSdpRequest",fromVersion:b,mediaPath:c,mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(e),messageTags:(a=h)!=null?a:[],negotiateType:!1,onProcessed:g,sdp:f,source:"serverMediaUpdateRequest"}}function b(a,b,c,e){return i(a,(a=b.acknowledgedVersion)!=null?a:null,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode),c,e)}function e(a,b){return i(a,b.acknowledgedVersion,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode))}function f(a,b){return i(a,b.acknowledgedVersion,(a=b.responseStatusCode)!=null?a:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,b.responseSubCode)}function i(a,b,e,f,g,h){if(b==null)throw c("unrecoverableViolation")("Error creating ServerMediaUpdateResponse: acknowledgedVersion is null","messenger_web_product");b={currentVersion:b};g&&(b.mediaStatus=d("ZenonMWTranslatorUtils").toMWClientMediaStatus(g));h&&(b.answer={sdpString:h.sdp});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,a,{serverMediaUpdateResponse:b},e,f)}g.fromServerMediaUpdateRequest=a;g.toServerMediaUpdateResponse=b;g.toServerMediaUpdateRenegotiationResponse=e;g.toServerMediaUpdateNoSdpResponse=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWStateSyncTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function b(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=[];if(a.syncPayload!=null)d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(a.syncPayload.stateStore,b,!0);else{var c=a.data,e=a.topic;a=a.version;c={data:c,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:e,version:a};b.push(c)}return b}function c(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function e(a,b){var c=b.data,e=b.topic;b=b.version;c={data:c,topic:e,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE,a,{updateRequest:c})}function f(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY,a,{notifyResponse:c})}function h(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE,a,{unsubscribeRequest:c})}g.fromUpdateResponse=a;g.fromNotifyRequest=b;g.fromUnsubscribeResponse=c;g.toUpdateRequest=e;g.toNotifyResponse=f;g.toUnsubscribeRequest=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWSubscriptionTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.subscriptions;b={subscriptions:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION,a,{subscriptionRequest:b})}g.toSubscriptionRequest=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWWakeupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"wakeupRequest"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP,a,{wakeupResponse:b})}g.fromWakeupRequest=a;g.toWakeupResponse=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWMessageTranslator",["ZenonActorHooks","ZenonMWAddRemoveParticipantsTranslator","ZenonMWApprovalTranslator","ZenonMWClientEventTranslator","ZenonMWClientMediaUpdateTranslator","ZenonMWConferenceStateTranslator","ZenonMWDataMessageTranslator","ZenonMWDismissTranslator","ZenonMWHangupTranslator","ZenonMWIceCandidateTranslator","ZenonMWJoinTranslator","ZenonMWMessageTypes","ZenonMWPingTranslator","ZenonMWRingTranslator","ZenonMWServerMediaUpdateTranslator","ZenonMWStateSyncTranslator","ZenonMWSubscriptionTranslator","ZenonMWTranslatorUtils","ZenonMWWakeupTranslator","ZenonSignalingMessage","gkx","qex","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b;b=(b=c("qex")._("475"))!=null?b:!1;var e=a.getHeader();a=a.getEvents();if(a.length===0)throw c("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","messenger_web_product");else{var f=a[0];switch(f.eventName){case"addParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toAddParticipantsRequest(e,f);case"clientEventRequest":return d("ZenonMWClientEventTranslator").toClientEventRequest(e,f);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"))return d("ZenonMWJoinTranslator").toJoinRequest(e,f,a[1]);break;case"genericDataMessageRequest":return d("ZenonMWDataMessageTranslator").toDataMessageRequest(e,f);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return d("ZenonMWJoinTranslator").toJoinRequest(e,a[1],a[2],f);break;case"genericDataMessageResponse":return d("ZenonMWDataMessageTranslator").toDataMessageResponse(e);case"inviteResponse":return d("ZenonMWRingTranslator").toRingResponse(e,f);case"dismissResponse":return d("ZenonMWDismissTranslator").toDismissResponse(e);case"initiateRenegotiationResponse":if(a.length>=3&&a[1].eventName==="remoteSdpResponse"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="answer")return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(e,a[1],a[2].mediaStates,a[2].sdp);else return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateRenegotiationResponse(e,f);case"iceCandidateRequest":return d("ZenonMWIceCandidateTranslator").toIceCandidateRequest(e,f);case"iceCandidateResponse":return d("ZenonMWIceCandidateTranslator").toIceCandidateResponse(e);case"localSdpRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(e,f.mediaStates,f.sdp);case"mediaUpdateRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(e,f.mediaStates);case"mediaUpdateResponse":return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateNoSdpResponse(e,f);case"participantUpdateResponse":return d("ZenonMWConferenceStateTranslator").toConferenceStateResponse(e,f);case"pingRequest":return d("ZenonMWPingTranslator").toPingRequest(e);case"remoteSdpResponse":return f.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?b&&a[1].mediaMode!=="p2p"?d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(e,f,a[1].mediaStates):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(e,f,a[1].mediaStates,a[1].sdp):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(e,f);case"removeParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toRemoveParticipantsRequest(e,f);case"stateSyncNotifyResponse":return d("ZenonMWStateSyncTranslator").toNotifyResponse(e,f);case"stateSyncUnsubscribeRequest":return d("ZenonMWStateSyncTranslator").toUnsubscribeRequest(e,f);case"stateSyncUpdateRequest":return d("ZenonMWStateSyncTranslator").toUpdateRequest(e,f);case"subscriptionRequest":return d("ZenonMWSubscriptionTranslator").toSubscriptionRequest(e,f);case"terminateRequest":return d("ZenonMWHangupTranslator").toHangupRequest(e,f);case"usersApprovalRequest":return d("ZenonMWApprovalTranslator").toApprovalRequest(e,f);case"wakeupResponse":return d("ZenonMWWakeupTranslator").toWakeupResponse(e)}}return null}function b(a){var b=a.jsonPayload.header;if(!h(b))throw c("unrecoverableViolation")("Ignoring MW message; receiver does not match self ID","messenger_web_product");var e=b.type,f=b.responseStatusCode==null;b=d("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(b);var g=[];switch(e){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:f&&(g=d("ZenonMWRingTranslator").fromRingRequest(a,b));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:f&&(g=d("ZenonMWDismissTranslator").fromDismissRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:f||(g=d("ZenonMWJoinTranslator").fromJoinResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:f?g=d("ZenonMWIceCandidateTranslator").fromIceCandidateRequest(a):g=d("ZenonMWIceCandidateTranslator").fromIceCandidateResponse(a);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:f&&(g=d("ZenonMWConferenceStateTranslator").fromConferenceStateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:f||(g=d("ZenonMWClientMediaUpdateTranslator").fromClientMediaUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:f&&(g=d("ZenonMWServerMediaUpdateTranslator").fromServerMediaUpdateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:f||(g=d("ZenonMWPingTranslator").fromPingResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:f||(g=d("ZenonMWHangupTranslator").fromHangupResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:f&&(g=d("ZenonMWDataMessageTranslator").fromDataMessageRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:f||(g=d("ZenonMWStateSyncTranslator").fromUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:f||(g=d("ZenonMWStateSyncTranslator").fromUnsubscribeResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:f&&(g=d("ZenonMWStateSyncTranslator").fromNotifyRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP:f&&(g=d("ZenonMWWakeupTranslator").fromWakeupRequest(a))}return new(c("ZenonSignalingMessage"))(b,g)}function h(a){var b=c("gkx")("1877");return d("ZenonActorHooks").ZenonActor.isInstagramUser()||a.receiverUserId==null||a.receiverUserId===d("ZenonActorHooks").ZenonActor.getID()||b&&((b=a.receiver)==null?void 0:b.baseId)===d("ZenonActorHooks").ZenonActor.getAccountID()}g.toMWMessage=a;g.toSignalingMessage=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonMWSendMessageMutation",["CometRelayEnvironmentFactory","CometRelayErrorHandling","Promise","RelayFBEnvironmentDefinitions","ZenonMWSendMessageMutation.graphql","cr:1012418","gkx","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h;function i(a,e){return new(b("Promise"))(function(f,g){b("cr:1012418").commitMutation(k(e),{mutation:h!==void 0?h:h=b("ZenonMWSendMessageMutation.graphql"),onCompleted:function(a){return f(a)},onError:function(a){c("gkx")("708253")&&d("CometRelayErrorHandling").markErrorAsHandled(a);return g(a)},variables:{input:{message:a}}})})}function j(a){a=a.rtc_web_send_multiway_signaling_message;var b=null,c=null;a!=null&&(a.header!=null&&(b=JSON.parse(a.header)),a.body!=null&&(c=JSON.parse(a.body)));return{body:c,header:b}}function a(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(i(a,c));case 2:d=e.sent;return e.abrupt("return",j(d));case 4:case"end":return e.stop()}},null,this)}function k(a){return d("RelayFBEnvironmentDefinitions").createEnvironment(d("CometRelayEnvironmentFactory").configEnvironment({actorID:a}))}g.sendMessage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ZenonGraphQLMWMessageSender",["ChannelClientID","Promise","ZenonActorHooks","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMWSendMessageMutation","ZenonMWTranslatorUtils","ZenonValidateMWMessage","err","regeneratorRuntime","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var e=a.prototype;e.handleResponse=function(a){var b=a.header||null;a=a.body||null;var e=c("ZenonDebugLogger").getInstance();if(b!=null&&a!=null){var f;f={endpoint:{appId:d("ZenonMWTranslatorUtils").getMWAppID(),deviceId:c("ChannelClientID").getID(),userId:(f=b.receiverUserId)!=null?f:d("ZenonActorHooks").ZenonActor.getID()},jsonPayload:{body:a,header:b}};e.logMWMessage("RECEIVED","GraphQL",f);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(f);a=d("ZenonMWMessageTranslator").toSignalingMessage(f);if(this.$1!=null)this.$1(a),d("ZenonMWMessageReliabilityLogger").logProcessingMessage(f);else throw c("unrecoverableViolation")("Should never have null message receiver","rtc_www")}};e.$3=function(a){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);e.logMWMessage("SENDING","GraphQL",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);h.prev=4;h.next=7;return b("regeneratorRuntime").awrap(d("ZenonMWSendMessageMutation").sendMessage(JSON.stringify(a),a.endpoint.userId));case 7:f=h.sent;d("ZenonMWMessageReliabilityLogger").logSentMessage(a);this.handleResponse(f);h.next=18;break;case 12:h.prev=12,h.t0=h["catch"](4),g=h.t0!=null?h.t0.toString():"Message Send Error",d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[GraphQL] "+g),e.logSendMultiwayMessageFailure(g,a.jsonPayload.header.type),h.t0!=null&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Failed to send MW message of type "+a.jsonPayload.header.type+". Stack Trace: "+h.t0.stack+"."});case 18:case"end":return h.stop()}},null,this,[[4,12]])};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return b("Promise").reject(c("err")("Invalid MW message"));var e=a.jsonPayload.header.type;return a.endpoint.userId!==d("ZenonActorHooks").ZenonActor.getAccountID()||e!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE?this.$3(a):b("Promise").reject(c("err")("GraphQL only sends DATA_MESSAGE for Page users"))};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FBIDCheck",[],function(a,b,c,d,e,f){"use strict";var g=/^[1-9]\d*$/;function a(a){a=a;if(a==null||typeof a==="string"&&!g.test(a))return!1;a=parseInt(a,10);return!a?!1:a>0&&a<22e8||a>=1e14&&a<=100099999989999||a>=89e12&&a<=89999999999999||a>=6000001e7&&a<=60000019999999}f.isUser_deprecated=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WorkplaceChatHelper",["ChannelConstants","CurrentUser","PresenceViewerCapabilities"],function(a,b,c,d,e,f,g){"use strict";function a(){return window.workchat!==void 0}function b(){return window.workchat.appId}function e(){window.workchat.showWindow()}function f(){var a;a=(a=window.workchat)==null?void 0:a.getIsSystemDoNotDisturbOn;return a==null?!1:a()}function h(){return window.workchat.getScreenSharingSourceID()}function i(){return window.workchat.stopScreenSharing()}function j(){return c("CurrentUser").isWorkUser()&&(c("PresenceViewerCapabilities").get()&d("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==d("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP}g.isDesktopChatApp=a;g.getAppID=b;g.showWindow=e;g.getIsSystemDoNotDisturbOn=f;g.getScreenSharingSourceID=h;g.stopScreenSharing=i;g.suppressChatIfActiveOnDesktop=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("InstantGamesPresenceProperties",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},e={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},f=[a,b,d];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,d,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[e],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:f,type:"XFBWorkroomsUser",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,d],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,d],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:f,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:f,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:f,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5396365247068846"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"include_viewer"},{defaultValue:null,kind:"LocalArgument",name:"options"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},{defaultValue:null,kind:"LocalArgument",name:"types"}],c=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"types"}],d={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},j={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};k={kind:"InlineFragment",selections:[g,h,i,j,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[k],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[k,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null};var l=[g,h,j],m={kind:"InlineFragment",selections:l,type:"XFBWorkroomsUser",abstractKey:null},n={kind:"InlineFragment",selections:l,type:"Group",abstractKey:null},o={kind:"InlineFragment",selections:l,type:"Event",abstractKey:null};h={kind:"InlineFragment",selections:[g,h,i,j],type:"Page",abstractKey:null};i={kind:"InlineFragment",selections:[g,j],type:"ContextualProfile",abstractKey:"__isContextualProfile"};g={kind:"InlineFragment",selections:l,type:"GroupRule",abstractKey:null};j={kind:"InlineFragment",selections:l,type:"ProductItem",abstractKey:null};l={kind:"InlineFragment",selections:l,type:"BatchMentions",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:c,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,k,m,n,o,h,i,g,j,l],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:c,concreteType:"CometComposerTypeaheadResultEntry",kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,k,m,n,o,h,i,g,j,l],storageKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4626678807432387"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql",["useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"enable_type_selection"},d={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},e={defaultValue:null,kind:"LocalArgument",name:"query"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h={defaultValue:null,kind:"LocalArgument",name:"types"},i=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"enable_type_selection",variableName:"enable_type_selection"},{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"types"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},q={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},r={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};r={kind:"InlineFragment",selections:[n,o,p,q,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[r],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null};var s=[n,o,q],t={kind:"InlineFragment",selections:s,type:"XFBWorkroomsUser",abstractKey:null},u={kind:"InlineFragment",selections:s,type:"Group",abstractKey:null},v={kind:"InlineFragment",selections:s,type:"Event",abstractKey:null};o={kind:"InlineFragment",selections:[n,o,p,q],type:"Page",abstractKey:null};p={kind:"InlineFragment",selections:[n,q],type:"ContextualProfile",abstractKey:"__isContextualProfile"};n={kind:"InlineFragment",selections:s,type:"GroupRule",abstractKey:null};q={kind:"InlineFragment",selections:s,type:"ProductItem",abstractKey:null};s={kind:"InlineFragment",selections:s,type:"BatchMentions",abstractKey:null};var w={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},y={kind:"InlineFragment",selections:[w,{alias:null,args:null,kind:"ScalarField",name:"types_to_show",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],type:"XFBMentionsTypeSelectionEntry",abstractKey:null};w={kind:"InlineFragment",selections:[w,x],type:"XFBMentionsTypeResetEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[j,{kind:"InlineFragment",selections:[k,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,r,t,u,v,o,p,n,q,s],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null},y,w],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d,e,f,g,h],kind:"Operation",name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[j,{kind:"InlineFragment",selections:[k,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,m,r,t,u,v,o,p,n,q,s],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null},y,w],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="8323149864377352"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql",["useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Literal",name:"query",value:""},{kind:"Literal",name:"typeahead_context",value:"mentions"}],d={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},j={alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};k={kind:"InlineFragment",selections:[g,h,i,j,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[k],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[k,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null};var l=[g,h,j],m={kind:"InlineFragment",selections:l,type:"XFBWorkroomsUser",abstractKey:null},n={kind:"InlineFragment",selections:l,type:"Group",abstractKey:null},o={kind:"InlineFragment",selections:l,type:"Event",abstractKey:null};h={kind:"InlineFragment",selections:[g,h,i,j],type:"Page",abstractKey:null};i={kind:"InlineFragment",selections:[g,j],type:"ContextualProfile",abstractKey:"__isContextualProfile"};g={kind:"InlineFragment",selections:l,type:"GroupRule",abstractKey:null};j={kind:"InlineFragment",selections:l,type:"ProductItem",abstractKey:null};l={kind:"InlineFragment",selections:l,type:"BatchMentions",abstractKey:null};var p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[{kind:"InlineFragment",selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,k,m,n,o,h,i,g,j,l],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[p,{kind:"InlineFragment",selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[p,f,k,m,n,o,h,i,g,j,l],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{kind:"Literal",name:"height",value:80},a,{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:"sticker_image",args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},a,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.anchor;if(a.type!=="text")return null;var b=a.getNode();if(!b.isSimpleText())return null;a=a.offset;return b.getTextContent().slice(0,a)}function a(a){var b=null;a.getEditorState().read(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a))return;b=h(a)});return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createCometMentionsNameMatchStrategy",[],function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("DocumentMentionsRegex",[],function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b){b="[^"+a+b+"\\s]";var c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+h+"){0,"+i+"}))$"),d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers;a=a.disallowedChars;a=a===void 0?c("DocumentMentionsRegex").PUNCTUATION:a;e=j(e,a);var f=e.regex,g=e.regexAlias;return{findMentionableString:function(a){var c=f.exec(a);c===null&&(c=g.exec(a));if(c!==null){a=c[1];var d=c[3];if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=b.filter(function(a){return g(a)});b=b.filter(function(a){return!g(a)});return babelHelpers["extends"]({},a,{entries:c.concat(b)})}function g(a){return a.rawData.type==="MENTION_TYPE_SELECTION"||a.rawData.type==="MENTION_TYPE_RESET"}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createFeedCometMentionsDataEntry",["createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");function a(a){var b;b=a.data.node;if(b==null)return null;b=b;var c=b.id,d=b.name;b=b.photo;b=b==null?void 0:b.uri;if(d==null||c==null||b==null)return null;if(a.type==="MENTION_SEARCH_RESULT"){var e,f=a.data.score;if(f==null)return null;e=Boolean((e=a.data.node)==null?void 0:e.is_verified);var g="circle";switch(a.data.icon_shape){case"square":g="square";break;case"roundedRect":g="roundedRect";break}return{key:c,label:d,rawData:{iconShape:g,isExternal:!1,isVerified:e,photoURI:b,score:f,subtext:(g=a.data.node)==null?void 0:g.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:c,label:d,rawData:{photoURI:b,type:a.type},type:"entry"}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?h:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["storageKey","storageTimespan"]);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return b("Promise").resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=c("WebStorage").getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=c("WebStorage").getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,h=e.response;e=e.timestamp;var i=this.$2.build();i=i(a);if(JSON.stringify(g)!==JSON.stringify(i)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return h;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=c("WebStorage").getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,i=a.normalize,j=a.queryVariables,k=a.storageKey,l=h(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=h(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:i})},[a,m]);return h(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","qex","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=a.firstDegreeFinderOptions,e=a.includeViewer,f=a.limit,g=a.matchStrategy;g=g===void 0?"prefix":g;var h=a.storageKey,k=a.typeaheadContext;a=a.types;return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")({gqlQuery:i,limit:f,matchStrategy:g,normalize:j,queryVariables:{include_viewer:e,options:b,scale:d("WebPixelRatio").get(),typeahead_context:k,types:a},storageKey:h})}function j(a){a=a==null?void 0:a.comet_composer_typeahead_bootload;if(!c("qex")._("1301"))return[];return a==null?[]:a.map(function(a){if(a==null)return;return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsNetworkDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNetworkDataSourceQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql");function a(a){var b=a.enableTypeSelection,e=b===void 0?!1:b,f=a.includeViewer,g=a.limit,h=a.typeaheadContext,k=a.types;return c("useCometTypeaheadGraphQLDataSource")({gqlQuery:i,limit:g,normalize:j,queryVariablesBuilderFunction:function(a){a=a.query;return{count:g,enable_type_selection:e,include_viewer:f,query:a,scale:d("WebPixelRatio").get(),typeahead_context:h,types:k}}})}function j(a){a=a==null?void 0:a.comet_composer_typeahead_search;return a==null?[]:a.map(function(a){var b;if(a==null)return;switch(a.__typename){case"CometComposerTypeaheadResultEntry":return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});case"XFBMentionsTypeSelectionEntry":return a.cache_id==null||a.label==null?null:{key:a.cache_id,label:a.label,rawData:{iconName:(b=a.icon_name)!=null?b:"",type:"MENTION_TYPE_SELECTION",typesToShow:a.types_to_show.map(function(a){return a})},type:"entry"};case"XFBMentionsTypeResetEntry":return a.cache_id==null||a.label==null?null:{key:a.cache_id,label:a.label,rawData:{type:"MENTION_TYPE_RESET"},type:"entry"};default:return null}}).filter(Boolean)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsNullstateDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNullstateDataSourceQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql");function a(a){var b=a.limit;return c("useCometTypeaheadGraphQLDataSource")({gqlQuery:i,limit:b,normalize:j,queryVariablesBuilderFunction:function(){return{count:b,scale:d("WebPixelRatio").get()}}})}function j(a){a=a==null?void 0:a.comet_composer_typeahead_search;return a==null?[]:a.map(function(a){if(a==null)return;return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometMentionsDataSourceResolverConfig",["react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useLayoutEffect,j=b.useMemo;function a(a,b){var c=h(function(){a.forEach(function(a){a=a.dataSource;a.bootstrap()})},[a]);i(function(){if(!b)return;c()},[b,c]);return j(function(){var b=new Map();return{bootstrap:c,resolver:function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(var e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.matchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}}},[a,c])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["BaseTypeaheadLocalStorageDataProviderStorageKey","MentionsCommonWordsBlocklist","cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","cr:1916546","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","gkx","qex","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource","useFeedComposerCometMentionsNetworkDataSource"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=c("qex")._("1302"),j=c("qex")._("1250"),k=c("gkx")("3923"),l=["user","workrooms_user","group","event","page"];function a(a){var b=a.enableTypeSelection;b=b===void 0?!1:b;var e=a.limit,f=a.mentionTypes;f=f===void 0?l:f;a=a.shouldBootstrapOnLayoutEffect;var g=m({bootstrapOptions:{includeViewer:!0,typeaheadContext:"mentions",types:["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"]},cacheKey_SEARCH_ONLY:{enableTypeSelection:b,mentionTypes:f,type:"feed_mentions_intentful_datasource_cache_key"},enableTypeSelection:b,limit:e,networkOptions:{includeViewer:!0,typeaheadContext:"mentions",types:f}}),n=c("useCometTypeaheadCompositeDataSource")({bootstrapDataSource:c("useFeedComposerCometMentionsBootloadDataSource")({firstDegreeFinderOptions:["FRIENDS_ONLY"],includeViewer:!0,limit:Math.floor(e/2),matchStrategy:"token",storageKey:c("gkx")("1864085")?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKey.FeedComposerMentionsNonIntentfulMentionsBootstrap:null,typeaheadContext:"mentions",types:["USER","WORKROOMS_USER"]}),cacheKey_SEARCH_ONLY:{type:"feed_mentions_non_intentful_datasource_cache_key"},limit:e});b=h(function(){var a=[{dataSource:g,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:i===!0?0:1})}];if(k)return a;a.push({dataSource:n,matchStrategy:c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:3,nameCase:"capitalized"})});j===!0&&a.push({dataSource:n,matchStrategy:c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:4,nameCase:"lower-case"})});return a},[g,n]);return c("useCometMentionsDataSourceResolverConfig")(b,a)}function m(a){var e=a.bootstrapOptions,f=a.cacheKey_SEARCH_ONLY,g=a.enableTypeSelection,i=a.limit;a=a.networkOptions;var j=b("cr:1916546")({limit:i}),k=h(function(){return g?[c("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[]},[g]);return c("useCometTypeaheadCompositeDataSource")({bootstrapDataSource:c("useFeedComposerCometMentionsBootloadDataSource")(babelHelpers["extends"]({limit:Math.floor(i/2)},e,{storageKey:c("gkx")("1864085")?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKey.FeedComposerMentionsIntentfulMentionsBootstrap:null})),cacheKey_SEARCH_ONLY:f,limit:i,networkDataSource:c("useFeedComposerCometMentionsNetworkDataSource")(babelHelpers["extends"]({enableTypeSelection:g,limit:i},a)),nullstateDataSource:j!=null?j:void 0,payloadDecorators:k})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onPressEntryIn;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntryIn","queryString"]);var d=function(a,c){c.preventDefault(),b&&b(a,c)};return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{onPressEntryIn:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["ix","CometListCellStrict.react","CometSearchMentionsBaseViewItem.react","TetraText.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={addOnIconVertical:{marginBottom:"kjdc1dyq",marginTop:"m8h3af8h"},text:{minWidth:"rqowu0l0"}};function a(a){var b=a.entry.label;return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:i.jsx(c("CometListCellStrict.react"),{addOnStart:{icon:d("fbicon")._(h("492485"),16),type:"icon"},addOnStartOverrideVerticalStyle:j.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",{className:c("stylex")(j.text),children:i.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:b})}),level:4,paddingHorizontal:0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["ix","CometListCellStrict.react","CometSearchMentionsBaseViewItem.react","TetraText.react","fbicon","react","recoverableViolation","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={addOnIcon:{marginBottom:"kjdc1dyq",marginTop:"m8h3af8h"},text:{minWidth:"k7v9dhq9"}};function a(a){var b=a.entry,e=b.label;b=b.rawData;b=b.type==="MENTION_TYPE_SELECTION"?b.iconName:null;if(b==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var f=null;switch(b){case"shops":f=d("fbicon")._(h("1664042"),20);break;default:break}return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:i.jsx(c("CometListCellStrict.react"),{addOnEnd:{color:"secondary",icon:d("fbicon")._(h("492533"),16),type:"icon"},addOnEndVerticalAlign:"center",addOnStart:f!=null?{icon:f,size:40,type:"contained-icon"}:null,addOnStartOverrideVerticalStyle:j.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",{className:c("stylex")(j.text),children:i.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:e})}),level:4,paddingHorizontal:0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfilePhoto.react","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","TetraIcon.react","TetraText.react","fbicon","react","recoverableViolation","stylex"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={container:{paddingStart:"t4os9e1m"},invitedName:{alignItems:"i85zmo3j",maxWidth:"afjrx31o"},invitedVerifiedName:{alignItems:"i85zmo3j",maxWidth:"irjsnxci"},name:{alignItems:"i85zmo3j",display:"alzwoclg"},nameBadge:{height:"k250bvdn"},nameDivider:{width:"cowpzf8e"},photo:{height:"nq2b4knc",width:"bis24fgy"},root:{alignItems:"i85zmo3j",display:"alzwoclg",maxWidth:"hemw6vb9",minWidth:"o4jmqj6z"},subText:{marginBottom:"laatuukc"},text:{flexGrow:"cgu29s5g",marginStart:"j0k7ypqs",overflowX:"lq84ybu9",overflowY:"hf30pyar",textOverflow:"oshhggmv",whiteSpace:"qm54mken"},textDivider:{height:"iaw62e1p"},textHeadline:{display:"alzwoclg",marginTop:"i0rxk2l3",marginBottom:"laatuukc"}};function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=b.rawData,f=!1,g=!1,l=null,m="circle";if(e.type==="MENTION_SEARCH_RESULT"){var n;f=Boolean(e.isExternal);g=e.isVerified;l=e.subtext;m=(n=e.iconShape)!=null?n:"circle"}n=b.label;var o=a.addOn,p=k.name;o!=null&&(p=g?k.invitedVerifiedName:k.invitedName);e=e.type!=="SEE_ALL_ENTRY"&&e.type!=="MENTION_TYPE_RESET"?e.photoURI:null;if(e==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}m=j.jsx(c("CometProfilePhoto.react"),{shape:m,size:40,source:{uri:e}});return j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,testid:void 0,children:j.jsxs("div",{className:c("stylex")(k.root),children:[j.jsx("div",{className:c("stylex")(k.photo),children:m}),j.jsxs("div",{className:c("stylex")(k.text),children:[j.jsxs("div",{className:c("stylex")(k.textHeadline),children:[j.jsx("div",{className:c("stylex")(p),children:j.jsx(c("TetraText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:n})}),g&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(k.nameDivider)}),j.jsx("div",{className:c("stylex")(k.nameBadge),children:j.jsx(c("CometProfileVerificationBadge.react"),{profileID:b.key,size:"small"})}),j.jsx("div",{className:c("stylex")(k.nameDivider)})]}),f?j.jsx("span",{className:c("stylex")(k.container),children:j.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__U217aVJMGxG__JHASH__"),color:"primary",icon:d("fbicon")._(i("785426"),12)})}):null]}),l!=null&&j.jsxs("div",{className:c("stylex")(k.subText),children:[j.jsx("div",{className:c("stylex")(k.textDivider)}),j.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta3",children:l})]})]}),j.jsx("div",{children:o})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.rawData;switch(d.type){case"MENTION_TYPE_SELECTION":return h.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:b},a));case"MENTION_TYPE_RESET":return h.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:b},a));default:return h.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:b},a))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMentions.react",["cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useImperativeHandle,l=b.useRef,m=b.useState;function a(a,b){var e=a.context,f=a.dataSource,g=a.editorHasFocus,o=a.layoutStrategyRenderer,p=a.loggingProvider,q=a.onAriaChange,r=a.onEntriesUpdated,s=a.onHighlightEntry,t=a.onSelectedEntry,u=a.onVisibilityChange,v=a.position;v=v===void 0?"above":v;var w=a.queryString,x=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","editorHasFocus","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"]);var y=m([]),z=y[0],A=y[1];y=m(null);var B=y[0],C=y[1],D=l(null),E=l(w),F=l(z);j(function(){F.current=z,E.current=w},[z,w]);j(function(){return function(){p.isSessionActive()&&p.maybeEndSession(E.current,F.current)}},[]);var G=i(function(a){s&&s(a),C(a)},[s]);k(b,function(){return{getViewRef:function(){return D},hasSelection:function(){return n(z,B)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(z,B!=null?B.key:null,G)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(z,B!=null?B.key:null,G)},select:function(){t&&B!=null&&n(z,B)&&(p.isSessionActive()&&p.maybeEndSession(w,z,B),t(B))}}},[z,B,G,t,p,w]);y=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:i(function(a){a=a.entries;A(a);r&&r(a.length>0)},[r])});y[0];var H=y[1];j(function(){H({query:w})},[H,w,f]);b=i(function(a){t&&n(z,a)&&(p.isSessionActive()&&p.maybeEndSession(w,z,a),t(a))},[t,z,p,w]);j(function(){!n(z,B)&&z.length>0&&G(z[0])},[B,G,z]);var I=l(!1);y=i(function(a){var b=I.current;b!==a&&(I.current=a,u(a),a?p.startSession(w):p.isSessionActive()&&p.maybeEndSession(w,z))},[z,u,p,w]);if(!g||z.length===0){y(!1);return null}y(!0);return h.jsx(o,{ariaProps:{role:"listbox"},context:e,entries:z,highlightedEntry:B,isLoading:!1,onAriaChange:q,onBlur:a.onBlur,onFocus:a.onFocus,onHighlightEntry:G,onPressEntry:b,onPressEntryIn:b,position:v,queryString:w,viewRef:D,viewStrategyRenderer:x})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}e=h.forwardRef(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mlcFocusSubscription",["Lexical","LexicalUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){return{initialValueFn:function(){return a.getRootElement()===document.activeElement},subscribe:function(b){return d("LexicalUtils").mergeRegister(a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b(!0);return!1},d("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(d("Lexical").BLUR_COMMAND,function(){b(!1);return!1},d("Lexical").COMMAND_PRIORITY_LOW))}}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){var c=i(!1);h(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("445");c=b("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("446");c=b("FalcoLoggerInternal").create("mentions_session_start",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("447");c=b("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","guid","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d){if(a==null)return;var e=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,f=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:a});if(d!=null){var g=d.key,h=(e=b==null?void 0:b.findIndex(function(a){return a.key===g}))!=null?e:null;c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},f,{selected_position:String(h),selected_result_display_text:d.label,selected_result_id:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return f});this.$3=null;this.$2=!1};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){a===void 0&&(a=i);return h(function(){return new(c("CometMentionsLoggingProvider"))(a)},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useEffect,j=b.useState;function k(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b){var d=j(null),e=d[0],f=d[1];i(function(){var d=document.createRange(),e=null,g=null,i=null,j=function(){var j=d,l=c("getCometComposerMentionsSearchForLexical")(a);if(l===e||j===null)return;e=l;l=b(l);var m=l.dataSource,n=l.searchResult;if(m===g&&n===i)return;l=k(n,j);g=m;i=n;!l||m===null||n===null?h(function(){return f(null)}):h(function(){f({dataSource:m,range:j,searchResult:n})})},l=a.registerUpdateListener(j);j();return function(){d=null,l()}},[b,a]);return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","mlcFocusSubscription","react","recoverableViolation","useCometLexicalSubscription","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.createNodeStrategy,e=a.dataSourceResolverConfig,f=e.bootstrap,g=e.resolver,m=a.editor;e=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.position;r=r===void 0?"below":r;a=a.viewStrategyRenderer;var s=c("useCometMentionsResolutionForLexical")(m,g),t=l(!1),u=n(m),v=u[0],w=u[1],x=l(null),y=q(m);u=k(function(){return c("mlcFocusSubscription")(m)},[m]);u=c("useCometLexicalSubscription")(u);c("useCometMentionsBootstrapForLexical")(m,f);j(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){y();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,y]);f=i(function(){y()},[y]);j(function(){var a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:d("Lexical").KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:d("Lexical").KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:d("Lexical").KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:d("Lexical").KEY_ARROW_DOWN_COMMAND},{handler:function(){y();w();return!0},type:d("Lexical").KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=x.current,d=t.current;if(c===null||!d||v)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[w,m,y,v]);var z=i(function(a){t.current=a},[]),A=i(function(a){if(a)return;y()},[y]),B=i(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var e=g(d);e=e.searchResult;if(e==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}y();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;d=p(m,b,a,e);if(d===null)return},[b,g,m,y,o]),C=c("useCometMentionsLoggingProvider")();if(s===null||v){y();t.current=!1;return null}return h.jsx(c("CometMentions.react"),{context:s.range,dataSource:s.dataSource,editorHasFocus:u,layoutStrategyRenderer:e,loggingProvider:C,onAriaChange:y,onBlur:f,onEntriesUpdated:A,onFocus:c("emptyFunction"),onSelectedEntry:B,onVisibilityChange:z,position:r,queryString:s.searchResult.matchingString,ref:x,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=m(!1),c=b[0],e=b[1];j(function(){if(c){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&e(!1),b=a})}},[a,c]);return k(function(){return[c,function(){return e(!0)}]},[c])}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var f=a.getNode();if(!f.isSimpleText())return;a=a.offset;var g=f.getTextContent().slice(0,a),h=c.label,i=e.replaceableString.length;g=o(g,h,i);h=a-g;if(h<0)return;b({anchorNode:f,endOffset:a,selectedEntry:c,startOffset:h})})}function q(a){var b=l(void 0),c=l(void 0);return i(function(e,f){var g=b.current,h=c.current;(g!==e||h!==f)&&(b.current=e,c.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:e,controlsID:f}))},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}b=a({id:f.key,text:(d=f.handle)!=null?d:f.label,type:"Actor"});g.replace(b);b.selectNext(0,0)}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy"],function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["fbt","TetraText.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"jcxyg2ei jvc6uz2b alzwoclg i85zmo3j",children:i.jsx(c("TetraText.react"),{color:"tertiary",type:"body2",children:h._("__JHASH__OS47R71wjM1__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["react","useCometTypeaheadLayoutContextualStrategyARIAProps"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.entries,d=a.highlightedEntry,e=a.onAriaChange;a=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:b,helperText:"",highlightedEntry:d,inputLabel:"",isOpened:!0,viewRole:"listbox"});var f=a.ariaInputProps;b=a.ariaViewProps;h(function(){return e(f["aria-activedescendant"],f["aria-controls"])},[f,e]);return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","useBaseMentionsLayoutStrategyARIAProps.react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isLoading,d=a.onAriaChange,e=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","onAriaChange","viewStrategyRenderer"]);d=c("useBaseMentionsLayoutStrategyARIAProps.react")({entries:a.entries,highlightedEntry:a.highlightedEntry,onAriaChange:d});return h.jsxs("div",{children:[h.jsx(e,babelHelpers["extends"]({},a,{ariaProps:d,isLoading:!1})),!b&&a.entries.length===0?h.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMentionsLayoutStrategy.react",["CometContextualLayer.react","CometPopover.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaProps,d=a.context,e=a.onBlur,f=a.onFocus,g=a.position,i=a.viewRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","context","onBlur","onFocus","position","viewRef"]);return h.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:d,position:g,children:h.jsx(c("CometPopover.react"),{onBlur:e,onFocus:f,ref:i,children:h.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:b,isLoading:!1},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getCampaignRegex",[],function(a,b,c,d,e,f){"use strict";b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var g="(^|$|[^"+b+"])",h={};function a(a){var b=a.id;if(b in h)return h[b];h[b]=new RegExp(g+"("+a.keywords.join("|").replace(/\\x{([A-Za-z0-9]+)}/g,function(a,b){return String.fromCharCode(parseInt(b,16))})+")"+g,"i");return h[b]}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UpgradedCometDelightsPluginForLexical",["CometLexicalDelightNode","CometPlaceholder.react","CometRelay","CometTextDelightAnimation.entrypoint","CometTextDelightConfig","FBLogger","Lexical","ReactDOMComet","getCampaignRegex","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useState;function m(a){return/[\s\d\[\],\\\/!$%\^&\*;:{}=\-`~()]/.test(a)}function n(a){var b=d("Lexical").$createTextNode(a.getTextContent());a.replace(b)}function o(a){return p(a)&&q(a)}function p(a){a=a.getPreviousSibling();if(a===null||d("Lexical").$isLineBreakNode(a))return!0;if(d("Lexical").$isTextNode(a)&&a.isSimpleText()){a=a.getTextContent();if(m(a[a.length-1]))return!0}return!1}function q(a){a=a.getNextSibling();if(a===null||d("Lexical").$isLineBreakNode(a))return!0;if(d("Lexical").$isTextNode(a)&&a.isSimpleText()){a=a.getTextContent();if(m(a[0]))return!0}return!1}function r(a){var b=a.getTextContent(),e=a.getNextSibling(),f=a.getPreviousSibling();d("CometLexicalDelightNode").$isLexicalDelightNode(f)&&(!o(f)&&!m(b[0])&&n(f));d("CometLexicalDelightNode").$isLexicalDelightNode(e)&&(!o(e)&&!m(b[b.length-1])&&n(e));f=a;e=void 0;a=0;for(var g in c("CometTextDelightConfig").campaigns){var h=c("CometTextDelightConfig").campaigns[g];h.id==="475898886474907"&&(h.keywords=["\\b(?:gg+)(?:s?\\b|z?\\b)"]);var i=c("getCampaignRegex")(h),j=h.id,k=h.styles;j=c("CometTextDelightConfig").campaigns[j].delight_asset;if(j==null)continue;var l,p=0;while((l=i.exec(b.substr(a)))!==null){if(l===null)break;var q=l[1],r=l[3];p+=l.index+q.length;l=p+l[2].length;a+=l;if(q.length>0&&!m(q)||r.length>0&&!m(r)){p=a;continue}if(q===""){q=f.getPreviousSibling();if(q!=null&&!d("Lexical").$isLineBreakNode(q)){p=a;continue}}if(r===""){q=f.getNextSibling();if(q!=null&&!d("Lexical").$isLineBreakNode(q)){p=a;continue}}r=f.splitText(p,l);p===0?(e=r[0],f=r[1]):(e=r[1],f=r[2]);p=0;q=e.getTextContent();l=d("CometLexicalDelightNode").$createLexicalDelightNode(q,k,h.id,j);e.replace(l);e=l}}r=d("Lexical").$getSelection();d("Lexical").$isRangeSelection(r)&&(!r.anchor.getNode().isAttached()||!r.focus.getNode().isAttached())&&(e!==void 0?e.selectNext(0,0):f!==void 0&&f.select(0,0))}function s(a){var b=a.getPreviousSibling(),e=a.getNextSibling();if(b!=null){var f=b.getTextContent();if(!m(f[f.length-1])&&!d("Lexical").$isLineBreakNode(b)){n(a);return}}if(e!=null){f=e.getTextContent();if(!m(f[0])&&!d("Lexical").$isLineBreakNode(e)){n(a);return}}b=c("CometTextDelightConfig").campaigns[a.__campaignID];f=c("getCampaignRegex")(b);e=f.exec(a.getTextContent());if(e==null){n(a);return}b=e[1];f=e[3];(b.length>0||f.length>0)&&n(a)}function a(a){var b=a.editor,e=d("CometRelay").useRelayEnvironment();a=k(function(){return{getEnvironment:function(){return e}}},[e]);a=d("CometRelay").useEntryPointLoader(a,c("CometTextDelightAnimation.entrypoint"));var f=a[0],g=a[1];a=l(!1);var m=a[0],n=a[1];j(function(){b.hasNodes([d("CometLexicalDelightNode").CometLexicalDelightNode])||c("FBLogger")("Lexical").mustfix("UpgradedCometDelightsPluginForLexical: CometLexicalDelightNode missing");var a=b.registerNodeTransform(d("Lexical").TextNode,r),e=b.registerNodeTransform(d("CometLexicalDelightNode").CometLexicalDelightNode,s);return function(){a(),e()}},[b]);var o=i(function(a){a=a.target;var b=a instanceof Element?a.getAttribute("data-delight-asset"):null;b!=null&&!m&&d("ReactDOMComet").unstable_batchedUpdates(function(){g({id:b}),n(!0)})},[m,g]);j(function(){return b.registerRootListener(function(a,b){b!==null&&b.removeEventListener("click",o),a!==null&&a.addEventListener("click",o)})},[o,b]);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:m&&f!=null&&h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:f,props:{onRepeatEnd:function(){n(!1)}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getHashtagRegexStringChars",[],function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LexicalComposerContext",["cr:509"],function(a,b,c,d,e,f){e.exports=b("cr:509")},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MLCHealthLoggerEvent",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface",COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit"});c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2646");c=b("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2647");c=b("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2648");c=b("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2649");c=b("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2650");c=b("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2651");c=b("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["FBLogger","Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect,i=new Set();function j(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");default:a}throw c("FBLogger")("lexical").mustfixThrow("Policy product not handled by exhaustive switch-case?")}function k(a,b,c){j(a).log(function(){return{event:c,surface:b}})}function a(a){var b=a.editor__DEPRECATED,c=a.policyProduct,e=a.surface,f;if(b)f=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();f=a[0]}h(function(){var a=function(){};i.has(e)||(a=f.registerUpdateListener(function(b){var d=b.dirtyLeaves;b=b.tags;if(i.has(e)){a();return}if(d.size===0||b.has("history-merge")||!f.isEditable())return;i.add(e);k(c,e,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,f.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?k(c,e,"commit_create"):k(c,e,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[f,c,e]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:3286")&&h.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","cr:2012305","cr:308","cr:3287","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useLayoutEffect,j=b("cr:2012305")||b("cr:308");function a(a){if(j===null)return null;b("cr:3287")&&b("cr:3287")();return h.jsx(k,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.editor__DEPRECATED,c=a.format__DEPRECATED,e=a.surface,f;if(b)f=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();f=a[0]}i(function(){if(j===null)return;var a=null,b=f.registerRootListener(function(b){if(b===a)return;a!==null&&j.unregisterTypingPerf(a);if(b!==null){var d;j.trackTypingPerf(b,e,a,{editor:"LexicalEditor",format:(d=c)!=null?d:""})}a=b});return function(){b(),a!==null&&j.unregisterTypingPerf(a)}},[f,c,e]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b="facebook";b;function a(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),h.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),h.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return function(a){a=a.pluginProps.editor;var b=c("useFeedComposerCometMentionsDataSourceResolverConfig")({limit:5,shouldBootstrapOnLayoutEffect:!1}),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:d})}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var b=a.className;a=a.sticker;var c=a.sticker_type==="AVATAR",e=a.sprite_image,f=c?a.larger_sticker_image:a.sticker_image;if(f==null)return null;c=c?120:80;c=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:c,maxWidth:c,srcHeight:f.height||c,srcWidth:f.width||c});var g=c.height;c=c.width;var h=i.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:c+"px "+g+"px",height:g,width:c}});return i.jsx(i.Suspense,{fallback:h,children:i.jsx(j,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:b,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)==null?void 0:h.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:c,spriteURI:e==null?void 0:e.uri})})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="UFI2CommentSticker";e=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(a,{sticker:h!==void 0?h:h=b("UFI2CommentSticker_sticker.graphql")});g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @noflow
* @nolint
* @preventMunge
* @preserve-invariant-messages
* @generated
* @preserve-whitespace
* @fullSyntaxTransform
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var c=c_react||(c_react=require("react"));var d=c.createContext(null);exports.LexicalComposerContext=d;exports.createLexicalComposerContext=function(a,e){var b=null;null!=a&&(b=a[1]);return{getTheme:function getTheme(){return null!=e?e:null!=b?b.getTheme():null;}};};
exports.useLexicalComposerContext=function(){var a=c.useContext(d);if(null==a)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return a;};}),null,typeof self!=="undefined"&&self.document&&self.document.currentScript);