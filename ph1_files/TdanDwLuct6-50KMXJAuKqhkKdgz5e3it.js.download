if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerNextMediaFetcher_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"useCometNoCursorMediaSetViewerNextMediaURL_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"useCometNoCursorMediaSetViewerPrevMediaURL_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerLayout_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_mediaset",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometNoCursorMediaSetViewerNextMediaFetcher_mediaset"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset"}]}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometPhotoViewer_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useHScroll"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_mediaset",selections:[{condition:"useHScroll",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerStageNew_mediaset"}]}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_photo",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:"user_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"additional_profile_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:"page_shop_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{kind:"InlineDataFragmentSpread",name:"FBShopsLegacyUpgradeProductTaggingUtils_page",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_shop_upgrade_admin_and_page_eligibility",storageKey:null}],args:null,argumentDefinitions:[]}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:b,storageKey:null},{alias:null,args:[{kind:"Variable",name:"glb_file_uri_hack_to_render_as_3D_DO_NOT_USE",variableName:"glbFileURIHackToRenderAs3D_DO_NOT_USE"},{kind:"Literal",name:"supported",value:["XFBCometImmersive360PhotoRenderer","XFBCometImmersive3DPhotoRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_photo_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo_photo_renderer",fragmentName:"CometRemote360PhotoViewerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometImmersive360PhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo_photo_renderer",fragmentName:"CometRemote3DPhotoViewerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometImmersive3DPhotoRenderer",abstractKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];a=[{alias:"nextMediaAfterNodeId",args:[{kind:"Variable",name:"media_id",variableName:"nodeID"}],concreteType:null,kind:"LinkedField",name:"media_after",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCometMediaURL_media"}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"nodeID"}],kind:"Fragment",metadata:null,name:"useCometNoCursorMediaSetViewerNextMediaURL_mediaset",selections:[{kind:"InlineFragment",selections:a,type:"GenericMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfFamilyMemberMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaUploadedByUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaAttachmentMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedInAlbumMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaContainerMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ProfileFrameMediaSet",abstractKey:null}],type:"MediaSet",abstractKey:"__isMediaSet"}}();e.exports=a}),null);
__d("useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];a=[{alias:"prevMediaBeforeNodeId",args:[{kind:"Variable",name:"media_id",variableName:"nodeID"}],concreteType:null,kind:"LinkedField",name:"media_before",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCometMediaURL_media"}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"nodeID"}],kind:"Fragment",metadata:null,name:"useCometNoCursorMediaSetViewerPrevMediaURL_mediaset",selections:[{kind:"InlineFragment",selections:a,type:"GenericMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfFamilyMemberMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaUploadedByUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaAttachmentMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedInAlbumMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaContainerMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ProfileFrameMediaSet",abstractKey:null}],type:"MediaSet",abstractKey:"__isMediaSet"}}();e.exports=a}),null);
__d("useCastMediaIfCastSessionActive_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCastMediaIfCastSessionActive_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerLayout_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerLayout_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewer_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerLayout_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerLayout_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewer_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometMediaViewerVideoPlayerSurface_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerVideoPlayerSurface_data",selections:[a,{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlay_data"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("CometMediaViewer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"framework",value:"WARNING_SCREENS"},b=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE"}],kind:"Fragment",metadata:null,name:"CometMediaViewer_media",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{args:[{kind:"Variable",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE",variableName:"glbFileURIHackToRenderAs3D_DO_NOT_USE"}],kind:"FragmentSpread",name:"CometPhotoViewer_photo"}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{args:null,kind:"FragmentSpread",name:"CometMediaViewerVideoPlayerSurface_data"},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_pay_to_access_paywall",plural:!1,selections:[{args:null,documentName:"CometMediaViewer_media",fragmentName:"CometPayToAccessPaywallConditionalLoader_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCastMediaIfCastSessionActive_media"}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewer_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewer_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoViewer_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapperComposerQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4668687423235848"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql",["CometMediaViewerContextSectionActionWrapperComposerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nodeID"}],c=[{kind:"Variable",name:"id",variableName:"nodeID"}],d={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},e=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_textWithEntities"}],storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[g];h=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[f,{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:h,type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:h,type:"Hashtag",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d,{kind:"InlineFragment",selections:e,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,{kind:"InlineFragment",selections:[d,{kind:"InlineFragment",selections:h,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"},g],storageKey:null}]},params:{id:b("CometMediaViewerContextSectionActionWrapperComposerQuery_facebookRelayOperation"),metadata:{},name:"CometMediaViewerContextSectionActionWrapperComposerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSection_media"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_media"}]}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,concreteType:"BoostedComponent",kind:"LinkedField",name:"post_promotion_info",plural:!1,selections:[{args:null,documentName:"CometMediaViewerContextSectionActionWrapper_story",fragmentName:"LWICometStoryButton_postPromotionInfo",fragmentPropName:"postPromotionInfo",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_url",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerRightRail_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],d={alias:null,args:c,kind:"ScalarField",name:"can_viewer_react",storageKey:null},e={alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[b],storageKey:null},f={kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_feedback"}]};c={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,e,{alias:null,args:c,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},f],storageKey:null};var g={alias:null,args:null,concreteType:"XFBLinkToContainerStory",kind:"LinkedField",name:"if_media_can_show_link_to_container_story",plural:!1,selections:[{args:null,documentName:"CometMediaViewerRightRail_media_link",fragmentName:"CometMediaViewerLinkToContainerStory_link",fragmentPropName:"link",kind:"ModuleImport"}],storageKey:null},h={alias:null,args:null,concreteType:"CopyrightBannerInfo",kind:"LinkedField",name:"copyright_banner_info",plural:!1,selections:[{args:null,documentName:"CometMediaViewerRightRail_media_copyrightBannerInfo",fragmentName:"CometCopyrightBanner_copyrightBannerInfo",fragmentPropName:"copyrightBannerInfo",kind:"ModuleImport"}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_media",selections:[a,{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_media"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_shareable"}]},{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_tagReview"}]},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_quilt_cap_contribution_container_comment",storageKey:null},c,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[c],storageKey:null}],storageKey:null},c,g,h],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,e,f],storageKey:null},g,h],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerRightRail_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_story",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometPhotoViewerAIProductTagSuggestions.react",["CometPhotoViewerViewStateDispatcherContext","CometRelay","SharedAIProductTagUtils","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var b=a.aiSuggestionsQuery,e=a.photoID;a=a.queryReference;var f=h(c("CometPhotoViewerViewStateDispatcherContext"));b=d("CometRelay").usePreloadedQuery(b,a);a=d("SharedAIProductTagUtils").processAIProductTagSuggestionsQueryResponse(b);b=a.get(e);if(!b)return null;f({knownAITags:b.knownSuggestions,photoID:e,type:"SET_KNOWN_AI_TAGS"});f({photoID:e,type:"SET_UNKNOWN_AI_TAGS",unknownAITags:b.unknownSuggestions});return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerAIProductTagSuggestionTrigger.react",["CometAIProductTagSuggestionsQuery.react","CometPhotoViewerAIProductTagSuggestions.react","CometPhotoViewerViewStateContext","CometRelay","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.photoID;a=i(c("CometPhotoViewerViewStateContext"));var e=d("CometRelay").useQueryLoader(c("CometAIProductTagSuggestionsQuery.react")),f=e[0],g=e[1];j(function(){g({max_suggestions_per_photo:1,media_ids:[b]})},[g,b]);return b!=null&&!((e=a.knownAITags)==null?void 0:e.has(b))&&!((e=a.unknownAITags)==null?void 0:e.has(b))&&f!=null?h.jsx(c("CometPhotoViewerAIProductTagSuggestions.react"),{aiSuggestionsQuery:c("CometAIProductTagSuggestionsQuery.react"),photoID:b,queryReference:f}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerStage.react",["cr:3346","react"],function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:3346")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerAIProductTagReducer",["addToMap"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"SET_KNOWN_AI_TAGS":var d;return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,b.knownAITags)});case"SET_UNKNOWN_AI_TAGS":return babelHelpers["extends"]({},a,{unknownAITags:c("addToMap")((d=a.unknownAITags)!=null?d:new Map(),b.photoID,b.unknownAITags)});case"SET_IS_PRODUCT_TAGGING":return babelHelpers["extends"]({},a,{isProductTagging:b.isProductTagging});case"SET_TAG_MODE_ENABLED":return babelHelpers["extends"]({},a,{tagModeEnabled:b.tagModeEnabled});case"SET_HOVER_FOR_KNOWN_TAG":return babelHelpers["extends"]({},a,{highlightedKnownAITagID:b.hovering?b.id:null});case"REMOVE_KNOWN_AI_TAG":return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,(d=a.knownAITags)==null?void 0:(d=d.get(b.photoID))==null?void 0:d.filter(function(a){return a.productID!==b.productID}))});case"UPDATE_TAG_DATA":return babelHelpers["extends"]({},a,{isProductTagging:b.tagData.isProductTagging,tagModeEnabled:b.tagData.tagModeEnabled})}return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerDispatcherContext",["emptyFunction","react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("emptyFunction"));g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerViewStateContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerZoomUtils",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){return c[0]===0||c[1]===0?!1:c[1]<a.clientHeight*b||c[0]<a.clientWidth*b}f.isOverflown=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerZoom.react",["CometMediaViewerDispatcherContext","CometMediaViewerViewStateContext","CometPhotoViewerContainerContext","CometPhotoViewerZoomUtils","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useRef;function a(a){a=a.children;var b=j(c("CometMediaViewerViewStateContext")),e=j(c("CometMediaViewerDispatcherContext")),f=j(c("CometPhotoViewerContainerContext")),g=k(null),l=i(function(){if(f!=null&&f.current!=null){var a=f.current.getBoundingClientRect();return{height:a.height,left:a.left,top:a.top,width:a.width}}return null},[f]),m=i(function(a){var b;b=(b=g.current)==null?void 0:b.getBoundingClientRect();var c=l();b&&c&&e({clientX:a.clientX,clientY:a.clientY,currentRectCoord:[b.top,b.left],currentRectSize:[b.width,b.height],height:c.height,type:"DRAG",width:c.width})},[e,l]),n=i(function(){window.removeEventListener("mouseup",n),window.removeEventListener("mousemove",m)},[m]),o=i(function(a){if(b.scale<=1)return;var c=l();if(g&&g.current&&c&&!d("CometPhotoViewerZoomUtils").isOverflown(g.current,b.scale,[c.width,c.height]))return;a.preventDefault();e({clientX:a.clientX,clientY:a.clientY,type:"DRAG_START"});window.addEventListener("mouseup",n);window.addEventListener("mousemove",m)},[e,l,m,n,b.scale]);return h.jsx("div",{onMouseDown:o,children:h.jsx("div",{className:b.prevScale!==b.scale?"qywhb3ih iwr3bmeu pgra2bgq":"",ref:g,style:{transform:"translate("+b.translateX+"px, "+b.translateY+"px) scale("+b.scale+")"},children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerResponsiveInnerWrapper.react",["CometPhotoViewerZoom.react","CometRouteRenderType","gkx","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={backgroundContainerDialog:{"@media (max-width: 899px)":{height:"ac5tu73e"}},backgroundContainerDialogWithFooter:{height:"khxiaj5m","@media (max-width: 899px)":{height:"akpglm0w"}},backgroundContainerResponsive:{alignItems:"i85zmo3j",display:"alzwoclg",position:"om3e55n1","@media (max-width: 899px)":{height:"l4a8l1zh"}},backgroundContainerTabs:{height:"iff1jeng","@media (max-width: 899px)":{height:"ar8wkbap"}},backgroundContainerTabsWithFooter:{height:"p908mtyv","@media (max-width: 899px)":{height:"fd7x6mn6"}},ie11minHeight:{minHeight:"n2rq6d93"},ie11PhotoWrapperWidth:{width:"mfclru0v"},image:{maxWidth:"gvxzyvdx","@media (max-width: 899px)":{maxHeight:"b84q63wn"}},maxImageHeightDialog:{maxHeight:"d65gybhy","@media (max-width: 899px)":{maxHeight:"nz8hcybm"}},maxImageHeightDialogWithFooter:{maxHeight:"h4l9mpx0","@media (max-width: 899px)":{maxHeight:"oxp5sod2"}},maxImageHeightTabs:{maxHeight:"q6bb8s6s","@media (max-width: 899px)":{maxHeight:"nz8hcybm"}},maxImageHeightTabsWithFooter:{maxHeight:"gkp04pwp","@media (max-width: 899px)":{maxHeight:"bktbgpn3"}},passthroughImage:{backgroundPosition:"thixwtv8",backgroundRepeat:"tt3ens6q",backgroundSize:"bgnsn47k",height:"pytsy3co",width:"mfclru0v"},photoWrapperPlaceholder:{height:"pytsy3co",width:"mfclru0v"},photoWrapperResponsive:{alignItems:"i85zmo3j",display:"alzwoclg",flexDirection:"cqf1kptm",justifyContent:"jcxyg2ei",position:"om3e55n1"},placeholderContainer:{height:"pytsy3co",width:"mfclru0v"}};function j(a,b){a===void 0&&(a=!1);b===void 0&&(b=!1);var e=d("CometRouteRenderType").useIsPushView();return c("stylex")(i.backgroundContainerResponsive,!a&&e&&i.backgroundContainerDialog,!a&&!e&&i.backgroundContainerTabs,a&&e&&i.backgroundContainerDialogWithFooter,a&&!e&&i.backgroundContainerTabsWithFooter,b&&i.placeholderContainer)}function k(a,b){var e=d("CometRouteRenderType").useIsPushView();return c("stylex")(!a&&e&&i.maxImageHeightDialog,!a&&!e&&i.maxImageHeightTabs,a&&e&&i.maxImageHeightDialogWithFooter,a&&!e&&i.maxImageHeightTabsWithFooter,b&&i.passthroughImage,!b&&i.image,c("gkx")("1299319")&&i.ie11minHeight)}function l(a,b){var e=d("CometRouteRenderType").useIsPushView();return[!a&&e&&i.maxImageHeightDialog,!a&&!e&&i.maxImageHeightTabs,a&&e&&i.maxImageHeightDialogWithFooter,a&&!e&&i.maxImageHeightTabsWithFooter,b&&i.passthroughImage,!b&&i.image,c("gkx")("1299319")&&i.ie11minHeight]}function a(a,b){var d=a.height,e=a.imageUri,f=a.showPlaceholderImage;f=f===void 0?!0:f;var g=a.width;a=a.withFooter;a=a===void 0?!1:a;a=k(a,!0);var l=j(!1,!0);return h.jsx("div",{className:l,ref:(l=b)!=null?l:null,children:e!=null&&f&&h.jsx("div",{className:c("stylex")(i.photoWrapperResponsive,i.photoWrapperPlaceholder),children:h.jsx("div",{className:a,style:d!=null&&g!=null?{backgroundImage:"url("+e+")",maxHeight:d,maxWidth:g}:{backgroundImage:"url("+e+")"}},e)})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=k(a,!1);a=l(a,!1);b=h.jsx("div",{className:c("stylex")(i.photoWrapperResponsive,c("gkx")("1299319")&&i.ie11PhotoWrapperWidth),ref:b,children:d!=null?d(f):e!=null?e(a):null});return h.jsx(c("CometPhotoViewerZoom.react"),{children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.forwardRef(b);f=h.forwardRef(a);g.useCometPhotoViewerContainerStyles=j;g.CometPhotoViewerImageWrapper=e;g.CometPhotoViewerPlaceholderWrapper=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoRoot.react",["CometFeedStoryClickLoggerImpl.react","CometMediaViewerStage.react","CometPageLayoutWithComplementaryContent.react","CometPhotoViewerAIProductTagReducer","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPlaceholder.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRouteParams","CometTrackingCodeContext","CometTrackingNodeProvider.react","HoveredProductIDContext","RelayUFI2CommentsKeyContext","StoryRenderLocation","cr:1689664","deferredLoadComponent","react","requireDeferredForDisplay","unrecoverableViolation","useCurrentRoute","useRoutePassthroughProps","validateAggregatedStoryTrackingNodeIndex","validateTrackingCode"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useReducer,k=e.useState,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometPhotoRootContent.react").__setRef("CometPhotoRoot.react"));function a(a){var e=d("CometRouteParams").useRouteParams(),f=c("useRoutePassthroughProps")(),g=c("validateTrackingCode")(f==null?void 0:f.trackingCode),m=(f==null?void 0:f.origSrc)!=null?String(f==null?void 0:f.origSrc):null,n=(f==null?void 0:f.origWidth)!=null?Number(f==null?void 0:f.origWidth):null,o=(f==null?void 0:f.origHeight)!=null?Number(f==null?void 0:f.origHeight):null,p=(f==null?void 0:f.origOverlayShown)!=null?Boolean(f==null?void 0:f.origOverlayShown):null,q=(f==null?void 0:f.productTagReferralCode)!=null?String(f==null?void 0:f.productTagReferralCode):null,r=(f==null?void 0:f.productTagFunnelID)!=null?String(f==null?void 0:f.productTagFunnelID):null,s=c("useCurrentRoute")();s=(s=s==null?void 0:s.transparent)!=null?s:!1;var t=k(null),u=t[0],v=t[1];t=i(function(){return{hoveredProductID:u,setHoveredProductID:v}},[u,v]);var w=j(function(a,b){a=a;var d=[c("CometPhotoViewerAIProductTagReducer")];for(var e=0;e<d.length;e++){var f=d[e];a=f(a,b)}return a},{highlightedKnownAITagID:null,isProductTagging:!1,knownAITags:null,tagModeEnabled:!1,unknownAITags:null}),x=w[0];w=w[1];var y=e==null?void 0:e.fbid;e=e==null?void 0:e.set;var z=c("validateAggregatedStoryTrackingNodeIndex")(f==null?void 0:f.index),A=f==null?void 0:f.storyRenderLocation,B=void 0;typeof A==="string"&&(B=c("StoryRenderLocation")[A.toUpperCase()]);A=Boolean(f==null?void 0:f.isUntagged);if(y==null||typeof y!=="string")throw c("unrecoverableViolation")("Invalid fbid parameter","comet_ui");if(e!=null&&typeof e!=="string")throw c("unrecoverableViolation")("Invalid set parameter","comet_ui");f=s?{backgroundColor:"dark"}:null;x=h.jsx(c("CometPhotoViewerViewStateContext").Provider,{value:x,children:h.jsx(c("CometPhotoViewerViewStateDispatcherContext").Provider,{value:w,children:h.jsx(c("HoveredProductIDContext").Provider,{value:t,children:h.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometPhotoRootQuery",children:h.jsx(c("CometTrackingNodeProvider.react"),{index:z,trackingNode:82,children:h.jsx(c("CometProductTagReferralCodeContext").Provider,{value:q,children:h.jsxs(c("CometProductTagFunnelIDContext").Provider,{value:r,children:[h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometPageLayoutWithComplementaryContent.react"),{hideContainerBackground:s,isRightRailFixed:!0,rightRail:h.jsx("div",{}),children:h.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({},f,{isUntagged:A,storyRenderLocation:B,useKeyCommands:!1,children:h.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:o,imageUri:m,showPlaceholderImage:m!=null&&n!=null&&o!=null&&p!==!0,width:n})}))}),children:h.jsx(l,babelHelpers["extends"]({hideContainerBackground:s,isUntagged:A,mediasetToken:e,origHeight:o,origOverlayShown:p,origSrc:m,origWidth:n,photoID:y,storyRenderLocation:B},a.queries))}),b("cr:1689664")&&a.queries.loggedOutCTAfooterDataQueryReference&&h.jsx(b("cr:1689664"),{footerDataQueryReference:a.queries.loggedOutCTAfooterDataQueryReference})]})})})})})})});if(g)return h.jsx(c("CometTrackingCodeContext").Provider,{value:g,children:h.jsx(c("CometFeedStoryClickLoggerImpl.react"),{children:x})});else return x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker",[],function(a,b,c,d,e,f){"use strict";a=typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():Object.freeze({});f.INDETERMINATE_ADJOINING_MEDIA_URL=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometNoCursorMediaSetViewerNextMediaURL",["CometRelay","useCometMediaURL","useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql"),a);a=a==null?void 0:a.nextMediaAfterNodeId;var f=a==null?void 0:a.id;a=c("useCometMediaURL")(a,e);return[f,a]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometNoCursorMediaSetViewerNextMediaFetcher.react",["CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql","CometRelay","react","useCometNoCursorMediaSetViewerNextMediaURL"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=a.mediaset,f=a.mediasetToken,g=a.onMediaObtained;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql"),e);e=c("useCometNoCursorMediaSetViewerNextMediaURL")(a,f);var j=e[0],k=e[1];i(function(){g(j,k)},[j,k,g]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometNoCursorMediaSetViewerPrevMediaURL",["CometRelay","useCometMediaURL","useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql"),a);a=a==null?void 0:a.prevMediaBeforeNodeId;var f=a==null?void 0:a.id;a=c("useCometMediaURL")(a,e);return[f,a]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometNoCursorMediaSetViewerPrevMediaFetcher.react",["CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql","CometRelay","react","useCometNoCursorMediaSetViewerPrevMediaURL"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=a.mediaset,f=a.mediasetToken,g=a.onMediaObtained;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql"),e);e=c("useCometNoCursorMediaSetViewerPrevMediaURL")(a,f);var j=e[0],k=e[1];i(function(){g(j,k)},[j,k,g]);return null}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerReducer",["clamp"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"SET_IS_HOVERED":return babelHelpers["extends"]({},a,{isHovered:b.isHovered});case"SET_ZOOM":return babelHelpers["extends"]({},a,{prevScale:a.scale,scale:c("clamp")(a.scale*b.zoomFactor,1,2),translateX:b.zoomFactor<1?0:a.translateX,translateY:b.zoomFactor<1?0:a.translateY});case"DRAG_START":return babelHelpers["extends"]({},a,{prevMouseX:b.clientX,prevMouseY:b.clientY,prevScale:a.scale});case"DRAG":var d=b.clientX-a.prevMouseX,e=b.clientY-a.prevMouseY,f=Math.abs(b.currentRectSize[0]-b.width)/2,g=Math.abs(b.currentRectSize[1]-b.height)/2;b.currentRectSize[0]<b.width&&(d=0);b.currentRectSize[1]<b.height&&(e=0);d=d<0?Math.max(a.translateX+d,-f):Math.min(a.translateX+d,f);f=e<0?Math.max(a.translateY+e,-g):Math.min(a.translateY+e,g);return babelHelpers["extends"]({},a,{prevMouseX:b.clientX,prevMouseY:b.clientY,translateX:d,translateY:f})}return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("VideoPlayerWithUnmutedPlay.react",["VideoPlayerHooks","react","usePrevious"],function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useEffect,i=b.useRef;function a(){var a=d("VideoPlayerHooks").useController(),b=i(!1),e=d("VideoPlayerHooks").usePaused(),f=c("usePrevious")(e);h(function(){f===!0&&e===!1&&!b.current&&(a.setMuted(!1,"product_initiated"),b.current=!0)},[a,e,f]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerVideoPlayerSurface.react",["CometMediaViewerVideoPlayerSurface_data.graphql","CometRelay","CometWarningScreenOverlay.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerSurface.react","VideoPlayerWithUnmutedPlay.react","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e,f,g,j=d("VideoPlayerHooks").useIsFullscreen();a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewerVideoPlayerSurface_data.graphql"),a.data);e=a==null?void 0:(e=a.cix_screen)==null?void 0:e.view_model;f=a==null?void 0:(f=a.container_story)==null?void 0:f.id;g=(a==null?void 0:(g=a.preferred_thumbnail)==null?void 0:(g=g.image)==null?void 0:g.uri)!=null?a==null?void 0:(g=a.preferred_thumbnail)==null?void 0:(a=g.image)==null?void 0:a.uri:"#";return i.jsxs(c("VideoPlayerSurface.react"),{children:[i.jsx(c("VideoPlayerDefaultControls.react"),{}),e!=null&&f!=null&&!j&&i.jsx(c("CometWarningScreenOverlay.react"),{alwaysShowDetails:!0,data:e,isFullScreenMediaPlayerStyle:!0,mediaUri:g,surface:"fullscreen_video_player"}),i.jsx(c("VideoPlayerWithUnmutedPlay.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerImgRenderer.react",["CometHeroHoldTrigger.react","CometImage.react","react","useStable"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useState,k={img:{objectFit:"lxj2zdis"}};function l(a){var b=a.alt,d=a.currentImgSrc,e=a.height,f=a.origSrc,g=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","currentImgSrc","height","origSrc","xstyle"]);var l=c("useStable")(function(){var a=new Image();a.src=d;return a}),m=j(l.complete),n=m[0],o=m[1];m=j(!1);var p=m[0],q=m[1];i(function(){if(l.complete)o(!0);else{l.onload=function(){o(!0)};l.onerror=function(){q(!0)};return function(){l.onload=null,l.onerror=null}}},[l,o,q]);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"Progressive Image",hold:!n&&!p&&f!=null}),h.jsx(c("CometImage.react"),babelHelpers["extends"]({},a,{alt:b,height:n||f==null?void 0:e,src:n||f==null?d:f,testid:void 0,xstyle:[g,k.img]}))]})}function a(a){return h.jsx(l,babelHelpers["extends"]({},a),a.currentImgSrc)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("NumAiSuggestionsBubbleImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746400");c=b("FalcoLoggerInternal").create("num_ai_suggestions_bubble_impression",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ProductTagPhotoViewerDoneClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744225");c=b("FalcoLoggerInternal").create("product_tag_photo_viewer_done_click",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewer.react",["fbt","Actor","CometAIProductTagSuggestionsUtil.react","CometHero.react","CometImage.react","CometMediaViewerStage.react","CometPagelet.react","CometPhotoTaggingConstants","CometPhotoViewerContainerContext","CometPhotoViewerImgRenderer.react","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPhotoViewer_mediaset.graphql","CometPhotoViewer_photo.graphql","CometPlaceholder.react","CometRelay","CometRouteParams","CometRouteRenderType","CometTheme.react","CometVisualCompletionAttributes","CometWarningScreenContext","FBShopsLegacyUpgradeProductTaggingUtils","JSResourceForInteraction","NumAiSuggestionsBubbleImpressionFalcoEvent","ProductTagPhotoViewerDoneClickFalcoEvent","TetraButton.react","TetraText.react","WebSession","deferredLoadComponent","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useCometLazyDialog","useCurrentRoute","useMediaViewerVPVDLogger","useMergeRefs","useRoutePassthroughProps","useStoryViewabilityLogger"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var aa=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useRef,ba=c("requireDeferred")("CometMediaTagFalcoEvent").__setRef("CometPhotoViewer.react");e=c("requireDeferred")("CometPhotoTagLayer.react").__setRef("CometPhotoViewer.react");var p=c("requireDeferredForDisplay")("CometPhotoViewerTopRightIcons.react").__setRef("CometPhotoViewer.react"),ca=c("JSResourceForInteraction")("CometPhotoViewerProductTagEducationDialog.react").__setRef("CometPhotoViewer.react"),da=c("deferredLoadComponent")(e),ea=c("deferredLoadComponent")(p),q={container:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",position:"om3e55n1"},noPointerEvents:{pointerEvents:"l10tt5db"},peopleTagInstructionText:{paddingBottom:"ez8dtbzv"},productTagInstructions:{alignItems:"i85zmo3j",display:"alzwoclg",flexDirection:"jl2a5g8c"},tagDoneDiv:{pointerEvents:"bjrpyg6s"},tagInstruction:{position:"s8sjc6am",start:"py3ibqi0",transform:"f2elp016"},tagInstructionRow:{alignItems:"gldv74r8",backgroundImage:"l7hzoxod",bottom:"z6erz7xo",display:"alzwoclg",height:"pcwd0zr3",justifyContent:"jcxyg2ei",paddingBottom:"eg9484fr",pointerEvents:"l10tt5db",position:"s8sjc6am",width:"mfclru0v"},tagInstructionText:{alignItems:"i85zmo3j",display:"alzwoclg",paddingEnd:"ejhi0i36"},tagLayer:{bottom:"z6erz7xo",end:"on4d8346",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"}},fa=i!==void 0?i:i=b("CometPhotoViewer_photo.graphql");function a(a){var e,f,g,i,p,r,s,t,u=l(c("CometPhotoViewerViewStateDispatcherContext")),v=l(c("CometPhotoViewerViewStateContext")),w=c("useCometLazyDialog")(ca),ga=w[0];w=o(null);var x=d("Actor").useActor(),y=x[0];x[1];x=a.mediaset;var ha=a.mediasetToken,z=a.origHeight,A=a.origSrc,B=a.origWidth,C=a.photo,D=a.photoTagLayerQueryReference,E=a.showTag;E=E===void 0?!1:E;var ia=a.storyRenderLocation,F=a.tagModeEnabled,ja=babelHelpers.objectWithoutPropertiesLoose(a,["mediaset","mediasetToken","origHeight","origSrc","origWidth","photo","photoTagLayerQueryReference","showTag","storyRenderLocation","tagModeEnabled"]),G=d("CometRelay").useFragment(fa,C);C=d("CometRelay").useFragment(j!==void 0?j:j=b("CometPhotoViewer_mediaset.graphql"),x);x=aa(function(){u({tagData:{isProductTagging:!1,tagModeEnabled:Boolean(F)},type:"UPDATE_TAG_DATA"})},[u,F]);m(function(){F===!0&&u({tagData:{isProductTagging:!0,tagModeEnabled:Boolean(F)},type:"UPDATE_TAG_DATA"})},[u,F]);var H=G==null?void 0:(e=G.image)==null?void 0:e.uri,I=G==null?void 0:G.accessibility_caption,J=G==null?void 0:G.id,K=G==null?void 0:(e=G.owner)==null?void 0:e.id;e=(e=G==null?void 0:(e=G.tags)==null?void 0:e.edges)!=null?e:[];var L=o(new Set(e.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}))),M=G==null?void 0:G.created_time,N=G==null?void 0:(e=G.container_story)==null?void 0:e.post_id;e=(G==null?void 0:G.can_viewer_add_tags)===!0;f=G==null?void 0:(f=G.cix_screen)==null?void 0:f.view_model;var O=n(function(){return{authorId:K,createdTime:M,fbid:J,source:6,storyContainerId:N}},[K,M,J,N]);O=c("useMediaViewerVPVDLogger")(O);var P=O[0],Q=O[1];O=G==null?void 0:(O=G.container_story)==null?void 0:O.encrypted_tracking;g=G==null?void 0:(g=G.container_story)==null?void 0:g.viewability_config;i=(i=G==null?void 0:G.container_story)!=null?i:{};i=i.client_view_config;i={can_delay_log_impression:i==null?void 0:i.can_delay_log_impression,use_banzai_signal_imp:i==null?void 0:i.use_banzai_signal_imp,use_banzai_vital_imp:i==null?void 0:i.use_banzai_vital_imp};i=c("useStoryViewabilityLogger")({clientViewConfig:i,disabledViewabilityEventTypes:[5],encryptedTracking:O,position:0,viewabilityConfig:g});O=i.ref;g=c("useMergeRefs")(P,O);i=d("CometPhotoViewerResponsiveInnerWrapper.react").useCometPhotoViewerContainerStyles();var R=d("CometWarningScreenContext").useIsOverlayShown();P=d("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(G,v.knownAITags);O=d("CometAIProductTagSuggestionsUtil.react").getUntaggedUnknownTags(G,v.unknownAITags);var S=P.length+O.length,T=o(function(){b("NumAiSuggestionsBubbleImpressionFalcoEvent").log(function(){var a;return{creator_id:G==null?void 0:(a=G.owner)==null?void 0:a.page_id,media_id:J,media_type:"photo",platform:"comet",referral_source:"post_viewer"}})});m(function(){S>0&&(T.current&&T.current())},[S]);P=function(){var a;u({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"});if(J==null){c("recoverableViolation")("photo id can not be null","comet_feed");return}a=(a=G==null?void 0:(a=G.tags)==null?void 0:a.edges)!=null?a:[];a=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name});var e=d("WebSession").getId(),f=L.current.size?a.filter(function(a){return!L.current.has(a)}):a;U?b("ProductTagPhotoViewerDoneClickFalcoEvent").log(function(){return{container_post_id:N,creator_id:y,media_id:J,media_type:"photo",platform:"comet",referral_source:"post_viewer"}}):ba.onReady(function(a){a.log(function(){return{media_fbid:J,num_users_tagged:f.length,session_id:e}})});L.current=new Set(a)};O=Boolean(G==null?void 0:(O=G.tags)==null?void 0:O.edges.some(function(a){return!(a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag)}));p=((G==null?void 0:(p=G.photo_product_tags)==null?void 0:p.length)||0)>0;r=Boolean(G==null?void 0:(r=G.owner)==null?void 0:r.page_shop_has_taggable_products)&&Boolean(G==null?void 0:(r=G.owner)==null?void 0:r.is_viewer_admin);s=G==null?void 0:(s=G.owner)==null?void 0:s.additional_profile_has_taggable_products;s=s!=null?Boolean(s)&&y===(G==null?void 0:(s=G.owner)==null?void 0:s.user_id):r&&Boolean((G==null?void 0:(s=G.owner)==null?void 0:s.page_id)!=null)&&y===(G==null?void 0:(s=G.owner)==null?void 0:s.page_id);p=O||!p&&!O&&!r;var U=s&&!O;s=(G==null?void 0:G.owner)&&(G==null?void 0:(r=G.owner)==null?void 0:r.page_id)!=null?d("FBShopsLegacyUpgradeProductTaggingUtils").getProductTaggingLegacyUpgradeStatus(G==null?void 0:G.owner):null;O=d("CometRouteParams").useRouteParams();r=c("useCurrentRoute")();r=(r=r==null?void 0:r.transparent)!=null?r:!1;var V=O.aymt_channel!=null,W=o(!1);m(function(){V&&(W.current||ga({})),W.current=!0});O=d("CometRouteRenderType").useIsPushView();var X=d("CometWarningScreenContext").useParentRenderInstructions(),Y=G==null?void 0:(t=G.image)==null?void 0:t.width,Z=G==null?void 0:(t=G.image)==null?void 0:t.height;t=c("useRoutePassthroughProps")();t=(t==null?void 0:t.glbFileURIHackToRenderAs3D_DO_NOT_USE)!=null?String(t==null?void 0:t.glbFileURIHackToRenderAs3D_DO_NOT_USE):null;var ka=n(function(){var a;return G==null||H==null||Y==null||Z==null?null:k.jsx(c("CometImage.react"),{alt:(a=I)!=null?a:void 0,height:Z,src:H,width:Y},H)},[G,H,Y,Z,I]);if(H==null){c("recoverableViolation")("Error loading media. More investigation is needed, might be an invalid photo, a special type of MediaSet, or something else.","comet_ui");return h._("__JHASH__RMATuThkOwG__JHASH__")}var $=X==="CLIP_TO_MEDIA",la=f!=null?k.jsx(d("CometRelay").MatchContainer,{match:f,props:{alwaysShowDetails:!0,data:f,isFullScreenMediaPlayerStyle:!0,mediaUri:H,surface:"photo_viewer"}}):null,ma=(X=z)!=null?X:Z,na=E&&D!=null?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE,{className:c("stylex")(q.tagLayer,!v.tagModeEnabled&&q.noPointerEvents),children:k.jsx(da,{isTaggingProducts:v.isProductTagging,photoTagLayerQueryReference:D,tagBoxSize:d("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,tagModeEnabled:v.tagModeEnabled})}))}):null,oa=c("CometVisualCompletionAttributes").MEDIA_VC_IMAGE;f=k.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return k.jsxs(k.Fragment,{children:[Q,k.jsx(c("CometHero.react"),{description:"MainPhoto"}),k.jsx(c("CometPhotoViewerImgRenderer.react"),babelHelpers["extends"]({},oa,{alt:(b=I)!=null?b:void 0,currentImgSrc:H,height:(b=ma)!=null?b:void 0,origSrc:A,xstyle:a})),$&&la,na]})}});X=k.jsx(d("CometPagelet.react").Placeholder,{className:i,fallback:A!=null?k.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:z,imageUri:A,ref:g,showPlaceholderImage:A!=null&&B!=null&&z!=null&&!R,width:B}):k.jsx("div",{className:i,ref:g,children:k.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return k.jsxs(k.Fragment,{children:[Q,!R&&k.jsx(c("CometImage.react"),{alt:(b=I)!=null?b:void 0,src:H,testid:void 0,xstyle:a},H)]})}})}),name:"MediaViewerPhoto",pageletType:"media",ref:g,children:k.jsx(d("CometRelay").MatchContainer,{fallback:f,match:G==null?void 0:G.comet_photo_renderer,props:{fallback:ka,glbFileURI:t}})},H);z=v.isProductTagging?c("stylex")(q.productTagInstructions):c("stylex")(q.tagInstruction);B=v.isProductTagging?h._("__JHASH__joA17NgdTcZ__JHASH__"):h._("__JHASH__XXadU6wouhB__JHASH__");i=E&&D!=null&&e===!0&&(G==null?void 0:G.comet_photo_renderer)==null;g=!R&&(G==null?void 0:G.comet_photo_renderer)==null;return k.jsx("div",{className:c("stylex")(q.container),"data-testid":void 0,ref:w,children:k.jsxs(c("CometPhotoViewerContainerContext").Provider,{value:w,children:[k.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({backgroundColor:r&&O?"dark":"default",initialTracePolicy:a.initialTracePolicy,mediaID:G==null?void 0:G.id,mediaset:C,mediasetToken:ha,onNavigatePhoto:x,storyRenderLocation:ia,subOrigin:a.subOrigin},ja,{children:X})),g?k.jsx(ea,{authorId:K,canTag:i,fromAYMTRetroTagNotification:V,numNewAISuggestions:S,photoID:J,shouldShowPeopleTagButton:p,shouldShowProductTagButton:U,storyContainerId:N,upgradeShopModalInfo:s}):null,i&&v.tagModeEnabled?k.jsx(c("CometTheme.react"),{theme:"dark",xstyle:q.tagInstructionRow,children:k.jsxs("div",{className:z,children:[k.jsx("div",{className:c("stylex")(q.tagInstructionText),children:k.jsx("div",{className:U!==!0?c("stylex")(q.peopleTagInstructionText):null,children:k.jsx(c("TetraText.react"),{color:"primary",numberOfLines:1,type:"headline4",children:B})})}),k.jsx("div",{className:c("stylex")(q.tagDoneDiv),children:k.jsx(c("TetraButton.react"),{label:h._("__JHASH__wMkSdm46Lkc__JHASH__"),onPress:P,testid:void 0,type:"primary"})})]})}):null,!$&&la]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCastingControllerIfAvailable",["CastingContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CastingContext").CastingControllerContext);return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCastMediaIfCastSessionActive",["CastingStateHooks","CometRelay","react","recoverableViolation","useCastMediaIfCastSessionActive_media.graphql","useCastingControllerIfAvailable"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useCastMediaIfCastSessionActive_media.graphql"),a),f=c("useCastingControllerIfAvailable")(),g=d("CastingStateHooks").useIsCastingPhotoExperience();i(function(){if(f==null)return;if(!g)return;if((e==null?void 0:e.__typename)==null)return;(e==null?void 0:e.__typename)==="Photo"&&(e==null?void 0:e.id)!=null?f.showSingleMedia({photoID:e.id,type:"photo"}):(e==null?void 0:e.__typename)==="Video"&&(e==null?void 0:e.id)!=null?f.showSingleMedia({type:"video",videoID:e.id}):c("recoverableViolation")("Unsupported media type. Cast request will be ignored","comet_cast_sender")},[g,f,e])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewer.react",["CometMediaViewerDispatcherContext","CometMediaViewerReducer","CometMediaViewerStage.react","CometMediaViewerVideoPlayerSurface.react","CometMediaViewerViewStateContext","CometMediaViewer_media.graphql","CometMediaViewer_mediaset.graphql","CometPhotoViewer.react","CometRelay","CometRouteRenderType","CometWarningScreenContext","VideoPlayerRelay.react","react","stylex","useCastMediaIfCastSessionActive","useCometDisplayTimingTracker","useCurrentRoute","useRoutePassthroughProps"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useReducer,l=[c("CometMediaViewerReducer")],m=function(a,b){a=a;for(var c=0;c<l.length;c++){var d=l[c];a=d(a,b)}return a};function a(a){var e,f=d("CometRouteRenderType").useIsPushView(),g=a.isUntagged,l=a.media,n=a.mediaset,o=a.mediasetToken,p=a.origHeight,q=a.origOverlayShown,r=a.origSrc,s=a.origWidth,t=a.photoTagLayerQueryReference,u=a.storyRenderLocation;a=babelHelpers.objectWithoutPropertiesLoose(a,["isUntagged","media","mediaset","mediasetToken","origHeight","origOverlayShown","origSrc","origWidth","photoTagLayerQueryReference","storyRenderLocation"]);l=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewer_media.graphql"),l);n=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaViewer_mediaset.graphql"),n);var v=k(m,{isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0}),w=v[0];v=v[1];var x=c("useCometDisplayTimingTracker")("MediaViewerVideo"),y=c("useRoutePassthroughProps")(),z=y==null?void 0:y.subOrigin,A=(y==null?void 0:y.initialTracePolicy)!=null?String(y==null?void 0:y.initialTracePolicy):null;y=y==null?void 0:y.portableVideoID;e=((e=l.cix_screen)==null?void 0:(e=e.view_model)==null?void 0:e.__typename)!=null;var B=(l==null?void 0:l.is_playable)===!0,C=l==null?void 0:l.id,D=c("useCurrentRoute")();D=(D=D==null?void 0:D.transparent)!=null?D:!1;c("useCastMediaIfCastSessionActive")(l);if(B){B=l==null?void 0:l.if_viewer_can_see_pay_to_access_paywall;C=j.jsx("div",{className:"om3e55n1 pytsy3co cgu29s5g cqf1kptm alzwoclg","data-testid":void 0,children:j.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({},a,{backgroundColor:D?"dark":"default",initialTracePolicy:A,isPlayable:!0,mediaID:C,mediasetToken:o,storyRenderLocation:u,subOrigin:z,children:j.jsx("div",{className:c("stylex")({"align-items-1":"i85zmo3j","display-1":"alzwoclg","flex-grow-1":"cgu29s5g","justify-content-1":"jcxyg2ei","width-1":"mfclru0v"},f?{"height-1":"pytsy3co"}:null,f?null:{"height-1":"kcwwm71p"}),ref:x,children:B!=null?j.jsx(d("CometRelay").MatchContainer,{match:B}):j.jsx(c("VideoPlayerRelay.react"),{canAutoplay:e?"do_not_autoplay":"respect_user_settings",portalingEnabled:!0,portalingFromVideoID:y,portalingPlaceMetaData:{placeDescription:"media_viewer"},subOrigin:(D=z)!=null?D:"media_viewer",video:l,children:j.jsx(c("CometMediaViewerVideoPlayerSurface.react"),{data:l})})})}))})}else C=j.jsx(c("CometPhotoViewer.react"),babelHelpers["extends"]({initialTracePolicy:A,mediaset:n,mediasetToken:o,origHeight:p,origSrc:r,origWidth:s,photo:l,photoTagLayerQueryReference:t,showTag:!0,storyRenderLocation:u,subOrigin:z,tagModeEnabled:g},a));return j.jsx(d("CometWarningScreenContext").CometWarningScreenContextProvider,{identifier:(f=l==null?void 0:l.id)!=null?f:"unknown",overlayExists:e,overlayShownOverride:q,children:j.jsx(c("CometMediaViewerViewStateContext").Provider,{value:w,children:j.jsx(c("CometMediaViewerDispatcherContext").Provider,{value:v,children:C})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerLayout.react",["CometMediaViewer.react","CometMediaViewerLayout_media.graphql","CometMediaViewerLayout_mediaset.graphql","CometNewsfeedKeyCommandWidget","CometPageLayoutWithComplementaryContent.react","CometRelay","react","useIsLoggedOut"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");function a(a){var e=a.media,f=a.mediaset,g=a.mediasetToken,k=a.rightRail;k=k===void 0?null:k;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","mediaset","mediasetToken","rightRail"]);var l=c("useIsLoggedOut")();e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewerLayout_media.graphql"),e);f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaViewerLayout_mediaset.graphql"),f);e=j.jsx(c("CometMediaViewer.react"),babelHelpers["extends"]({media:e,mediaset:f,mediasetToken:g},a));return j.jsx(c("CometNewsfeedKeyCommandWidget").Wrapper,{children:j.jsx(c("CometPageLayoutWithComplementaryContent.react"),{hideContainerBackground:!1,isRightRailFixed:!0,rightRail:k,showShadowBar:!l,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometNoCursorMediaSetViewerRenderer.react",["CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerLayout.react","CometNoCursorMediaSetViewerNextMediaFetcher.react","CometNoCursorMediaSetViewerPrevMediaFetcher.react","CometNoCursorMediaSetViewerRenderer_media.graphql","CometNoCursorMediaSetViewerRenderer_mediaset.graphql","CometPlaceholder.react","CometRelay","react"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useEffect,m=e.useState,n=h!==void 0?h:h=b("CometNoCursorMediaSetViewerRenderer_media.graphql"),o=i!==void 0?i:i=b("CometNoCursorMediaSetViewerRenderer_mediaset.graphql");function a(a){var b=a.media,e=a.mediaset,f=a.mediasetToken,g=a.prefetchForId;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","mediaset","mediasetToken","prefetchForId"]);b=d("CometRelay").useFragment(n,b);e=d("CometRelay").useFragment(o,e);var h=m(null),i=h[0],p=h[1];h=m(null);var q=h[0],r=h[1];h=m(d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL);var s=h[0],t=h[1];h=m(d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL);var u=h[0],v=h[1];l(function(){g!=null&&i!=null&&g(i)},[i,g]);l(function(){g!=null&&q!=null&&g(q)},[q,g]);h=k(function(a,b){p(a),t(b)},[]);var w=k(function(a,b){r(a),v(b)},[]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometMediaViewerLayout.react"),babelHelpers["extends"]({},a,{media:b,nextMediaURI:s,prevMediaURI:u})),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometNoCursorMediaSetViewerNextMediaFetcher.react"),{mediaset:e,mediasetToken:f,onMediaObtained:h})}),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometNoCursorMediaSetViewerPrevMediaFetcher.react"),{mediaset:e,mediasetToken:f,onMediaObtained:w})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerFullscreen.react",["fbt","ix","CometMediaViewerFullscreenContext","CometSetMediaViewerFullscreenContext","CometTooltip.react","TetraCircleButton.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext;function a(){var a=l(c("CometSetMediaViewerFullscreenContext")),b=l(c("CometMediaViewerFullscreenContext")),e=b?h._("__JHASH__VOEbAhTYI_4__JHASH__"):h._("__JHASH__wxPdXV1OYHm__JHASH__"),f=k(function(){!b?a(!0):a(!1)},[b,a]);return j.jsx(c("CometTooltip.react"),{position:"below",tooltip:e,children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:b?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:e,onPress:f,size:36,testid:void 0,type:"dark-overlay"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ProductTagPhotoViewerIconClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744226");c=b("FalcoLoggerInternal").create("product_tag_photo_viewer_icon_click",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerTopRightIcons.react",["fbt","ix","CometMediaViewerDispatcherContext","CometMediaViewerViewStateContext","CometNumberedBadge.react","CometPhotoViewerAIProductTagSuggestionTrigger.react","CometPhotoViewerFullscreen.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometProductTagLoggingUtils","CometRouteParams","CometRow.react","CometRowItem.react","CometTooltip.react","CometTrackingNodeProvider.react","FBShopsLegacyUpgradeDialog.entrypoint","ProductTagPhotoViewerIconClickFalcoEvent","TetraCircleButton.react","TetraIcon.react","WebSession","fbicon","gkx","react","stylex","useCometCallout","useCometEntryPointDialog"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useState,n={aiProductTagBadge:{display:"alzwoclg",end:"on4d8346",position:"s8sjc6am",top:"ekq1a7f9",zIndex:"b0ur3jhr"},iconButtons:{end:"on4d8346",overflowX:"lq84ybu9",overflowY:"hf30pyar",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"o9wcebwi",paddingStart:"nch0832m",position:"s8sjc6am",top:"ekq1a7f9",zIndex:"b0ur3jhr"},productTagCallout:{maxWidth:"ccxaxj2c"}},o=2,p=1;e=.2;var q=1+e,r=1-e;function a(a){var e=a.authorId,f=a.canTag,g=a.fromAYMTRetroTagNotification,s=a.numNewAISuggestions,t=a.photoID,u=a.shouldShowPeopleTagButton,v=a.shouldShowProductTagButton,w=a.storyContainerId,x=a.upgradeShopModalInfo;a=l(c("CometPhotoViewerViewStateContext"));var y=l(c("CometMediaViewerViewStateContext")),z=l(c("CometPhotoViewerViewStateDispatcherContext")),A=l(c("CometMediaViewerDispatcherContext")),B=m(v&&g),C=B[0],D=B[1];B=h._("__JHASH__FsGcY_JvjDl__JHASH__");var E=d("CometRouteParams").useRouteParams(),F=g?d("CometProductTagLoggingUtils").getAYMTChannelName(E.aymt_channel):null;g={align:"end",arrowStyle:"edge",label:B,position:"below",type:"accent",xstyle:n.productTagCallout};E=c("useCometCallout")(g,C);B=k(function(){A({type:"SET_ZOOM",zoomFactor:r})},[A]);g=k(function(){A({type:"SET_ZOOM",zoomFactor:q})},[A]);var G=function(){(x==null?void 0:x.dialogType)==="product_tagging_block"&&z({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"})},H=x==null?void 0:x.pageID;C=c("useCometEntryPointDialog")(c("FBShopsLegacyUpgradeDialog.entrypoint"),{adminHasPermissions:(x==null?void 0:x.adminHasPermissions)===!0,dialogType:(C=x==null?void 0:x.dialogType)!=null?C:"product_tagging_friction",loggingSurface:"post_viewer",pageID:(C=H)!=null?C:"",referralCode:"post_viewer",referralSurface:"post_viewer"});var I=C[0],J=function(){H!=null&&((x==null?void 0:x.shouldShowModal)===!0&&I({pageID:H},G))};C=null;v?C=j.jsxs(c("CometRowItem.react"),{children:[c("CometPhotoViewerAIProductTagSuggestionTrigger.react")&&j.jsx(c("CometPhotoViewerAIProductTagSuggestionTrigger.react"),{photoID:t}),j.jsxs(c("CometTooltip.react"),{position:"below",tooltip:s>0?h._("__JHASH__U5-C-nVTJ46__JHASH__"):h._("__JHASH__SlWb3ScK3Nw__JHASH__"),children:[s!==0&&j.jsx("div",{className:c("stylex")(n.aiProductTagBadge),children:c("CometNumberedBadge.react")!=null&&j.jsx(c("CometNumberedBadge.react"),{color:"blue",value:s})}),j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__D59E6zOYQr3__JHASH__"),color:"white",disabled:y.scale>1,hideHoverOverlay:!0,icon:d("fbicon")._(i("1650356"),24),onPress:function(){b("ProductTagPhotoViewerIconClickFalcoEvent").log(function(){return{container_post_id:w,creation_session_id:d("WebSession").getId(),creator_id:e,media_id:t,media_type:"photo",platform:"comet",referral_code:F,referral_source:"post_viewer"}}),z({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"}),z({isProductTagging:!0,type:"SET_IS_PRODUCT_TAGGING"}),D(!1),J()},ref:E,testid:void 0})]})]}):u&&(C=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:140,children:j.jsx(c("CometTooltip.react"),{position:"below",tooltip:h._("__JHASH__zr31UW4Ahz8__JHASH__"),children:j.jsx(c("TetraCircleButton.react"),{color:"white",disabled:y.scale>1,icon:d("fbicon")._(i("502473"),20),label:c("gkx")("1224637")?h._("__JHASH__rSosOdpH_Pk__JHASH__"):h._("__JHASH__4UerTx8dewr__JHASH__"),onPress:function(){z({tagModeEnabled:!0,type:"SET_TAG_MODE_ENABLED"})},size:36,testid:void 0,type:"dark-overlay"})})})}));return j.jsx("div",{className:c("stylex")(n.iconButtons),children:j.jsxs(c("CometRow.react"),{align:"end",children:[j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraCircleButton.react"),{color:y.scale===o?"disabled":"white",disabled:y.scale===o||a.tagModeEnabled,icon:d("fbicon")._(i("927269"),20),label:h._("__JHASH__m2sEbEkFqV___JHASH__"),onPress:g,size:36,type:"dark-overlay"})}),j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraCircleButton.react"),{color:y.scale===p?"disabled":"white",disabled:y.scale===p||a.tagModeEnabled,icon:d("fbicon")._(i("927282"),20),label:h._("__JHASH__ai2TDVhVCnz__JHASH__"),onPress:B,size:36,type:"dark-overlay"})}),f&&!a.tagModeEnabled&&!a.isProductTagging?C:null,j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometPhotoViewerFullscreen.react"),{})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerNavigationTapTarget.react",["ix","CometMediaViewerDispatcherContext","CometPressable.react","CometProgressSkittleIndeterminate.react","CometSkittleIcon.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={buttonContainerBackground:{backgroundColor:"qminddhv"},buttonContainerHoverLeft:{opacity:"cdum9rwi",transform:"i7yo2p0r"},buttonContainerHoverRight:{opacity:"cdum9rwi",transform:"invszoqz"},fullHeight:{height:"pytsy3co"},invisible:{opacity:"jkp44r48",transitionDuration:"s19c0p35",transitionTimingFunction:"jhiaiv37",visibility:"qpyp3sab"},navButton:{alignItems:"i85zmo3j",display:"alzwoclg",opacity:"fupido9q",paddingTop:"g4qalytl",paddingEnd:"r227ecj6",paddingBottom:"ez8dtbzv",paddingStart:"gt60zsk1",position:"om3e55n1",transitionDuration:"m4pnbp5e",transitionProperty:"ctyh02ob",transitionTimingFunction:"lwpuyj9n",willChange:"bdxbjxmq"},root:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"jcxyg2ei",opacity:"cdum9rwi",position:"om3e55n1",transitionDuration:"pym4i58u",transitionProperty:"rhiv3dam",transitionTimingFunction:"mwa1sm0y",willChange:"fua9uuyn",zIndex:"b0ur3jhr"},tapTargetOverlay:{height:"pytsy3co"}};function a(a){var b=a.direction,e=a.hoverOverlayHeight,f=e===void 0?"default":e;e=a.invisible;e=e===void 0?!1:e;var g=a.isLoading,l=g===void 0?!1:g;g=a.label;var m=a.onClick,n=a.testid;n=a.trackingNode;var o=j(c("CometMediaViewerDispatcherContext"));a=function(){o({isHovered:!0,type:"SET_IS_HOVERED"})};var p=function(){o({isHovered:!1,type:"SET_IS_HOVERED"})};return i.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{className:c("stylex")(k.root,e&&k.invisible,f==="default"&&k.fullHeight),"data-testid":void 0,onMouseEnter:a,onMouseLeave:p,children:i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:n,children:i.jsx(c("CometPressable.react"),{"aria-label":g,disabled:l,focusable:!1,onPress:m,testid:void 0,xstyle:f==="default"&&k.tapTargetOverlay,children:function(a){a=a.hovered;return i.jsx("div",{className:c("stylex")(k.navButton,f==="default"&&k.buttonContainerBackground,a&&!l&&(b==="previous"?k.buttonContainerHoverLeft:k.buttonContainerHoverRight)),children:l?i.jsx(c("CometProgressSkittleIndeterminate.react"),{size:48}):i.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b==="previous"?d("fbicon")._(h("492491"),24):d("fbicon")._(h("492539"),24),size:48})})}})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerStageOld.react",["fbt","CometFullScreen","CometKeys","CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerNavigationTapTarget.react","CometMediaViewerViewStateContext","CometProductTagFunnelIDContext","Locale","cometGetKeyCommandConfig","gkx","react","stylex","useCometRoute","useCometRouterDispatcher","useDebouncedComet","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("gkx")("1299319"),q=c("gkx")("1745416"),r=c("gkx")("1333"),s=2e3;function a(a){var b=a.backgroundColor;b=b===void 0?"default":b;var e=a.initialTracePolicy,f=a.isPlayable;f=f===void 0?!1:f;var g=a.isUntagged,t=a.nextMediaURI,u=a.onNavigatePhoto,v=a.prevMediaURI,w=a.storyRenderLocation,x=a.subOrigin,y=a.useKeyCommands,z=y===void 0?!0:y,A=k(c("CometProductTagFunnelIDContext")),B=c("useCometRouterDispatcher")();y=o(!1);var C=y[0],D=y[1],E=k(c("CometMediaViewerViewStateContext")),F=n(!0);y=function(){return G.isPending()?H():G()};var G=c("useDebouncedComet")(function(){D(!1),H()},{leading:!0,wait:s}),H=c("useDebouncedComet")(function(){L==null&&!E.isHovered&&D(!0),F.current=!1},{leading:!1,wait:s}),I=n(null);c("useLayoutEffect_SAFE_FOR_SSR")(function(){H(),I.current&&F.current&&I.current.focus()});var J=j(function(){B!=null&&B.popPushView()},[B]),K=o(null),L=K[0],M=K[1],N=j(function(){if(t===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){M("next");return}if(B==null||typeof t!=="string")return;u&&u();B.go(t,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:A,storyRenderLocation:w,subOrigin:x},target:"self",traceParams:{navigation_source:"CometMediaViewer_next"}})},[t,B,u,e,A,w,g,x]),O=j(function(){if(v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){M("prev");return}if(B==null||typeof v!=="string")return;u&&u();B.go(v,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:A,storyRenderLocation:w,subOrigin:x},target:"self",traceParams:{navigation_source:"CometMediaViewer_prev"}})},[v,B,u,e,A,g,w,x]);l(function(){switch(L){case"next":t!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(M(null),H(),N());break;case"prev":v!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(M(null),H(),O());break;default:break}},[N,O,H,t,L,v]);c("useCometRoute")(typeof v==="string"?v:null);c("useCometRoute")(typeof t==="string"?t:null);var P=h._("__JHASH__92xD5G-08Nu__JHASH__"),Q=h._("__JHASH__dnD4SkktjMD__JHASH__"),R=j(function(){var a=d("CometFullScreen").getFullScreenElement();if(a==null){a=document.documentElement;a!=null&&d("CometFullScreen").requestFullScreen(a)}else d("CometFullScreen").exitFullScreen()},[]),S=t===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof t==="string"&&t!=="",T=v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof v==="string"&&v!=="";K=!T||C||q||r;C=!S||C||q||r;var U=m(function(){if(!z||q||r)return[];var a=[];T&&(a.push({command:{key:c("CometKeys").PREVIOUS},description:P,handler:O}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewPrevious",O)));S&&(a.push({command:{key:c("CometKeys").NEXT},description:Q,handler:N}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewNext",N)));a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","fullscreen",R));return a},[N,O,S,T,Q,P,R,z]);c("useLayerKeyCommands")(U);U=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"next":"previous",hoverOverlayHeight:f?"auto":"default",invisible:K,isLoading:L==="prev",label:P,onClick:O,testid:void 0,trackingNode:143});K=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"previous":"next",hoverOverlayHeight:f?"auto":"default",invisible:C,isLoading:L==="next",label:Q,onClick:N,testid:void 0,trackingNode:142});return i.jsx("div",{className:c("stylex")({"display-1":"alzwoclg","flex-direction-1":"cqf1kptm","flex-grow-1":"cgu29s5g","height-1":"pytsy3co","min-width-1":"h93itd9g","position-1":"om3e55n1","outline-8.1":"th8rvtx1"},b==="default"?{"background-color-1":"sfdena2r"}:null,b==="dark"?{"background-color-1":"k450ydwm"}:null),onMouseMove:y,ref:I,tabIndex:"0",children:i.jsxs("div",{className:"th8rvtx1 om3e55n1 jcxyg2ei pytsy3co cgu29s5g alzwoclg i85zmo3j",children:[i.jsxs("div",{className:"ekq1a7f9 myo4itp8 s8sjc6am sl27f92c on4d8346 alzwoclg z6erz7xo i85zmo3j","data-name":"media-viewer-nav-container",children:[!p&&i.jsx("div",{"aria-hidden":!0,className:"ekq1a7f9 myo4itp8 s8sjc6am on4d8346 bdao358l z6erz7xo","data-testid":void 0,onClick:J}),U,K]}),a.children]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerContextGlimmer.react",["BaseGlimmer.react","BaseLoadingStateElement.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{boxSizing:"bdao358l",display:"alzwoclg",flexDirection:"jl2a5g8c",paddingBottom:"ez8dtbzv"},imageGlimmer:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},imageSize48:{height:"ov5gjlzi",width:"l188yfni"},minutiaeGlimmer:{height:"k250bvdn",width:"mfclru0v"},minutiaeGlimmer2:{height:"k250bvdn",width:"ezi3dscr"},roundedGlimmer:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c"},wrapper:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",justifyContent:"q3dhrzj9",paddingTop:"srn514ro",paddingEnd:"r227ecj6",paddingBottom:"rl78xhln",paddingStart:"gt60zsk1"}};function a(){return h.jsxs(c("BaseLoadingStateElement.react"),{xstyle:i.container,children:[h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.imageGlimmer,i.imageSize48),index:1}),h.jsxs("div",{className:c("stylex")(i.wrapper),children:[h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.minutiaeGlimmer,i.roundedGlimmer),index:1}),h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.minutiaeGlimmer2,i.roundedGlimmer),index:1})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerContextSectionActionWrapper.react",["fbt","CometErrorBoundary.react","CometFeedStoryContext","CometMediaViewerContextGlimmer.react","CometMediaViewerContextSectionActionWrapperComposerQuery.graphql","CometMediaViewerContextSectionActionWrapper_media.graphql","CometMediaViewerContextSectionActionWrapper_story.graphql","CometMediaViewerRightRailUFIGlimmer.react","CometPlaceholder.react","CometRelay","TetraButton.react","deferredLoadComponent","qex","react","requireDeferred","requireDeferredForDisplay","unrecoverableViolation"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("react");e=d("react");var m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useState;e=c("requireDeferred")("CometMediaViewerComposer.react").__setRef("CometMediaViewerContextSectionActionWrapper.react");var q=c("requireDeferredForDisplay")("CometMediaViewerContextSection.react").__setRef("CometMediaViewerContextSectionActionWrapper.react"),r=c("deferredLoadComponent")(e),s=c("deferredLoadComponent")(q),t=i!==void 0?i:i=b("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql");function u(a){var b=a.isEditing,e=a.media,f=a.nodeID;a=a.setIsEditing;var g=m(function(a){var d=a.disabled;a=a.submitForm;return b?l.jsx(c("TetraButton.react"),{disabled:d,label:h._("__JHASH__wICDCdNzSCi__JHASH__"),onPress:a,type:"primary"}):null},[b]),i=d("CometRelay").useLazyLoadQuery(t,{nodeID:f});i=i.node;if(i==null)throw c("unrecoverableViolation")("CometMediaViewerContextSectionActionWrapperComposerQuery: Could not find media with id: "+f,"comet_ui");var j=i.message;return l.jsx(r,{media:e,mediaType:(i==null?void 0:i.is_playable)===!0?"video":"photo",message:j!=null?j:void 0,nodeID:f,setIsEditing:a,submitButton:g})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var e=a.media,f=a.story;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","story"]);var g=a.nodeID,i=p(!1),m=i[0],q=i[1];n(function(){q(!1)},[g]);i=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMediaViewerContextSectionActionWrapper_media.graphql"),e);var r=d("CometRelay").useFragment(k!==void 0?k:k=b("CometMediaViewerContextSectionActionWrapper_story.graphql"),f);f=(e=i.can_viewer_edit)!=null?e:r==null?void 0:r.can_viewer_edit;var t=c("qex")._("225")||!1;e=o(function(){var a;return t?{source_url:r==null?void 0:(a=r.whatsapp_ad_context)==null?void 0:a.source_url,storyID:r==null?void 0:r.id,whatsapp_ad_context:r==null?void 0:(a=r.whatsapp_ad_context)==null?void 0:a.context}:{source_url:null,storyID:null,whatsapp_ad_context:null}},[r,t]);return l.jsx(d("CometFeedStoryContext").CometFeedStoryContext.Provider,{value:e,children:l.jsxs("div",{className:"gt60zsk1 rj2hsocd r227ecj6 g4qalytl","data-testid":void 0,children:[m?l.jsx("div",{className:"rj2hsocd",children:l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerContextGlimmer.react"),{}),children:l.jsx(u,{isEditing:m,media:i,nodeID:g,setIsEditing:q})})}):l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerContextGlimmer.react"),{}),children:l.jsx(s,{feedLocation:a.feedLocation,media:i})}),l.jsxs("div",{className:"alzwoclg",children:[(r==null?void 0:r.post_promotion_info)!=null?l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerRightRailUFIGlimmer.react"),{}),children:l.jsx(d("CometRelay").MatchContainer,{match:r.post_promotion_info,props:{targetID:r==null?void 0:r.legacy_story_hideable_id}})}):null,f===!0&&!m?l.jsx("div",{className:"fxk3tzhb",children:l.jsx(c("TetraButton.react"),{label:h._("__JHASH__N1Wp8z-fblQ__JHASH__"),onPress:function(){return q(!m)},type:"secondary"})}):null]})]})})}v.displayName=v.name+" [from "+f.id+"]";function a(a){return l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(v,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerRightRail.react",["CometErrorBoundary.react","CometMediaViewerContextSectionActionWrapper.react","CometMediaViewerRightRailUFIGlimmer.react","CometMediaViewerRightRail_media.graphql","CometMediaViewerRightRail_story.graphql","CometPlaceholder.react","CometRelay","CometUFIFeedbackReactMutation","cometGetKeyCommandConfig","deferredLoadComponent","react","recoverableViolation","requireDeferredForDisplay","useLayerKeyCommands","useMinifiedProductAttribution"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo,m=e.useRef,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometMediaViewerRightRailUFIWithTracking.react").__setRef("CometMediaViewerRightRail.react")),o=h!==void 0?h:h=b("CometMediaViewerRightRail_media.graphql"),p=i!==void 0?i:i=b("CometMediaViewerRightRail_story.graphql");function a(a){var b=a.feedbackSource,e=a.feedLocation,f=a.focusCommentID,g=a.media,h=a.nodeID,i=a.onActorSelected;a=a.story;g=d("CometRelay").useFragment(o,g);a=d("CometRelay").useFragment(p,a);var r=q(g),s=!Boolean(g==null?void 0:g.attached_comment),t=m(null),u=d("CometRelay").useRelayEnvironment(),v=c("useMinifiedProductAttribution")(),w=k(function(){var a;if(r==null){c("recoverableViolation")("No feedback for the media is associated with it","comet_ui");return}var e=r==null?void 0:r.id;a=r==null?void 0:(a=r.viewer_actor)==null?void 0:a.id;if(e==null||b==null){c("recoverableViolation")("No Feedback data is associated with it","comet_ui");return}if(a==null){c("recoverableViolation")("No actor id is associated with it","comet_ui");return}a=r==null?void 0:r.viewer_feedback_reaction_info;a!=null?a={attribution_id_v2:v,feedback_id:e,feedback_reaction_id:null,feedback_source:b}:a={attribution_id_v2:v,feedback_id:e,feedback_reaction_id:"1635855486666999",feedback_source:b};t.current=d("CometUFIFeedbackReactMutation").commit({environment:u,input:a,onError:function(){},useDefaultActor:!1})},[u,r,b,v]),x=l(function(){var a=(r==null?void 0:r.can_viewer_react)===!0,b=[];a&&b.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","like",w));return b},[r==null?void 0:r.can_viewer_react,w]);c("useLayerKeyCommands")(x);return j.jsxs(j.Fragment,{children:[j.jsx(d("CometRelay").MatchContainer,{match:g.copyright_banner_info,props:{mediaIds:[h],source:"media_viewer"}}),j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(d("CometRelay").MatchContainer,{match:g.if_media_can_show_link_to_container_story})}),j.jsx(c("CometMediaViewerContextSectionActionWrapper.react"),{feedLocation:e,media:g,nodeID:h,story:a}),r!=null?j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometMediaViewerRightRailUFIGlimmer.react"),{}),children:j.jsx(n,{displayCommentsContext:null,feedLocation:e,feedback:r,feedbackSource:b,focusCommentID:(x=f)!=null?x:null,isTextOnlyStory:!0,onActorSelected:i,pendingTags:g.__typename==="Photo"?g:null,shareable:s?(h=g)!=null?h:null:null},(a=r==null?void 0:r.id)!=null?a:""+((f=r==null?void 0:(e=r.viewer_actor)==null?void 0:e.id)!=null?f:""))}):null]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b;b=(a==null?void 0:(b=a.attached_comment)==null?void 0:b.is_quilt_cap_contribution_container_comment)===!0;if(b){return a==null?void 0:(b=a.attached_comment)==null?void 0:(b=b.parent_post_story)==null?void 0:b.feedback}return(b=a==null?void 0:(b=a.attached_comment)==null?void 0:b.feedback)!=null?b:a==null?void 0:a.feedback}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mediaViewerPrefetch",["CometRelay","JSScheduler","promiseDone","relay-runtime"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){d("JSScheduler").scheduleLoggingPriCallback(function(){var f=d("relay-runtime").createOperationDescriptor(d("relay-runtime").getRequest(b),e),g=a.check(f).status==="available";g||c("promiseDone")(d("CometRelay").fetchQuery(a,b,f.request.variables).toPromise())})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("getCometMediaURL_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getCometMediaURL_media"};e.exports=a}),null);
__d("useCometMediaURL_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};a=[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometMediaURL_media",selections:[{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],args:null,argumentDefinitions:[]}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometContentNotAvailable.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"mfclru0v jcxyg2ei iff1jeng alzwoclg i85zmo3j",children:i.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(c("TetraNullState.react"),{headline:h._("__JHASH__C7tfZyxTgu9__JHASH__"),icon:c("NullStateGeneral")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPageLayoutWithComplementaryContent.react",["BaseRow.react","BaseRowItem.react","CometMediaViewerFullscreenContext","CometRouteRenderType","CometScrollView.react","MWChatVisibilityOverrideContext","gkx","react","stylex","useMWShouldCurrentRouteOverrideChatVisibility","useShouldShowMessagingEntrypointOnCurrentRoute"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("gkx")("708253"),k=c("gkx")("1217157"),l=c("gkx")("2820"),m={chatSliver:{backgroundColor:"k0kqjr44",boxShadow:"kfv46p2g",display:"alzwoclg",height:"iff1jeng",top:"cofpoq2j",width:"bob5073n",zIndex:"b0ur3jhr","@media (max-width: 899px)":{display:"dbla2kx4"}},container:{height:"rfyhaz4c",maxHeight:"ohrdq8us",overflowX:"lq84ybu9",overflowY:"hf30pyar","@media (max-width: 900px)":{flexDirection:"gotkvkgo"}},containerFullScreenInPushView:{minHeight:"i7qc65dt"},containerInPushView:{minHeight:"dgxim35p"},containerNotInPushView:{minHeight:"kyj84mfa"},contentAreaInPushView:{height:"ff443qle","@media (max-width: 900px)":{height:"c7hd8wmv"}},contentAreaInPushViewUsesParentHeight:{height:"pytsy3co","@media (max-width: 900px)":{height:"c7hd8wmv"}},contentAreaNotInPushView:{height:"iff1jeng","@media (max-width: 900px)":{height:"c7hd8wmv"}},defaultBackground:{backgroundColor:"oab4agdp"},rightRail:{height:"rfyhaz4c",maxHeight:"fyn85a33","@media (max-width: 900px)":{maxWidth:"qlzuymxp",minHeight:"kqagr0ic"}},rightRailFixed:{backgroundColor:"oab4agdp",maxHeight:"q6bb8s6s",minHeight:"fawcizw8","@media (max-width: 900px)":{maxHeight:"hvb5vjdq",maxWidth:"qlzuymxp",minHeight:"eqrj5wpr"}},rightRailInner:{backgroundColor:"oab4agdp",height:"rfyhaz4c",maxWidth:"gszy8xml",minWidth:"mrwmy8nb","@media (max-width: 900px)":{minWidth:"b5460mtv"}},rightRailOuter:{height:"pytsy3co",maxHeight:"q6bb8s6s","@media (max-width: 900px)":{height:"h3t5uyg9",maxHeight:"so71ulsv"}},rightRailOuterNoMaxHeight:{height:"pytsy3co","@media (max-width: 900px)":{height:"h3t5uyg9",maxHeight:"so71ulsv"}},shadowBar:{backgroundColor:"oab4agdp",borderBottom:"tuqbsfkt",minHeight:"t835d8k2",position:"km253p1d",top:"ekq1a7f9",zIndex:"b0ur3jhr"},shadowBarContentAreaResponsiveness:{display:"plzdoh0l","@media (max-width: 900px)":{display:"n6q5kzg3"}},shadowBarRightRailResponsiveness:{"@media (max-width: 900px)":{display:"lth9pzmp"}}};function a(a){var b=a.children;b=b===void 0?null:b;var e=a.hideContainerBackground;e=e===void 0?!1:e;var f=a.isRightRailFixed;f=f===void 0?!1:f;var g=a.rightRail;g=g===void 0?null:g;var n=a.showChatSliverOverride;n=n===void 0?!0:n;var o=a.showShadowBar;o=o===void 0?!0:o;a=a.useParentHeight;a=a===void 0?!1:a;var p=d("CometRouteRenderType").useIsPushView(),q=c("useShouldShowMessagingEntrypointOnCurrentRoute")("CHAT")&&j,r=c("useMWShouldCurrentRouteOverrideChatVisibility")();r=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(r);var s=i(c("CometMediaViewerFullscreenContext"));n=n&&q&&r;return h.jsxs(c("BaseRow.react"),{align:"start",xstyle:[m.container,!e&&m.defaultBackground,s&&p&&m.containerFullScreenInPushView,!s&&(p||a)&&m.containerInPushView,!p&&!a&&m.containerNotInPushView],children:[p&&!k&&!l?h.jsx("div",{className:c("stylex")(o&&m.shadowBar,o&&m.shadowBarContentAreaResponsiveness)}):null,h.jsx(c("BaseRowItem.react"),{expanding:!0,role:"main",xstyle:a?m.contentAreaInPushViewUsesParentHeight:p?m.contentAreaInPushView:m.contentAreaNotInPushView,children:b}),g!=null&&!s&&h.jsxs(c("BaseRowItem.react"),{role:"complementary",xstyle:f?m.rightRailFixed:m.rightRail,children:[p&&!k&&!l?h.jsx("div",{className:c("stylex")(o&&m.shadowBar,o&&m.shadowBarRightRailResponsiveness)}):null,h.jsxs(c("BaseRow.react"),{xstyle:a?m.rightRailOuterNoMaxHeight:m.rightRailOuter,children:[h.jsx(c("BaseRowItem.react"),{xstyle:m.rightRailInner,children:f?h.jsx(c("CometScrollView.react"),{"data-testid":void 0,showsHorizontalScrollIndicator:!1,children:g}):g}),n?h.jsx("div",{className:c("stylex")(m.chatSliver)}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerContainerContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometPageVanityNoMediasetPhotoControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/photos/{?set}/{fbid}/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometPageVanityPhotoControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/photos/{set}/{fbid}/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometPhotoControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/photo/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getCometMediaURL",["CometRelay","XCometPageVanityNoMediasetPhotoControllerRouteBuilder","XCometPageVanityPhotoControllerRouteBuilder","XCometPhotoControllerRouteBuilder","XCometVideoControllerRouteBuilder","getCometMediaURL_media.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getCometMediaURL_media.graphql"),a);var g=a==null?void 0:a.id,i=(a==null?void 0:a.is_playable)===!0;f=(f=a==null?void 0:(f=a.owner)==null?void 0:f.uri_token)!=null?f:a==null?void 0:(f=a.owner)==null?void 0:f.id;a=(a==null?void 0:(a=a.owner)==null?void 0:a.__typename)==="Page";if(g==null)return null;if(i)return f==null?null:c("XCometVideoControllerRouteBuilder").buildURL({page_token:f,set:e,story_token:g});else if(a&&f!=null)if(e!=null&&e!=="")return c("XCometPageVanityPhotoControllerRouteBuilder").buildURL({fbid:g,set:e,vanity:f});else return c("XCometPageVanityNoMediasetPhotoControllerRouteBuilder").buildURL({fbid:g,vanity:f});else return c("XCometPhotoControllerRouteBuilder").buildURL({fbid:g,set:e})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometMediaURL",["CometRelay","getCometMediaURL","useCometMediaURL_media.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometMediaURL_media.graphql"),a);return c("getCometMediaURL")(a,e)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);/*FB_PKG_DELIM*/
__d("CometAIProductTagSuggestionsUtil_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometAIProductTagSuggestionsUtil_photo"};e.exports=a}),null);
__d("ProductTagConfidence",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["HIGH","LOW","VERY_HIGH","VERY_LOW"]);c=a;f["default"]=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ProductTagConfidenceUtils.facebook",["$InternalEnumUtils","ProductTagConfidence"],function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("ProductTagConfidence"));b=d("$InternalEnumUtils").createFromJSEnum(c("ProductTagConfidence"));g.toJSEnum=a;g.fromJSEnum=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SharedAIProductTagUtils",["ProductTagConfidenceUtils.facebook"],function(a,b,c,d,e,f,g){"use strict";var h=5;function a(a){var b=new Map();a.product_tag_suggestions.map(function(a){var c=a.media_id;a=a.suggestions;if(c==null||a==null)return;var e=[],f=[];a.map(function(a){a=(a=a)!=null?a:{};var b=a.bottom_right,c=a.center_x,g=a.center_y,h=a.confidence,i=a.products,j=a.score;a=a.top_left;if(c==null||g==null||j==null)return;c=c*100;g=g*100;i=i==null?void 0:i[0];var k=i==null?void 0:i.score;h=d("ProductTagConfidenceUtils.facebook").toJSEnum(h);var l=i==null?void 0:i.time_range;i=(i=i==null?void 0:i.product_item)!=null?i:{};var m=i.id,n=i.listing_price,o=i.name,p=i.per_unit_price;i=i.primary_listing_photo;b={boundingBoxJSON:JSON.stringify({bottomRight:b,topLeft:a}),boxScore:j,confidence:h,productID:m,productScore:k,timeRange:l};if((h==="VERY_HIGH"||h==="HIGH")&&e.length===0){if(m==null||o==null)return null;j={id:m,image_uri:i==null?void 0:(a=i.image)==null?void 0:a.uri,metadata:{product_tag_type:"AI_HIGH_CONFIDENCE"},name:o,product_per_unit_price:p==null?void 0:p.formatted_text,product_price:n==null?void 0:n.formatted_amount};k=babelHelpers["extends"]({},b,{source:"AI_suggested",taggee:j,x:c,y:g});e.push(k)}else l==null&&h==="LOW"&&f.push(babelHelpers["extends"]({},b,{x:c,y:g}))});b.set(c,{knownSuggestions:e,unknownSuggestions:f})});return b}function b(a,b,c,d){return a>=c-h&&a<=c+h&&b>=d-h&&b<=d+h}g.USER_TAGGING_TOLERANCE=h;g.processAIProductTagSuggestionsQueryResponse=a;g.isPointNearbyPoint=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometAIProductTagSuggestionsUtil.react",["CometAIProductTagSuggestionsUtil_photo.graphql","CometRelay","SharedAIProductTagUtils"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAIProductTagSuggestionsUtil_photo.graphql");function j(a,b){return a.productID===b.productID||d("SharedAIProductTagUtils").isPointNearbyPoint(a.x,a.y,b.x,b.y)}function k(a){return(a=a==null?void 0:(a=a.photo_product_tags)==null?void 0:a.map(function(a){var b;b=(b=a.listing)==null?void 0:b.id;a=a.xy_location;var c=a==null?void 0:a.x;a=a==null?void 0:a.y;return c==null||a===void 0||a===null||b===null||b===void 0?null:{productID:b,x:c,y:a}}).filter(Boolean))!=null?a:[]}function a(a,b){a=d("CometRelay").readInlineData(i,a);b=b==null?void 0:b.get((b=a==null?void 0:a.id)!=null?b:"");var c=k(a);if(!b)return[];a=b==null?void 0:b.filter(function(a){var b=(c==null?void 0:c.filter(function(b){return j({productID:a.productID,x:a.x,y:a.y},b)}).length)>0;return!b});return a}function c(a,b){a=d("CometRelay").readInlineData(i,a);b=b==null?void 0:b.get((b=a==null?void 0:a.id)!=null?b:"");var c=k(a);if(!b)return[];a=b==null?void 0:b.filter(function(a){var b=(c==null?void 0:c.filter(function(b){return j({productID:a.productID,x:a.x,y:a.y},b)}).length)>0;return!b});return a}function e(a){return!a}g.getUntaggedKnownTags=a;g.getUntaggedUnknownTags=c;g.canUsePretagExperience=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("HoveredProductIDContext",["emptyFunction","react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({hoveredProductID:null,setHoveredProductID:c("emptyFunction")});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoTaggingConstants",[],function(a,b,c,d,e,f){"use strict";a=3;b=1;c=94;f.BOX_BORDER_SIZE=a;f.INITIAL_PHOTO_RENDER_SCALE=b;f.TAGGING_BOX_SIZE=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerViewStateContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({highlightedKnownAITagID:null,isProductTagging:!1,knownAITags:null,tagModeEnabled:!1,unknownAITags:null});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPhotoViewerViewStateDispatcherContext",["emptyFunction","react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("emptyFunction"));g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CommerceShoppableContentLandingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("3079");c=b("FalcoLoggerInternal").create("commerce_shoppable_content_landing_click",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ProductTaggingAiEvaluationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744233");c=b("FalcoLoggerInternal").create("product_tagging_ai_evaluation",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);